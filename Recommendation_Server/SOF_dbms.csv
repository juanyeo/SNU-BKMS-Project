,id,title,body,tags
0,70257495,PostgreSQL: How can I check if table was created `WITH OIDS`?,I want to upgrade PostgreSQL database to new version of this database which doesn't support OIDS. Some of the tables was created with . I think it was by <code>default_with_oids</code> setting. Is there information if table was created <code>WITH OIDS</code> in system schema tables <code>information_schema.*</code> or in system catalog tables <code>pg_*</code> or in other placet to upgrade PostgreSQL database to new version of this database which doesn't support OIDS. Some of the tables was created with . I think it was by <code>default_with_oids</code> setting. Is there information if table was created <code>WITH OIDS</code> in system schema tables <code>information_schema.*</code> or in system catalog tables <code>pg_*</code> or in other place?,sql|postgresql
1,70081753,Check if value is not null and not empty in a select query,"I have created a function in Postgresql and specified the returned type as .
This is the code that I have tried:

But it will return NULL for &quot;data&quot; when data is NULL in the table. I was expecting it to return FALSE.
Data column is storing a JSON and I am trying to check if the stored value is not null and not empty
How can I make this code work?",postgresql
2,70028788,Host for postgresql db hosted on GCloud,"Given a postgresql database instance hosted in GCloud, I am not sure if the host to connect to it, e.g., by some SDK or app, is the public IP address, the connection name or the service account. Do some of you know?
FYI the patterns are: the IP address is the standard xxx.xxx.xxx.xxx, the connection name is project_id:region:user and the connection name is user@provider
Best regards,
Bruno Peixota postgresql database instance hosted in GCloud, I am not sure if the host to connect to it, e.g., by some SDK or app, is the public IP address, the connection name or the service account. Do some of you know?
FYI the patterns are: the IP address is the standard xxx.xxx.xxx.xxx, the connection name is project_id:region:user and the connection name is user@provider
Best regards,
Bruno Peixot a postgresql database instance hosted in GCloud, I am not sure if the host to connect to it, e.g., by some SDK or app, is the public IP address, the connection name or the service account. Do some of you know?
FYI the patterns are: the IP address is the standard xxx.xxx.xxx.xxx, the connection name is project_id:region:user and the connection name is user@provider
Best regards,
Bruno Peixota postgresql database instance hosted in GCloud, I am not sure if the host to connect to it, e.g., by some SDK or app, is the public IP address, the connection name or the service account. Do some of you know?
FYI the patterns are: the IP address is the standard xxx.xxx.xxx.xxx, the connection name is project_id:region:user and the connection name is user@provider
Best regards,
Bruno Peixoto",postgresql
3,70027637,Get rows from A table with multiple records where last record has a value of X,"I have 2 tables in mariadb
Table 1
id,did,status
Table 2 id,did,status
Table 1 can contain multiple records with the same did
So first step is I am trying to consolidate this into 1 row with the status being the highest entered id
For example if we have the following 3 rows
0, 9923323344, -1
1, 9923323344, -1
2, 9923323344, 1
Then the row I would get back is
0, 9923323344, 1
My attempt at this is
<pre class=""lang-mysql prettyprint-override""></pre>

Which gives me back wrong results for a specific example I got back
0,2078009797, -1
When I was expecting
0,2078009797, 1
The second part of this is once I have a correct list I would then like to get all of the rows out of this list that have a status of -1
<pre class=""lang-mysql prettyprint-override""><code>SELECT * FROM Table1 WHERE EXISTS (SELECT * FROM Table1 WHERE EXISTS (SELECT * FROM Table1 WHERE carrier='2' ORDER BY id DESC) GROUP BY did) AND status='-1'
</code></pre>

This also returns incorrect results as I get the following back for a specific example
0,2078009797, -1
1,2078009797, -1
2,2078009797, -1
When I was expecting
0,2078009797, 1
And then finally the last part of this is to check the list from the last query against Table2 and see if there is any rows with a status!='-1' AND did=Table1.di

Which gives me back wrong results for a specific example I got back
0,2078009797, -1
When I was expecting
0,2078009797, 1
The second part of this is once I have a correct list I would then like to get all of the rows out of this list that have a status of -1
<pre class=""lang-mysql prettyprint-override""><code>SELECT * FROM Table1 WHERE EXISTS (SELECT * FROM Table1 WHERE EXISTS (SELECT * FROM Table1 WHERE carrier='2' ORDER BY id DESC) GROUP BY did) AND status='-1'
</code></pre>

This also returns incorrect results as I get the following back for a specific example
0,2078009797, -1
1,2078009797, -1
2,2078009797, -1
When I was expecting
0,2078009797, 1
And then finally the last part of this is to check the list from the last query against Table2 and see if there is any rows with a status!='-1' AND did=Table1.did",mysql
4,70113318,Multiple MySQL authentification options,"I, I was wondering if it was possible to use multiple authentification options on a MySQL user. I tried the following CREATE USER STATEMENTS:

None of these queries ran successfully.",mysql
5,70292467,"How do i change my camp ""Tipe_of_element"" with a condition","I want my camp &quot;Tipe_of_element&quot; change with some conditions but i cant figure how to do it
<pre class=""lang-sql prettyprint-override""></pre",mysql
6,70243758,Multi-hop traverse for contact tracing considering descending temporal property values in Cypher,"I am trying to do multi-hop contact tracing in a fictive location-based social network where people can make check-ins to places. I want to find people who make check-ins to a place where a proven infected user (130314) already made check-in. I want to continue the process down the path of check-ins to find out people in the path, but in a temporally ascending order. How can I write the query in a way that middle check-ins are temporally ascending (or descending). This is the code I wrote before and the result:

<a href=""https://i.stack.imgur.com/jc5nD.png"" rel=""nofollow noreferrer"">enter image description here</a>",neo4j|cypher
7,70103094,Using json_build_object in PostgreSQL v14.x with the result of a SELECT statement,"I'm trying to create a  of a JSON object, with a varying number of key/value pairs, in PostgreSQL v14.x, from the results of a SELECT statement.
Using <code>json_agg</code> is returning an array of objects - a key of each rating possibility as they occur, and a value which is the count of all the ratings selected from a table of reviews. Instead of an array, I need an object that has multiple key/value pairs, where the value corresponds to the aggregated <code>count()</code> of the ratings column(s), grouped by product_id. Trying to reuse <code>json_build_object</code> isn't working as expected.
Using:

returns:
<pre><code>product_id | reviews_count
---------------------------
         1 | [{&quot;5&quot; : 5}, {&quot;4&quot; : 4}]
         2 | [{&quot;4&quot; : 4}, {&quot;4&quot; : 4}, {&quot;3&quot; : 3}, {&quot;5&quot; : 5}, {&quot;2&quot; : 2}]
</code></pre>
But I'm looking for:
<pre><code>product_id | reviews_count
---------------------------
         1 | {&quot;5&quot; : 1, &quot;4&quot; : 1}
         2 | {&quot;4&quot; : 2, &quot;3&quot; : 1, &quot;5&quot; : 1, &quot;2&quot; : 1}
</code></pre>
A dynamically created object:
<ul>
<li>in rows by product_id</li>
<li><em>where the values are quantities</em> of Integer ratings (1-5) as they appear in the reviews.list table</li>
<li>in an object rather than an array of objects</li>
</ul>
I am new to SQL / PL/pgSQL language.",sql|postgresql
8,70252391,"Query to get all records, which have children, but only for which the user has permission to all children?","Let say you have a set of tables like this, where you have  which can be associated with multiple <code>Account</code> strings, and <code>Users</code> which can be permissioned to multiple <code>Account</code> strings. Now what we want to do is write a query that will return all <code>Warnings</code> for a <code>User</code>, but the <code>User</code> must have a <code>UserAccountPerms</code> for every <code>Account</code> associated with the user.

One idea we've had is to add a column <code>account_count</code> to the <code>Warnings</code> table and then you would have to run two queries, one which gets for each warning the count of accounts that the user has access to, and then joins that back to the <code>Warnings</code> table to see if the count is the same. Something like:
<pre><code>SELECT *
FROM Warnings w
JOIN
(
    SELECT warning_id, IFNULL(COUNT(*),0) AS acct_perm_count
    FROM WarningAccounts wa LEFT JOIN UserAccountPerms uap ON wa.account_name = uap.account_name
    WHERE uap.user_id = X
    GROUP BY wa.warning_id
) wp ON w.warning_id = wp.warning_id
WHERE w.account_count = acct_perm_count
</code></pre>
The biggest issue with this, is that as the tables get large, and you want to filter the <code>Warnings</code> by other columns, you end up having to copy the predicate into both parts of the statement, i.e.
<pre><code>SELECT *
FROM Warnings w
JOIN
(
    SELECT warning_id, IFNULL(COUNT(*),0) AS acct_perm_count
    FROM Warnings w1 JOIN WarningAccounts wa ON w1.warning_id = wa.warning_id
    LEFT JOIN UserAccountPerms uap ON wa.account_name = uap.account_name
    WHERE 
      uap.user_id = X AND
      w1.start_time &gt; @start_time
    GROUP BY wa.warning_id
) wp ON w.warning_id = wp.warning_id
WHERE w.account_count = acct_perm_count AND
w.start_time &gt; @start_time;
</code></pre>
Because if you don't, it means you are always calculating the permissions for every single <code>Warning</code> all of the time. Any thoughts on how to do this?",mysql
9,70168949,How to access dynamic dropdown in Python,"I was doing a project which has three dropdown menu for company name,location and position and two date Picker in front end and data is store in Python list. How should I integrate it when user select specific options from dropdown menu the data should be filtered and displayed on html page in table formadoing a project which has three dropdown menu for company name,location and position and two date Picker in front end and data is store in Python list. How should I integrate it when user select specific options from dropdown menu the data should be filtered and displayed on html page in table forma doing a project which has three dropdown menu for company name,location and position and two date Picker in front end and data is store in Python list. How should I integrate it when user select specific options from dropdown menu the data should be filtered and displayed on html page in table formadoing a project which has three dropdown menu for company name,location and position and two date Picker in front end and data is store in Python list. How should I integrate it when user select specific options from dropdown menu the data should be filtered and displayed on html page in table format",google-bigquery
10,70066231,"department table returns null values but I want only non-null department record, pls help :)","<a href=""https://i.stack.imgur.com/BFoGu.png"" rel=""nofollow noreferrer"">Obtain the department table where more than 38 employees work.</a>
",postgresql
11,70202934,Aurora Postgres Global DB- how to code without using Temp tables,"my org is migrating to postgres individual instances to global database in aws. I learnt there is a writer and reader instance. Some of my Pg sql statements are using temp tables, where i store data and reuse that.
My question is , after migration, if a user is reading from the READER instance of the global db, how do i handle the use case where i had to create the temp table.
current code

i am not clear how the new code style will be. I thought of writing a CTE. But i use my temp table in multiple places , i am not sure i can do that with CTE.  something like
<pre><code>with CTE(postid)
 select postid from postl
select * from tags where postid in (select postid from cte);

select * from news where postid in (select postid from cte);
</code></pre>",postgresql
12,70244361,"EER Diagram Error 1215, Forward engineer error","Im using MySql Workbench, It somehow said &quot;Cannot add Foreign key Constraint&quot; When it was complete I used the forward engineering function to create a SQL file of my model: EER Diagram
I came to this error when I was going to forward engineer my EER Diagram, I am completely new to this, sorry if I'm being an idiot, and please help.
",mysql
13,70369754,Pivoting a table of unique column values based on column string?,"Not sure how else to phrase the post title, but I have a table of data like:

I'd like to get it into the form of:
<pre><code>ID1  Fields
X1  F1
X2  F2
X2  F3
</code></pre>
Originally I had a form of something like
<code>SELECT ID1, CONCAT_WS(',', IF(F1='Enabled','F1',NULL), IF(F2='Enabled','F2',NULL), ...)</code>
But I found out that mysql doesn't have a string_split() function natively built in to break up the concatenated stuff into an array and just copy the ID1 field downwards.
I've tried using a <code>CASE WHEN</code> here, but it doesn't seem appropriate since I don't want to overwrite the value based on a match, I just want all of the fields. I feel like I'm missing a relatively simple operation that's right in front of me. Any suggestions?",mysql
14,70107340,"It is necessary to extract data from multiple tables in multiple databases and turn them into a large table for query use, requiring real-time data","It is necessary to extract data from multiple tables in multiple databases and turn them into a large table for query use, requiring real-time data
Is there a more reasonable solution
statistical quernecessary to extract data from multiple tables in multiple databases and turn them into a large table for query use, requiring real-time data
Is there a more reasonable solution
statistical quer necessary to extract data from multiple tables in multiple databases and turn them into a large table for query use, requiring real-time data
Is there a more reasonable solution
statistical quernecessary to extract data from multiple tables in multiple databases and turn them into a large table for query use, requiring real-time data
Is there a more reasonable solution
statistical query",mysql
15,70030689,Neo4j Returning Nodes Instead of Relations,"In this Neo4j query, I want to return only relation and that only specific relation called &quot;Permission&quot;. So how can I filter it and get the expected answer?
",neo4j|cypher
16,70193267,Neo4j proper indexes for query,"The next query in a large database takes almost a minute.

I have added an index over the name property from the Channel nodes and saved with that at least 10 seconds, but all in all the query takes like 50 seconds which is a lot.
Any suggestion over which index to create?",neo4j
17,70251343,Need help solving Transaction issue using MySQL,"I' m pretty new in programming so I'm trying to learn more and get use to it.
I need to join my Registration database with the login using transaction so that when the client register, s/he info such as email and password get saved in Login database. I used email as reference in Registration database. I don't really know where I am missing. Any help that will solve my issue is welcome. thanks
Here is my code.
server:

enter code here
register form:
<pre><code>onSubmit = () =&gt; {
    console.log(this.state);
    fetch(&quot;http://localhost:3001/register&quot;, {
      method: &quot;post&quot;,
      headers: { &quot;Content-Type&quot;: &quot;application/json&quot; },
      body: JSON.stringify({
        firstName: this.state.firstName,
        lastName: this.state.lastName,
        email: this.state.email,
        password: this.state.password,
      }),
    })
      .then(async (response) =&gt; {
        console.log(response);
        if (response.status === 200) {
          this.setState({ redirect: true }, () =&gt; {
            this.props.setIsSigin(true);
          });
        }
        if (response.status === 400) {
          const msg = await response.json();
          this.setState({ errorMassage: msg });
        }
      })
      .catch((e) =&gt; {
        console.log(e);
      });
  };
</code></pre>
here is the error massage :
<pre><code>Users/aboulayetchakoura/enrollment_app/node_modules/mysql/lib/protocol/Parser.js:437
      throw err; // Rethrow non-MySQL errors
      ^

ReferenceError: hash is not defined
    at Query.&lt;anonymous&gt; (/Users/aboulayetchakoura/enrollment_app/Back_end/index.js:208:12)
    at Query.&lt;anonymous&gt; (/Users/aboulayetchakoura/enrollment_app/node_modules/mysql/lib/Connection.js:526:10)
    at Query._callback (/Users/aboulayetchakoura/enrollment_app/node_modules/mysql/lib/Connection.js:488:16)
    at Query.Sequence.end (/Users/aboulayetchakoura/enrollment_app/node_modules/mysql/lib/protocol/sequences/Sequence.js:83:24)
    at Query._handleFinalResultPacket (/Users/aboulayetchakoura/enrollment_app/node_modules/mysql/lib/protocol/sequences/Query.js:149:8)
    at Query.OkPacket (/Users/aboulayetchakoura/enrollment_app/node_modules/mysql/lib/protocol/sequences/Query.js:74:10)
    at Protocol._parsePacket (/Users/aboulayetchakoura/enrollment_app/node_modules/mysql/lib/protocol/Protocol.js:291:23)
    at Parser._parsePacket (/Users/aboulayetchakoura/enrollment_app/node_modules/mysql/lib/protocol/Parser.js:433:10)
    at Parser.write (/Users/aboulayetchakoura/enrollment_app/node_modules/mysql/lib/protocol/Parser.js:43:10)
    at Protocol.write (/Users/aboulayetchakoura/enrollment_app/node_modules/mysql/lib/protocol/Protocol.js:38:16)
[nodemon] app crashed - waiting for file changes before starting...

</code></pre>",mysql
18,70256144,How to combine datas with same column and ignore null values in mysql,"I'm just going to ask how to query combine datas with same column and ignore all null values
actual table:

wanted query result :
<pre><code>      first_name  |   last name  |    age   |   unique_id 
          Doe     |     John     |     32   |      111
          Keanu   |     Reeves   |          |      222
  
</code></pre>
Thanks!!",mysql
19,70279638,Running a median aggregate over jsonb and grouping by day/month/year etc,"I'm trying to figure out how to run a median/percentile aggregation over some jsonb, grouped by a truncated date (which is currently an epoch) e.g. by day/month/year.

I've figured out how to truncate the epoch and group the results by month
<pre><code>SELECT
    DATE_TRUNC('month', to_timestamp (timestamp_epoch)) AS month, json_data-&gt;&gt;'value' AS val
FROM datatbl 
GROUP BY month, val
ORDER BY month ASC;
</code></pre>
But can't figure out how to run percentile_disc(0.5) to get the median of each group.
Any help appreciated!!",postgresql
20,70071796,Permission denied after security permission give for everyone postgresql,"I was reading answers about permission denied problems inside terminal when trying to copy data from table and send it to .csv file in postgresl. My problem still occurs even after I change target file(.csv) properties to everyone with read and write checked. I wonder if you have any other suggestions or things that would be useful for me? Could this also be related, because I can't get inside psql with only command  bcs it starts asking for password of my windows User reading answers about permission denied problems inside terminal when trying to copy data from table and send it to .csv file in postgresl. My problem still occurs even after I change target file(.csv) properties to everyone with read and write checked. I wonder if you have any other suggestions or things that would be useful for me? Could this also be related, because I can't get inside psql with only command  bcs it starts asking for password of my windows User?",postgresql
21,70107505,Displaying a Variable within a DIV message,"<ul>
<li>I'm trying to display a stored variable in a div statement</li>
<li>The quotes are cancelling the PHP so I cant echo results in the message</li>
<li>I have a form that submits a member_ID and returns whether or not they have an executive position. If they do have an executive position, a message is displayed along with their corresponding position.</li>
</ul>

<strong>HERE is where I'm trying to display the variable</strong>
<pre><code>    $message .= &quot;&lt;div class='alert alert-success'&gt;This Member is an executive and their role is &lt;?php echo $position; ?&gt;&lt;/div&gt;&quot;;
      } else {
            $message .= &quot;&lt;div class='alert alert-danger'&gt;This Member is not an executive &lt;/div&gt;&quot;;
      }
    }
// closes the connection
$conn = null; 
?&gt;

&lt;!-- begins the HTML code --&gt;
&lt;!doctype html&gt;
&lt;!-- begins the HTML code --&gt;
&lt;!doctype html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;main.css&quot;&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;h1&gt;&lt;center&gt;Which Members Are Executives&lt;/center&gt;&lt;/h1&gt; 
    &lt;div class=&quot;container&quot;&gt;
      &lt;form method=&quot;post&quot; class=&quot;mb-3&quot;&gt;
        &lt;div class=&quot;form-group&quot;&gt;
          &lt;label&gt;Member ID: &lt;/label&gt;
          &lt;select class=&quot;form-control&quot; name=&quot;member-id&quot;&gt;&lt;?php echo $status; ?&gt;&lt;/select&gt;
        &lt;/div&gt;
          &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot; name=&quot;submit&quot;&gt;Submit&lt;/button&gt;
          &lt;/form&gt;
        &lt;?php echo $message; ?&gt;
      &lt;/body&gt;
    &lt;/html&gt;
</code></pre>
Any help is greatly appreciated.",mysql
22,70273742,Why does adding new properties to the graph style sheet not work in Neo4j?,"The Developer guide for <a href=""https://neo4j.com/developer/neo4j-browser/#browser-styling"" rel=""nofollow noreferrer"" title=""Neo4j Browser User Interface Guide - Developer Guides"">Neo4j Browser User Interface</a> says that I can run , export it, modify it and drag it back to change the style. I try changing the default border width, and adding two new properties for nodes: <code>text-align</code> and <code>shape</code>, as explained in <a href=""https://www.w3.org/2001/11/IsaViz/gss/gssmanual.html#styles"" rel=""nofollow noreferrer"" title=""IsaViz/GSS User Manual - Graph Stylesheets"">Graph Stylesheets</a>:
<pre class=""lang-css prettyprint-override""><code>node {
  diameter: 50px;
  color: #A5ABB6;
  border-color: #9AA1AC;
  border-width: 10px;
  text-color-internal: #FFFFFF;
  font-size: 10px;
  text-align: &quot;below&quot;;
  shape: regtangle;
}
</code></pre>
But only the border width changes. Why does the rest not work
But only the border width changes. Why does the rest not work?",neo4j
23,70028923,How to display the different column data into one column,"I was wondering if there is any way that we rearrange this
<pre class=""lang-html prettyprint-override""></pre>

To DISPLAY like this:
<pre class=""lang-html prettyprint-override""><code>level_1|level_2|
-------+-------+
    432|    554| 
    432|   1150|  
    432|   1442|
</code></pre

To DISPLAY like this:
<pre class=""lang-html prettyprint-override""><code>level_1|level_2|
-------+-------+
    432|    554| 
    432|   1150|  
    432|   1442|
</code></pre>",mysql
24,70315803,I am trying to do some query in psql. but I faced this issue. I want to optimize it a little bit. Anyone to help me?,"
I want to do something like this but it doesn't work. so I had to write it like this.
<pre><code>SELECT year, 
(SELECT name FROM users WHERE users.id=packages.id_user_sender) as sender, 
(SELECT name FROM users WHERE users.id=packages.id_user_receiver) as receiver
FROM packages
WHERE (color='blue' or year=2015) and 
id_user_sender NOT IN 
(SELECT id FROM users WHERE address='Taiwan') and
id_user_receiver NOT IN 
(SELECT id FROM users WHERE address='Taiwan')
ORDER BY year DESC, sender DESC;
</code></pre>
In short, I want to combine these lines into one. How can I do this?
<pre><code>id_user_sender NOT IN 
(SELECT id FROM users WHERE address='Taiwan') and
id_user_receiver NOT IN 
(SELECT id FROM users WHERE address='Taiwan')
</code></pre>",sql|postgresql
25,70363607,Find number of matches for substring inside a GROUP_CONCAT in MYSQL,"I have a query with a Group_Concat that returns a set of comma separated numbers. I want to count how many instances of  are in the group_concat.
e.g. <code>1,2,0,1</code> should return <code>0</code>
<code>1,2,0,0,3,0</code> should return <code>1</code>
<code>1,2,0,0,0,6</code> should return <code>2</code>
<code>1,2,0,0,0,6,0,0,1,0</code> should return <code>3</code>
How would I go about doing thise a query with a Group_Concat that returns a set of comma separated numbers. I want to count how many instances of  are in the group_concat.
e.g. <code>1,2,0,1</code> should return <code>0</code>
<code>1,2,0,0,3,0</code> should return <code>1</code>
<code>1,2,0,0,0,6</code> should return <code>2</code>
<code>1,2,0,0,0,6,0,0,1,0</code> should return <code>3</code>
How would I go about doing this?",mysql
26,70072340,I'm getting same values on this query using CASE WHEN,"i'm very new on mysql and i'm trying to get some values on this query using the CASE WHEN validation

Basically i'm saying that i want to create a new row called &quot;<strong>HH</strong>&quot; and inside it i say if &quot;<strong>facturable_actividad</strong>&quot; is 1 then do a sum a get X result. Else i have other row &quot;<strong>NO HH</strong>&quot; where i do the same but &quot;<strong>facturable_actividad</strong>&quot; is 0.
I get this:
<a href=""https://i.stack.imgur.com/zoq7p.png"" rel=""nofollow noreferrer"">query result</a>
As you can see i get the same values for <strong>HH</strong> and <strong>NO HH</strong> (hh means billable), the <strong>NO HH</strong> should be much less than HH and not the same !",mysql
27,70075423,Total comment count between threads with multiple joins,"I'm trying to come up with a query that will return a list of threads between two users and the total number of comments in that thread - through multiple joins.
Looking at <a href=""http://sqlfiddle.com/#!17/fe01cf8/1"" rel=""nofollow noreferrer"">this sqlfiddle</a> I'm not getting the results I'm expecting. I want to return a list of suppliers that submitted a response to a request on an order (the threads) and the total number of comments in that thread.  If there are no comments between a supplier and a buyer it should return 0 for the comments.
Expected Result:

Actual Result:
<pre><code>order_id | supplier_id | buyer_id | comment_count
---------+-------------+----------+--------------
1        | 1           | 2        | 4
1        | 3           | 2        | 4
2        | 1           | 4        | 5
2        | 3           | 4        | 5
2        | 5           | 2        | 5
</code></pre>
Any help would be greatly appreciated.",sql|postgresql
28,70218695,im trying to create a foreign key with my sql but i keep having in a error,"i have two table one has a primary key called idHotel i am making a second table and im trying to declare a foreign key which has idHotel reference
this my code what wrong with it

)
in case you want the reference table code here it is
<a href=""https://i.stack.imgur.com/hf80d.png"" rel=""nofollow noreferrer"">refrence table</a>",mysql
29,70340994,regexp_substr equivalent in postgresql,"I have this code in oracle PLSQL:

I typed the string 'S-C-I-A', but actually, there would go a variable.
I need an equivalent in plpgsql.",sql|postgresql
30,70072899,Separating comma rows,"I came across this link. a very good way to seperate comma joined tags
<a href=""https://stackoverflow.com/questions/26215324/mysql-php-select-count-of-distinct-values-from-comma-separated-data-tags"">MySql PHP select count of distinct values from comma separated data (tags)</a>
I have been able to convert it to PostgreSql and actually get the data
<a href=""http://sqlfiddle.com/#!17/c0535/1"" rel=""nofollow noreferrer"">http://sqlfiddle.com/#!17/c0535/1</a>
The issue is in query 2 and how to get the order ids to match with the accompanying rows
The extras is 16 rows while orderid is 14 rows
Any hel across this link. a very good way to seperate comma joined tags
<a href=""https://stackoverflow.com/questions/26215324/mysql-php-select-count-of-distinct-values-from-comma-separated-data-tags"">MySql PHP select count of distinct values from comma separated data (tags)</a>
I have been able to convert it to PostgreSql and actually get the data
<a href=""http://sqlfiddle.com/#!17/c0535/1"" rel=""nofollow noreferrer"">http://sqlfiddle.com/#!17/c0535/1</a>
The issue is in query 2 and how to get the order ids to match with the accompanying rows
The extras is 16 rows while orderid is 14 rows
Any hele across this link. a very good way to seperate comma joined tags
<a href=""https://stackoverflow.com/questions/26215324/mysql-php-select-count-of-distinct-values-from-comma-separated-data-tags"">MySql PHP select count of distinct values from comma separated data (tags)</a>
I have been able to convert it to PostgreSql and actually get the data
<a href=""http://sqlfiddle.com/#!17/c0535/1"" rel=""nofollow noreferrer"">http://sqlfiddle.com/#!17/c0535/1</a>
The issue is in query 2 and how to get the order ids to match with the accompanying rows
The extras is 16 rows while orderid is 14 rows
Any hel across this link. a very good way to seperate comma joined tags
<a href=""https://stackoverflow.com/questions/26215324/mysql-php-select-count-of-distinct-values-from-comma-separated-data-tags"">MySql PHP select count of distinct values from comma separated data (tags)</a>
I have been able to convert it to PostgreSql and actually get the data
<a href=""http://sqlfiddle.com/#!17/c0535/1"" rel=""nofollow noreferrer"">http://sqlfiddle.com/#!17/c0535/1</a>
The issue is in query 2 and how to get the order ids to match with the accompanying rows
The extras is 16 rows while orderid is 14 rows
Any help",postgresql
31,70208612,how to fix the SQL Error [1093] and Error [1064]?,"I am getting this error

for my this query
<pre><code>update id_card set id_card_status= 'ACTIVE' where code in (select code from ID_CARD ic
left join PROJECT p on p.PROJECT_code=ic.project   and ic.VERSION =p.current_id_card_version 
where ic.project_type in (670 ,671 ,672 ,673) and ic.id_card_status ='DRAFT')
</code></pre>
After searching here I rewrite the query like this
<pre><code>update id_card as table_1, (select code from ID_CARD ic
left join PROJECT p on p.PROJECT_code=ic.project   and ic.VERSION =p.current_id_card_version 
 ) as table_2  
where table_1.code = table_2.code 
and table_1.project_type in (670 ,671 ,672 ,673) 
and table_1.id_card_status ='DRAFT'
Set table_1.id_card_status = 'ACTIVE'
</code></pre>
But I got another error
<pre><code> SQL Error [1064] [42000]: You have an error in your SQL syntax; check the manual that corresponds to your MySQL 
    server version for the right syntax to use near 'where table_1.code = table_2.code 
        and table_1.project_type in (670 ,671 ,672 ,' at line 4
</code></pre>
How can I re-write this  ?",mysql
32,70213941,"Questions regarding Sql count, join, percentage","I have two tables, cloths &amp; shoes. what i am trying to do is extract data from cloths &amp; shoes then count total before calculate percentage.
here is my code.

however, i keep getting syntax error at or near &quot;group&quot;. I tried different solutions, it won't work. I appreciate if someone can help me. Thanks!",postgresql
33,70363048,TRUNCATE locked by Select pg_proc,"The TRUNCATE of a table does not pass because of the following lock:

Thank You for your help
Best Regards,",postgresql
34,70373594,how to query select from distinct from purchase_order_id column and get order by latest version,"I have table like this:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>id</th>
<th>purchase_order_id</th>
<th>version</th>
<th>remarks</th>
<th>status</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>24</td>
<td>1</td>
<td>new</td>
<td>edit</td>
</tr>
<tr>
<td>2</td>
<td>24</td>
<td>2</td>
<td>update</td>
<td>edit</td>
</tr>
<tr>
<td>3</td>
<td>25</td>
<td>1</td>
<td>new</td>
<td>confirm</td>
</tr>
<tr>
<td>4</td>
<td>24</td>
<td>3</td>
<td>update</td>
<td>confirm</td>
</tr>
</tbody>
</table>
</div>
my propose is how to select query for first makesure purchase order id it is distinct and then version it is getting the latest version.
so the propose data is is like this :
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>id</th>
<th>purchase_order_id</th>
<th>version</th>
<th>remarks</th>
<th>status</th>
</tr>
</thead>
<tbody>
<tr>
<td>3</td>
<td>25</td>
<td>1</td>
<td>new</td>
<td>confirm</td>
</tr>
<tr>
<td>4</td>
<td>24</td>
<td>3</td>
<td>update</td>
<td>confirm</td>
</tr>
</tbody>
</table>
</div table like this:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>id</th>
<th>purchase_order_id</th>
<th>version</th>
<th>remarks</th>
<th>status</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>24</td>
<td>1</td>
<td>new</td>
<td>edit</td>
</tr>
<tr>
<td>2</td>
<td>24</td>
<td>2</td>
<td>update</td>
<td>edit</td>
</tr>
<tr>
<td>3</td>
<td>25</td>
<td>1</td>
<td>new</td>
<td>confirm</td>
</tr>
<tr>
<td>4</td>
<td>24</td>
<td>3</td>
<td>update</td>
<td>confirm</td>
</tr>
</tbody>
</table>
</div>
my propose is how to select query for first makesure purchase order id it is distinct and then version it is getting the latest version.
so the propose data is is like this :
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>id</th>
<th>purchase_order_id</th>
<th>version</th>
<th>remarks</th>
<th>status</th>
</tr>
</thead>
<tbody>
<tr>
<td>3</td>
<td>25</td>
<td>1</td>
<td>new</td>
<td>confirm</td>
</tr>
<tr>
<td>4</td>
<td>24</td>
<td>3</td>
<td>update</td>
<td>confirm</td>
</tr>
</tbody>
</table>
</dive table like this:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>id</th>
<th>purchase_order_id</th>
<th>version</th>
<th>remarks</th>
<th>status</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>24</td>
<td>1</td>
<td>new</td>
<td>edit</td>
</tr>
<tr>
<td>2</td>
<td>24</td>
<td>2</td>
<td>update</td>
<td>edit</td>
</tr>
<tr>
<td>3</td>
<td>25</td>
<td>1</td>
<td>new</td>
<td>confirm</td>
</tr>
<tr>
<td>4</td>
<td>24</td>
<td>3</td>
<td>update</td>
<td>confirm</td>
</tr>
</tbody>
</table>
</div>
my propose is how to select query for first makesure purchase order id it is distinct and then version it is getting the latest version.
so the propose data is is like this :
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>id</th>
<th>purchase_order_id</th>
<th>version</th>
<th>remarks</th>
<th>status</th>
</tr>
</thead>
<tbody>
<tr>
<td>3</td>
<td>25</td>
<td>1</td>
<td>new</td>
<td>confirm</td>
</tr>
<tr>
<td>4</td>
<td>24</td>
<td>3</td>
<td>update</td>
<td>confirm</td>
</tr>
</tbody>
</table>
</div table like this:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>id</th>
<th>purchase_order_id</th>
<th>version</th>
<th>remarks</th>
<th>status</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>24</td>
<td>1</td>
<td>new</td>
<td>edit</td>
</tr>
<tr>
<td>2</td>
<td>24</td>
<td>2</td>
<td>update</td>
<td>edit</td>
</tr>
<tr>
<td>3</td>
<td>25</td>
<td>1</td>
<td>new</td>
<td>confirm</td>
</tr>
<tr>
<td>4</td>
<td>24</td>
<td>3</td>
<td>update</td>
<td>confirm</td>
</tr>
</tbody>
</table>
</div>
my propose is how to select query for first makesure purchase order id it is distinct and then version it is getting the latest version.
so the propose data is is like this :
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>id</th>
<th>purchase_order_id</th>
<th>version</th>
<th>remarks</th>
<th>status</th>
</tr>
</thead>
<tbody>
<tr>
<td>3</td>
<td>25</td>
<td>1</td>
<td>new</td>
<td>confirm</td>
</tr>
<tr>
<td>4</td>
<td>24</td>
<td>3</td>
<td>update</td>
<td>confirm</td>
</tr>
</tbody>
</table>
</div>",sql|postgresql
35,70080423,Left Join using parameter not using table,"I need to give some Explanation to my junior about using Left Join between 2 Table. ( i just have 2 years exp on programing).
He using  join query using input parameter to generate report. the parameter is 
Here my junior query:

this is my query
<pre><code>Select A.* , B.some_column  
FROM workflow.flows_nodes a
left join workflow.flows_edges e on (e.fle_flh_id=a.fln_flh_id and e.fle_edges_target = a.fln_nodes_id )
where a.fln_flh_id = v_workflow_id and a.fln_nodes_id='start'
</code></pre>
i am trying to explaining to my junior about this left join between 2 table using my query.
he argue about the same result and more easy to debug. but the performance is dull.
Please help me to give my junior good evidance or explanation with some trusted source.
since i trying using query plan doesnt work because we using minimum data.
Thank You",postgresql
36,70136208,How to list rows with duplicate columns,"I have a table with the fields :

I want to get all records with <code>name, birthday</code> duplicate like:
<pre><code>id | name | birthday   | clinic
 1 | mary | 2020-01-01 | clin 1
 2 | mary | 2020-01-01 | clin 1
 3 | mary | 2020-01-01 | clin 2
 5 | pete | 2020-01-05 | clin 1
 6 | pete | 2020-01-05 | clin 2
 7 | pete | 2020-01-05 | clin 3
</code></pre>
Mary and Pete have more than one record with same name and birthday",postgresql
37,70166562,search from table with minimum value,"i have this

this is my table
<a href=""https://i.stack.imgur.com/oBLz6.jpg"" rel=""nofollow noreferrer"">enter image description here</a>
when I say bedroom count &gt;=1 then min price is in row where bedroom count is 2 but I have bedroom with 1 which is minimum ,I want to give priority to bed I mean if write bedroom 2 then it can have bedroom counts starting from 5 which is minimum value then I need to calc min price from rows where bed is 5 for example
okay sorry guys I solved this is answer in case someone needs it
<pre><code>     select  bedroom_count, bathroom_count , monthly_rent ,property_id 
                                        from (select distinct bedroom_count,bathroom_count,monthly_rent,property_id, FIRST_VALUE(bedroom_count) OVER(ORDER BY bedroom_count) priority_bedroom
                                        from property_units pu where pu.property_id = 522 and pu.removed =false and pu.bedroom_count&gt;=1) dd 
                                        where  bedroom_count &gt;=1 and bedroom_count&lt;= priority_bedroom 
                                        
</code></pre>",postgresql
38,70190330,In Postgres 10 how to roll multiple matching rows into a single row,"Using Postgres 10
I created simple example to try and demonstrate I have table1, and table 2, table 2 has fk into table1, so in example below rows 1,2,3 from table 2 link to 1 in table 1, and row 4 links to 2, and rows 5,6,7 from table 2 link to 3 in table 1
table1

table2
<pre><code>pk   fk   name
-----------------------
1  | 1  | blue
2  | 1  | yellow
3  | 1  | green
4  | 2  | red
5  | 3  | green
6  | 3  | yellow
7  | 3  | blue
</code></pre>
What I would like to do is roll the value of table2 into one row get to the following result (or similar) so that I have one row with all the values
<pre><code>fred blueyellowgreen
jane red
tom  blueyellowgreen
</code></pre>
the reason is I need to find where there are two sets of rows in table 2 with the same value, I can order by value to get the same order.",sql|postgresql
39,70194197,Counting the number rows returned in Group by,"The task was to group it by member_id and to filter it out, by selecting only the member_id where there is at least one slot booked. I expected the result as 30. But it's printing 30 member_id individually. What is I am doing wrong?
",sql|postgresql
40,70228018,SQL model follows to retrieve previous notifications,"These are my tables:

I am having trouble modeling the follow table to achieve the following:
1)Client can fetch all the posts from authors which he is currently following
2)Client can follow then unfollow then follow and so on...
3)Whenever an author adds a post, clients receive a notification for the post(this is done through another service(firebase) which doesn't provide a way to fetch previous notifications)
4)Client can fetch all previous notifications he received(i'm having trouble with this point)
Does anybody have an idea how to model my tables to be able to query for the last point.
Thank you",sql|postgresql
41,70284723,Unable to fulltext search Cypher from Node.js driver,"I created a fulltext search index on  nodes with their <code>name</code> and <code>userName</code> properties with the following query:

However, I am unable to get my queries to return anything but <code>undefined</code> in the Node.js driver. What is strange is that the same query will return the expected (and correct) result in my open browser session.
The search query is this:
<pre><code>CALL db.index.fulltext.queryNodes(&quot;userSearch&quot;, $searchTerm) YIELD node, score
RETURN node, score
</code></pre>
Again, this works in the browser but does not work when called from Node.js. I'm not getting any errors or anything--the result of the query is just undefined.
My two theories:
<ol>
<li>Is there an install missing here (that the browser has?) Do I need to install <code>Lucene</code> or <code>Apache</code>?</li>
<li>Does the index somehow need to take time to update? I created it only a short while ago and with the browser.</li>
</ol>",neo4j|cypher
42,70376812,get user list along with database granted list - PostgreSQL,"We have 3 columns 
We want user list along with their roles assigned and database name on which they have access granted.
output should be like below
<code>user_id | user_role | datname(dbname)</code>
I don't see any table so that I can join . I checked pg_roles/pg_user but we get only user list and their assigned role but not database name. also checked pg_database but no luck
Thankve 3 columns 
We want user list along with their roles assigned and database name on which they have access granted.
output should be like below
<code>user_id | user_role | datname(dbname)</code>
I don't see any table so that I can join . I checked pg_roles/pg_user but we get only user list and their assigned role but not database name. also checked pg_database but no luck
Thanks",postgresql
43,70243680,Should I trust my LDBC results on neo4j? Error recording runtime - reported value exceeds maximum allowed. Time reported as maximum,"I am trying to run the LDBC Benchmark (SF100) on an experimental JVM, but when I am trying to use some really big numbers
<ul>
<li>operation_count=168649</li>
<li>ldbc.snb.interactive.LdbcQuery5_freq=78</li>
<li>ldbc.snb.interactive.LdbcQuery5_enable=true</li>
<li>all LdbcShortQueries &amp; LdbcUpdates activated</li>
</ul>
I am getting the following Error after the 1:30h
<blockquote>
OperationTypeMetricsManager  Error recording runtime - reported value exceeds maximum allowed. Time reported as maximum.
</blockquote>
as you can se bellow and my question is, should i trust my results??
",neo4j|cypher
44,70267391,MYSQL Query to display meta values in a row,"I'm looking for a more efficient way to write this query which displays meta values for an order in a single row. I can't think of a solution myself but before I redesign the database I wanted to see if anyone has any ideas to avoid 11 INNER JOINs. Here is my query which currently takes 20 seconds to load a single result (which is obviously not practical):
",mysql
45,70271967,MYSQL - Subquery returns more than 1 row - how to duplicate row with same userId?,"Here is my subQuery, I cannot understand the error : 1242 - Subquery returns more than 1 row

ERROR : 1242 - Subquery returns more than 1 row
<pre><code>SELECT DISTINCT u.id as userId,  
  (
                SELECT a10.description 
                FROM Export exp
</code></pre>
Thank you for your help",mysql
46,70357943,Statistic of sales per day in the last 30 day,"I have a quest that is about doing a statistic of the sales per day in the last 30 day...i've found a way to only show the last month:

the columns in purchase are just id, value, date, cashier and store id what do you think is the best way to do this?
i have this and i don't know way it is not working...i'm new in postgresql so please don't be offended by this",sql|postgresql
47,70308545,Neo4j and CVE-2021-44228,"Is Neo4j impacted by CVE-2021-44228? Which versions of Neo4j are concerned?
Is it possible to mitigate the vulnerability by setting the log4j2.formatMsgNoLookups parameter as described in this <a href=""https://www.randori.com/blog/cve-2021-44228/"" rel=""nofollow noreferrer"">post</a>4j impacted by CVE-2021-44228? Which versions of Neo4j are concerned?
Is it possible to mitigate the vulnerability by setting the log4j2.formatMsgNoLookups parameter as described in this <a href=""https://www.randori.com/blog/cve-2021-44228/"" rel=""nofollow noreferrer"">post</a>o4j impacted by CVE-2021-44228? Which versions of Neo4j are concerned?
Is it possible to mitigate the vulnerability by setting the log4j2.formatMsgNoLookups parameter as described in this <a href=""https://www.randori.com/blog/cve-2021-44228/"" rel=""nofollow noreferrer"">post</a>4j impacted by CVE-2021-44228? Which versions of Neo4j are concerned?
Is it possible to mitigate the vulnerability by setting the log4j2.formatMsgNoLookups parameter as described in this <a href=""https://www.randori.com/blog/cve-2021-44228/"" rel=""nofollow noreferrer"">post</a>?",neo4j
48,70075805,Postgres how to loop xmlelement,"How can i loop the ServiceID in below SQL ? Below SQL only able to return 1 row instead of multiple ServiceID with masslineinfo ?
<pre class=""lang-sql prettyprint-override""></pre>

<pre><code>    &lt;masslineinfo&gt;
        &lt;serviceid&gt;4577875&lt;/serviceid&gt;
    &lt;/masslineinfo&gt;
    &lt;masslineinfo&gt;
        &lt;serviceid&gt;12345&lt;/serviceid&gt;
    &lt;/masslineinfo&gt;
</code></pre>
Thanks.",postgresql
49,70251727,Neo4j- typical query - returning a node with the most appearances,"I have to make a query that returns me a club or clubs, where play the most amount of players that are not representing the country, from where the club is.
My query works fine, but I want to filter, so my result is ONLY clubs that size is the most.
As for now the biggest size is 4, and I have 4 clubs that have 4 players which were supposed to be there.
The only thing comes to my mind to filter it out was by using  in the end, but then, I cut out three clubs, that also fill the predicate.

edit:
I managed to do something like this, don't know if it's optimal, but it is working:
<pre><code>MATCH (c: Club)&lt;-[r: PLAYS_FOR]-(p: Player)-[r2: REPRESENTS]-&gt;(n: NationalTeam)
WHERE c.country&lt;&gt;n.country
WITH c,collect(p.name) as list_players,n.country as country,size(collect(p.name)) as size
WITH c,list_players,country,size ORDER BY size DESC LIMIT 1
WITH size
MATCH (c: Club)&lt;-[r: PLAYS_FOR]-(p: Player)-[r2: REPRESENTS]-&gt;(n: NationalTeam)
WHERE c.country&lt;&gt;n.country
WITH size,c,collect(p.name) as list_players,n.country as country,size(collect(p.name)) as size2 WHERE size(collect(p.name)) = size
RETURN c,list_players,country,size
</code></pre>",neo4j
50,70121113,Postgres: Transform Continous Rows Into a Discrete Rows,"I'm not sure wether the title is correct . I've spent some time to find the best title suited for this case.
Let say. I have data in this format:

The output required will be
<pre><code>+------+----------+-----------------+
| room | occupied |   Period        |
+------+----------+-----------------+
| A    | NO       | 2021-11-1 18:00 |
| B    | NO       | 2021-11-1 18:00 |
| A    | NO       | 2021-11-1 19:00 |
| B    | NO       | 2021-11-1 19:00 |
| A    | YES      | 2021-11-1 20:00 |
| B    | NO       | 2021-11-1 20:00 |
| A    | YES      | 2021-11-1 21:00 |
| B    | NO       | 2021-11-1 21:00 |
| A    | YES      | 2021-11-1 22:00 |
| B    | NO       | 2021-11-1 22:00 |
| A    | YES      | 2021-11-1 23:00 |
| B    | YES      | 2021-11-1 23:00 |
| A    | YES      | 2021-11-2 00:00 |
| B    | YES      | 2021-11-2 00:00 |
| A    | NO       | 2021-11-2 01:00 |
| B    | YES      | 2021-11-2 01:00 |
| A    | NO       | 2021-11-2 02:00 |
| B    | YES      | 2021-11-2 02:00 |
+------+----------+-----------------+
</code></pre>
The output generated using this logic:
<ul>
<li>When during that period. the room is changed to <code>occupied</code>. results.occupied will be <code>YES</code></li>
<li>when during that period. no changes, the change is taken from the previous change.</li>
<li>When during that period. the room is changed from <code>occupied</code> to <code>free</code>. The next period (next row) results.&quot;occupied&quot; will be <code>NO</code></li>
</ul>",postgresql
51,70177997,MySql Retail Stores Inventory record,"I am wanting to create a database for a retail chain. I have created a database with the following tables:

I am wanting to have add annual inventories for each store and warehouse in the database. This inventory needs to include the date, location, quantity of products. However I am not sure how to properly go about this. I have tried looking for examples online yet found nothing helpful to me.
I have made a simple inventory table:
<pre><code>+------------+-------------+------+-----+---------+-------+
| Field      | Type        | Null | Key | Default | Extra |
+------------+-------------+------+-----+---------+-------+
| pro_no     | int         | NO   | PRI | NULL    |       |
| quantity   | int         | NO   |     | NULL    |       |
| name       | varchar(20) | NO   |     | NULL    |       |
| in_stock   | boolean     | NO   |     | NULL    |       |
+------------+-------------+------+-----+---------+-------+
</code></pre>
Another issue is I want to create a function that determines the closest warehouse to a store for a given product. I am not also sure how to go about this either. I have seen some people use actual coordinates for this.
Any help with the conception of the design will be much appreciated.",mysql
52,70282264,Neo4J 4.3 upgrade issue,"We have migrated our application to Java 11 and Neo4j to 4.3
While executing below query we are getting issue.
<strong>Query:</strong>

<strong>Error Message:</strong>
<pre></pre>
<strong>I have also tried to execute above query on Neo4j desktop but still getting same issue. We have all required jars in database plugin including compatible apoc plugin too.</strong>",neo4j
53,70063217,How can I get data in the form I need?,"I have a Nodejs server and I am using PostgreSQL, the database structure is shown below.
I have a request:

Which returns data in the form:
<pre><code>{
  lessons: [{chapter, id, lesson_text, position},{chapter, id, lesson_text, position}...],
  tests: [{options: [{id, option, is_answer, test_id}...] quest},{options: [{id, option, is_answer, test_id}...] quest}...]
}
</code></pre>
How can I convert the data to this view:
<pre><code>{
  lessons: [ {chapter, id, lesson_text, position},{chapter, id, lesson_text, position}... ],
  tests: [ {chapter,time,position, quests: [ {quest, options: [{id, option, is_answer,test_id}...]} ]}... ]
}
</code></pre>
My database structure:
<a href=""https://i.stack.imgur.com/XcdLj.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/XcdLj.png"" alt=""database structure"" /></a>",sql|postgresql
54,70230356,"function or extension to convert text representation of numbers (one, two and a half) to actual numbers?","I'm working with PostgreSQL 14.1 and I would like to know if there is some kind of extension, function, or any neat way to convert text representation of numbers to actual numbers.
which means to convert  to <code>2.5</code> or <code>twenty two</code> to <code>22</code>
any ideas orking with PostgreSQL 14.1 and I would like to know if there is some kind of extension, function, or any neat way to convert text representation of numbers to actual numbers.
which means to convert  to <code>2.5</code> or <code>twenty two</code> to <code>22</code>
any ideas ?",postgresql
55,70347804,Problem Linking Bigquery with Google Sheet file: I can only read the first sheet,"In Bigquery Console I created a new external table that is linked to a Google Sheet file.
Even if I choose the proper sheet's link there is no way I can pull that information into my table: I can only reach the first one.
I am creating my file choosing 'Drive' as a Source and copying everything that comes next to my FILE_ID:
<a href=""https://docs.google.com/spreadsheets/d/FILE_ID/edit#gid=SHEET_ID"" rel=""nofollow noreferrer"">https://docs.google.com/spreadsheets/d/FILE_ID/edit#gid=SHEET_ID</a>
With this example I would introduce something like this: FILE_ID/edit#gid=SHEET_ID
But I can't get the specified sheet I need.
Am I doing something wrong herequery Console I created a new external table that is linked to a Google Sheet file.
Even if I choose the proper sheet's link there is no way I can pull that information into my table: I can only reach the first one.
I am creating my file choosing 'Drive' as a Source and copying everything that comes next to my FILE_ID:
<a href=""https://docs.google.com/spreadsheets/d/FILE_ID/edit#gid=SHEET_ID"" rel=""nofollow noreferrer"">https://docs.google.com/spreadsheets/d/FILE_ID/edit#gid=SHEET_ID</a>
With this example I would introduce something like this: FILE_ID/edit#gid=SHEET_ID
But I can't get the specified sheet I need.
Am I doing something wrong heregquery Console I created a new external table that is linked to a Google Sheet file.
Even if I choose the proper sheet's link there is no way I can pull that information into my table: I can only reach the first one.
I am creating my file choosing 'Drive' as a Source and copying everything that comes next to my FILE_ID:
<a href=""https://docs.google.com/spreadsheets/d/FILE_ID/edit#gid=SHEET_ID"" rel=""nofollow noreferrer"">https://docs.google.com/spreadsheets/d/FILE_ID/edit#gid=SHEET_ID</a>
With this example I would introduce something like this: FILE_ID/edit#gid=SHEET_ID
But I can't get the specified sheet I need.
Am I doing something wrong herequery Console I created a new external table that is linked to a Google Sheet file.
Even if I choose the proper sheet's link there is no way I can pull that information into my table: I can only reach the first one.
I am creating my file choosing 'Drive' as a Source and copying everything that comes next to my FILE_ID:
<a href=""https://docs.google.com/spreadsheets/d/FILE_ID/edit#gid=SHEET_ID"" rel=""nofollow noreferrer"">https://docs.google.com/spreadsheets/d/FILE_ID/edit#gid=SHEET_ID</a>
With this example I would introduce something like this: FILE_ID/edit#gid=SHEET_ID
But I can't get the specified sheet I need.
Am I doing something wrong here?",google-bigquery
56,70174463,StackOverflow Public Dataset is Old?,"Is the public dataset on BigQuery for StackOverflow no longer being maintained?  I'm trying to search for tags used in 2020-2021, but when I write a very simple query, I get no results?
For example,

Returns no rows.
It looks like there are no posts in the dataset from 2018 onwards?  Or am I doing something wrong?",google-bigquery
57,70203313,MySQL pivoting column names based on column values?,"I have a table of data like:

I'd like to get it into the form of:
<pre><code>ID1  Fields
X1.  F1
X2.  F2,F3
</code></pre>
But I'm having writers block on how to approach the problem. Is this something a pivot would help with? Self-joining the table? I've tried some group_concat() aggregations on if() statements to no avail, similarly with grouping on case whens.",mysql
58,70311478,GROUP BY a value that is not part of the query's filter,"I have a table with information from email marketing campaigns. On that table (you can see the schema <a href=""https://stackoverflow.com/questions/70309288/pivoting-columns-from-struct-type-complex-schema/70310677"">here</a>) I have several different columns about the users who received this campaign. One of the most important columns from this table is properties.status, because it's where I can get information about user's interactions with our campaigns.
So, for example, if the email has been sent to the user, a row is created on that table and the value for the &quot;properties.status&quot; column is &quot;enqueued&quot;. If the user opens the email, another row is created but the value now is &quot;opened&quot;. If they click, value for properties.status is &quot;clicked&quot;, etc.
I am trying to generate a query that will have as the output the total number of people who have opened and clicked on every campaign that we sent.
I did manage to pivot &quot;Opened&quot; and &quot;Clicked&quot;, as you can see <a href=""https://stackoverflow.com/questions/70309288/pivoting-columns-from-struct-type-complex-schema/70310677"">here</a>. But now I have a new challenge.
I want to group everything by the month where the emails were sent, so basically having an output:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>Month*</th>
<th>Campaign_Name</th>
<th>Subject</th>
<th>Opened</th>
<th>Clicked</th>
</tr>
</thead>
</table>
</div>
<ul>
<li>Month would be (MONTH FROM timestamp AT TIME ZONE &quot;UTC&quot;)</li>
</ul>
What's being challenged for my is that I want to group the timestamp column when the campaign.status was delivered, but &quot;opened&quot; and &quot;clicked&quot; are other values for properties.status.
I tried to do:

But then I get:
Unrecognized name: opened at [20:29]",google-bigquery
59,70207577,PostgreSQL query for tvshows with multiple genres,"I'm trying to create a database of tvshows that I have personally watched.
I have 3 tables:
tvshow_list: id, title, episodes, year
genres: id, genre name
genres_in_tvshows: genreid, tvshow id
I want to have a list which would show the tvshow id, title, episodes, and the genres. I cannot find a psql query that shows me how to 1. &quot;group_concat&quot; the genres so more than one shows and 2. join the tableying to create a database of tvshows that I have personally watched.
I have 3 tables:
tvshow_list: id, title, episodes, year
genres: id, genre name
genres_in_tvshows: genreid, tvshow id
I want to have a list which would show the tvshow id, title, episodes, and the genres. I cannot find a psql query that shows me how to 1. &quot;group_concat&quot; the genres so more than one shows and 2. join the tablerying to create a database of tvshows that I have personally watched.
I have 3 tables:
tvshow_list: id, title, episodes, year
genres: id, genre name
genres_in_tvshows: genreid, tvshow id
I want to have a list which would show the tvshow id, title, episodes, and the genres. I cannot find a psql query that shows me how to 1. &quot;group_concat&quot; the genres so more than one shows and 2. join the tableying to create a database of tvshows that I have personally watched.
I have 3 tables:
tvshow_list: id, title, episodes, year
genres: id, genre name
genres_in_tvshows: genreid, tvshow id
I want to have a list which would show the tvshow id, title, episodes, and the genres. I cannot find a psql query that shows me how to 1. &quot;group_concat&quot; the genres so more than one shows and 2. join the tables",postgresql
60,70248462,How to select specific fields from pivot table that matches exact values,"I have 3 tables
<ul>
<li>conversations - I save basic information about the conversation</li>
<li>users - Infor about user</li>
<li>conversation_users - table that saves information about which user belongs to which conversation</li>
</ul>
In my case user &quot;1&quot; wants to get a conversation between him and users: 3, 4, 5. So I'm trying to fetch conversation_id = 12. First I need to find all conversations user &quot;1&quot; belongs to, that is conversation_id &quot;1&quot; and &quot;12&quot;.
Next I'm executing . How do I pick rows marked in red rectangle?
<a href=""https://i.stack.imgur.com/vQlR0.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/vQlR0.png"" alt=""enter image description here"" /></ae 3 tables
<ul>
<li>conversations - I save basic information about the conversation</li>
<li>users - Infor about user</li>
<li>conversation_users - table that saves information about which user belongs to which conversation</li>
</ul>
In my case user &quot;1&quot; wants to get a conversation between him and users: 3, 4, 5. So I'm trying to fetch conversation_id = 12. First I need to find all conversations user &quot;1&quot; belongs to, that is conversation_id &quot;1&quot; and &quot;12&quot;.
Next I'm executing . How do I pick rows marked in red rectangle?
<a href=""https://i.stack.imgur.com/vQlR0.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/vQlR0.png"" alt=""enter image description here"" /></a>",mysql
61,70253240,Postgresql - selecting from one partition is much slower then selecting from another,"I have a simple table

with two partitions by a boolean field <code>IsProcessed</code>.
<pre><code>CREATE TABLE public.&quot;ToProcessVideoIds_processed&quot; PARTITION OF public.ToProcessVideoIds 
FOR VALUES IN (true);


CREATE TABLE public.&quot;ToProcessVideoIds_unprocessed&quot; PARTITION OF 
public.ToProcessVideoIds FOR VALUES IN (false);
</code></pre>
when I filter by <code>IsProcessed</code> (or when I select directly from partition) it's much faster for <code>processed</code> partition 0.06ms vs 27ms
<pre><code>explain (ANALYZE, TIMING, COSTS, BUFFERS, VERBOSE)    select &quot;Id&quot; from &quot;ToProcessVideoIds_unprocessed&quot; limit 50;
Limit  (cost=0.00..0.81 rows=50 width=12) (actual time=27.350..27.358 rows=50 loops=1)
  Output: &quot;Id&quot;
  Buffers: shared hit=7265
  -&gt;  Seq Scan on public.&quot;ToProcessVideoIds_unprocessed&quot;  (cost=0.00..317346.99 rows=19697899 width=12) (actual time=27.349..27.353 rows=50 loops=1)
        Output: &quot;Id&quot;
        Buffers: shared hit=7265
Planning Time: 0.044 ms
Execution Time: 27.373 ms
</code></pre>
_
<pre><code>explain (ANALYZE, TIMING, COSTS, BUFFERS, VERBOSE)    select &quot;Id&quot; from &quot;ToProcessVideoIds_processed&quot; limit 50;
Limit  (cost=0.00..0.77 rows=50 width=12) (actual time=0.040..0.049 rows=50 loops=1)
  Output: &quot;Id&quot;
  Buffers: shared hit=1
  -&gt;  Seq Scan on public.&quot;ToProcessVideoIds_processed&quot;  (cost=0.00..294045.98 rows=19038398 width=12) (actual time=0.040..0.044 rows=50 loops=1)
        Output: &quot;Id&quot;
        Buffers: shared hit=1
Planning Time: 0.030 ms
Execution Time: 0.059 ms
</code></pre>
Did I configure something incorrectly? Is there a way to select from _unrpocessed partition with the same performance?
Records are updated all the time (unprocessed become processed) - could this affect anything?
There is roughly the same amount of data in both partitions.",postgresql
62,70255823,Should I not install MYSQL community server in my device that has my own application running and sell that device without exposing my source code?,"I have a device which I am plannig to sell along with my application.
My application is a mysql client.
Also, I have installed mysql server in my device.
My application which is a mysql client interacts with this mysql server I have installed in my device.
Mysql - community version
Version - 8.0.27
As per the licensing can I have this without exposing my application's source code to the person I sell? Each one interprets this GPL v2 in their own way. Please help me with this a device which I am plannig to sell along with my application.
My application is a mysql client.
Also, I have installed mysql server in my device.
My application which is a mysql client interacts with this mysql server I have installed in my device.
Mysql - community version
Version - 8.0.27
As per the licensing can I have this without exposing my application's source code to the person I sell? Each one interprets this GPL v2 in their own way. Please help me with thise a device which I am plannig to sell along with my application.
My application is a mysql client.
Also, I have installed mysql server in my device.
My application which is a mysql client interacts with this mysql server I have installed in my device.
Mysql - community version
Version - 8.0.27
As per the licensing can I have this without exposing my application's source code to the person I sell? Each one interprets this GPL v2 in their own way. Please help me with this a device which I am plannig to sell along with my application.
My application is a mysql client.
Also, I have installed mysql server in my device.
My application which is a mysql client interacts with this mysql server I have installed in my device.
Mysql - community version
Version - 8.0.27
As per the licensing can I have this without exposing my application's source code to the person I sell? Each one interprets this GPL v2 in their own way. Please help me with this.",mysql
63,70276789,Creating a function which returns a table where different columns come from different tables,"I would like to write a function in  with 2 parameters which returns a table. This table will have two columns (<code>column1</code> and <code>column2</code>), and for each of these columns I would need to get information from a column coming from another table (<code>table1</code> or <code>table2</code>) according to the parameters of the function (<code>param1</code> and <code>param2</code>). Something like this:

My problem is that if I run this function with the two parameters, for example
<pre><code>SELECT trial('car', 'house');
</code></pre>
or
<pre><code>SELECT * FROM trial('car', 'house');
</code></pre>
I get an error like this:
<pre><code>ERROR:  structure of query does not match function result type
DETAIL:  Number of returned columns (1) does not match expected column count (2).
</code></pre>
I can imagine that the problem is the way I do the QUERY, but I can't find the proper manner to do it. How can I query from 2 tables to fill my column1 and column2, if the two tables from which I want to query have nothing in common and I can't do a JOIN?
Thanks a lot in advance!
Sergio",sql|postgresql
64,70353121,How to show all dates on a PSQL running sum in a timeframe,"I am doing this running sum using PSQL where I would like to get daily totals of users subscribed to a service. With my current query, I get the cumulative sum in dates where clients are subscribed, but I can't get to see the values of the dates where new clients are not being subscribed. I will like to have a list of all dates with the corresponding total of clients subscribed every day as shown in the example below

Current Result:
<a href=""https://i.stack.imgur.com/MtY16.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/MtY16.png"" alt=""enter image description here"" /></a>
Expected Result:
<a href=""https://i.stack.imgur.com/dOKtn.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/dOKtn.png"" alt=""enter image description here"" /></a>",sql|postgresql
65,70317687,Ensure an a timestamp column (event) is happening X times during Y period,"Fiddle in this <a href=""https://www.db-fiddle.com/f/8STbBxhQi72W65g59L1ccn/0"" rel=""nofollow noreferrer"">link</a>.
I have a table with user_id and action_time:
<strong>Schema (PostgreSQL v13)</strong>

I want to check if a user has done at least one action every month for 6 months.
By using this I get how many actions a user has done every month:
<pre><code>SELECT date_trunc('month',action_time) AS month_parth, user_id,COUNT(*) AS 
monthly_actions FROM actions
GROUP BY month_parth,user_id
ORDER BY user_id,month_parth ASC;
</code></pre>
And obtain the following:
<strong>Query #1</strong>
<pre><code>SELECT date_trunc('month',action_time) AS month_parth, user_id,COUNT(*) AS monthly_actions FROM actions
GROUP BY month_parth,user_id
ORDER BY user_id,month_parth ASC;
</code></pre>
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>month_parth</th>
<th>user_id</th>
<th>monthly_actions</th>
</tr>
</thead>
<tbody>
<tr>
<td>2015-01-01T00:00:00.000Z</td>
<td>1</td>
<td>6</td>
</tr>
<tr>
<td>2015-02-01T00:00:00.000Z</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td>2015-03-01T00:00:00.000Z</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td>2015-05-01T00:00:00.000Z</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td>2015-06-01T00:00:00.000Z</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td>2015-01-01T00:00:00.000Z</td>
<td>2</td>
<td>1</td>
</tr>
<tr>
<td>2015-03-01T00:00:00.000Z</td>
<td>2</td>
<td>1</td>
</tr>
<tr>
<td>2015-04-01T00:00:00.000Z</td>
<td>2</td>
<td>1</td>
</tr>
<tr>
<td>2015-05-01T00:00:00.000Z</td>
<td>2</td>
<td>4</td>
</tr>
</tbody>
</table>
</div>
The user_id 1 has clearly at least one action per month (peaking at 6 on January), but the 2 has some gaps.
I am not sure how to go here, if I would need to do a new query grouping and using HAVING or how to move next.
The desired result could be a simple dummy column with TRUE/FALSE for the users that have at least one action per month during 6 months.",postgresql
66,70342875,postgres parallel udf over whole column/s with rest api call,"<h2>Goal</h2>
I'm trying to get postgres to parallel process a REST API call across a whole column of data (~20 million rows).
<h2>First Attempt</h2>
a UDF to be called on the column, like so:

based on <a href=""https://stackoverflow.com/a/58426222/3517025"">this SO answer</a> I'm thinking (code's got kinks, don't grock):
<pre class=""lang-sql prettyprint-override""><code>CREATE OR REPLACE FUNCTION public.py_pgrest(data_to_enrich text)
 RETURNS text
 LANGUAGE plpython2u
AS $function$
    import urllib2
    from urllib2 import Request, urlopen, URLError, HTTPError

    uri = &quot;http://enrichment.api/q=&quot; + data_to_enrich
    req = Request(uri)
    
    try:
        enriched_data = json.loads(urlopen(req).read()).get('my_enrichment_field')
    except HTTPError as e:
        return e
    except URLError as e:
        if hasattr(e, 'reason'):
            return e.reason
        elif hasattr(e, 'code'):
            return e.code
        else:
            return e
    return enriched_data
$function$
PARALLEL SAFE;
</code></pre>
<h2>Problem</h2>
Even though the function is marked <code>PARALLEL SAFE</code>, this only helps for the query planner to allocate multiple workers to it and then gather the results.
<h1>Question</h1>
<strong>Is there some pattern that allows me to parallelize the UDF within each worker?</strong>
a tentative and coarse python example - just to illustrate the intent (based on <a href=""https://stackoverflow.com/a/53022415/3517025"">this SO answer</a>):
<pre class=""lang-py prettyprint-override""><code>async def parallel_rest_calls():
    async with aiohttp.ClientSession() as session:
        tasks = []
        for row in column:
            tasks.append(call_rest_api(session=session, data=row, **kwargs))

        enriched_data_col = await asyncio.gather(*tasks, return_exceptions=True)
        return enriched_data_col
</code></pre>
Granted, the python example still needs to map the input row to the correct output, but you get the gist, it's about <strong>utilizing the IO time to make more calls</strong>.",postgresql
67,70122911,Fetch users who read the bible yesterday but not today in mysql,"Hello I want to fetch users who read the chapter yesterday but not today. i have one table called user_bible_trackings that is below.

My expected output is like below:-
<pre><code>user_id
  3
</code></pre>
I have tried below query
<pre><code>SELECT DISTINCT(user_id) FROM `user_bible_trackings` 
WHERE  date_read = '2021-11-25' and date_read != '2021-11-26'
</code></pre>
But its coming wrong output. Can anyone tell me what i am doing wrong",mysql
68,70149210,find row by one of group_concat value,"<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th style=""text-align: left;"">id_potensi</th>
<th style=""text-align: right;"">merek_list</th>
</tr>
</thead>
<tbody>
<tr>
<td style=""text-align: left;"">23</td>
<td style=""text-align: right;"">19</td>
</tr>
<tr>
<td style=""text-align: left;"">30</td>
<td style=""text-align: right;"">7,11</td>
</tr>
<tr>
<td style=""text-align: left;"">93</td>
<td style=""text-align: right;"">25</td>
</tr>
<tr>
<td style=""text-align: left;"">103</td>
<td style=""text-align: right;"">25,39</td>
</tr>
<tr>
<td style=""text-align: left;"">104</td>
<td style=""text-align: right;"">25</td>
</tr>
</tbody>
</table>
</div>
i have result like above table by joining two tables with this queries.

when i add where clause like this:
<pre><code>SELECT data_potensi.id as id_potensi, GROUP_CONCAT(DISTINCT merek_on_data_potensi.merek SEPARATOR &quot;, &quot;) AS merek_list
from`data_potensi` INNER JOIN merek_on_data_potensi ON merek_on_data_potensi.data_potensi = data_potensi.id
where merek_on_data_potensi.merek = 25
GROUP by data_potensi.id
</code></pre>
this is happen.
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th style=""text-align: left;"">id_potensi</th>
<th style=""text-align: right;"">merek_list</th>
</tr>
</thead>
<tbody>
<tr>
<td style=""text-align: left;"">93</td>
<td style=""text-align: right;"">25</td>
</tr>
<tr>
<td style=""text-align: left;"">103</td>
<td style=""text-align: right;"">25</td>
</tr>
<tr>
<td style=""text-align: left;"">104</td>
<td style=""text-align: right;"">25</td>
</tr>
</tbody>
</table>
</div>
how can i achieve result like below table?
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th style=""text-align: left;"">id_potensi</th>
<th style=""text-align: right;"">merek_list</th>
</tr>
</thead>
<tbody>
<tr>
<td style=""text-align: left;"">93</td>
<td style=""text-align: right;"">25</td>
</tr>
<tr>
<td style=""text-align: left;"">103</td>
<td style=""text-align: right;"">25,39</td>
</tr>
<tr>
<td style=""text-align: left;"">104</td>
<td style=""text-align: right;"">25</td>
</tr>
</tbody>
</table>
</div>
this is my main table and relation defenition.
<pre><code>CREATE TABLE `data_potensi` (
  `id` mediumint unsigned NOT NULL AUTO_INCREMENT,
  `organisasi` smallint unsigned NOT NULL,
  `jenis_alat_produksi` tinyint unsigned NOT NULL,
  `kapasitas_terpasang` mediumint unsigned NOT NULL,
  `jumlah` tinyint unsigned NOT NULL,
  `kapasitas_terpakai` decimal(4,2) unsigned NOT NULL,
  `tahun_operasi` year NOT NULL,
  `kondisi` smallint unsigned NOT NULL,
  `keterangan` varchar(255) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `data_potensi_organisasi_foreign` (`organisasi`),
  KEY `data_potensi_jenis_alat_produksi_foreign` (`jenis_alat_produksi`),
  KEY `data_potensi_kondisi_foreign` (`kondisi`),
  CONSTRAINT `data_potensi_jenis_alat_produksi_foreign` FOREIGN KEY (`jenis_alat_produksi`) REFERENCES `jenis_alat_produksi` (`id`),
  CONSTRAINT `data_potensi_kondisi_foreign` FOREIGN KEY (`kondisi`) REFERENCES `kondisi` (`id`),
  CONSTRAINT `data_potensi_organisasi_foreign` FOREIGN KEY (`organisasi`) REFERENCES `organisasi` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=22 DEFAULT CHARSET=utf8mb3

CREATE TABLE `merek_on_data_potensi` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `data_potensi` mediumint unsigned NOT NULL,
  `merek` smallint unsigned NOT NULL,
  PRIMARY KEY (`id`),
  KEY `merek_on_data_potensi_data_potensi_foreign` (`data_potensi`),
  KEY `merek_on_data_potensi_merek_foreign` (`merek`),
  CONSTRAINT `merek_on_data_potensi_data_potensi_foreign` FOREIGN KEY (`data_potensi`) REFERENCES `data_potensi` (`id`),
  CONSTRAINT `merek_on_data_potensi_merek_foreign` FOREIGN KEY (`merek`) REFERENCES `merek` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=32 DEFAULT CHARSET=utf8mb3
</code></pre>",mysql
69,70214900,Postgres query to count only the last three records to each customer without to check the date,"I'm trying to get a  PostgreSQL query where i need to check only the last three records to each customer and count how many records each costumer had with value = 0.
Example:
Table of Customers:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>Key</th>
<th>Name</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>John</td>
</tr>
<tr>
<td>2</td>
<td>Peter</td>
</tr>
<tr>
<td>3</td>
<td>Mike</td>
</tr>
</tbody>
</table>
</div><div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>key</th>
<th>Date</th>
<th>Customer</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>2012-02-07</td>
<td>1</td>
<td>0</td>
</tr>
<tr>
<td>2</td>
<td>2012-02-08</td>
<td>2</td>
<td>1</td>
</tr>
<tr>
<td>3</td>
<td>2012-02-09</td>
<td>1</td>
<td>0</td>
</tr>
<tr>
<td>4</td>
<td>2012-03-07</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td>5</td>
<td>2012-04-07</td>
<td>3</td>
<td>0</td>
</tr>
<tr>
<td>6</td>
<td>2012-07-09</td>
<td>2</td>
<td>0</td>
</tr>
<tr>
<td>7</td>
<td>2012-04-08</td>
<td>3</td>
<td>0</td>
</tr>
<tr>
<td>8</td>
<td>2012-04-08</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td>9</td>
<td>2012-04-09</td>
<td>3</td>
<td>0</td>
</tr>
</tbody>
</table>
</div>
I need it:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>Costumer</th>
<th>Count</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>2</td>
</tr>
<tr>
<td>2</td>
<td>1</td>
</tr>
<tr>
<td>3</td>
<td>3</td>
</tr>
</tbody>
</table>
</div>
After to get this result i need to take only the customers with count &gt;= 3
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>Costumer</th>
<th>Count</th>
</tr>
</thead>
<tbody>
<tr>
<td>3</td>
<td>3</td>
</tr>
</tbody>
</table>
</div>
I tried to do it using Rank() function but no way..
Any suggestionying to get a  PostgreSQL query where i need to check only the last three records to each customer and count how many records each costumer had with value = 0.
Example:
Table of Customers:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>Key</th>
<th>Name</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>John</td>
</tr>
<tr>
<td>2</td>
<td>Peter</td>
</tr>
<tr>
<td>3</td>
<td>Mike</td>
</tr>
</tbody>
</table>
</div><div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>key</th>
<th>Date</th>
<th>Customer</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>2012-02-07</td>
<td>1</td>
<td>0</td>
</tr>
<tr>
<td>2</td>
<td>2012-02-08</td>
<td>2</td>
<td>1</td>
</tr>
<tr>
<td>3</td>
<td>2012-02-09</td>
<td>1</td>
<td>0</td>
</tr>
<tr>
<td>4</td>
<td>2012-03-07</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td>5</td>
<td>2012-04-07</td>
<td>3</td>
<td>0</td>
</tr>
<tr>
<td>6</td>
<td>2012-07-09</td>
<td>2</td>
<td>0</td>
</tr>
<tr>
<td>7</td>
<td>2012-04-08</td>
<td>3</td>
<td>0</td>
</tr>
<tr>
<td>8</td>
<td>2012-04-08</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td>9</td>
<td>2012-04-09</td>
<td>3</td>
<td>0</td>
</tr>
</tbody>
</table>
</div>
I need it:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>Costumer</th>
<th>Count</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>2</td>
</tr>
<tr>
<td>2</td>
<td>1</td>
</tr>
<tr>
<td>3</td>
<td>3</td>
</tr>
</tbody>
</table>
</div>
After to get this result i need to take only the customers with count &gt;= 3
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>Costumer</th>
<th>Count</th>
</tr>
</thead>
<tbody>
<tr>
<td>3</td>
<td>3</td>
</tr>
</tbody>
</table>
</div>
I tried to do it using Rank() function but no way..
Any suggestionrying to get a  PostgreSQL query where i need to check only the last three records to each customer and count how many records each costumer had with value = 0.
Example:
Table of Customers:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>Key</th>
<th>Name</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>John</td>
</tr>
<tr>
<td>2</td>
<td>Peter</td>
</tr>
<tr>
<td>3</td>
<td>Mike</td>
</tr>
</tbody>
</table>
</div><div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>key</th>
<th>Date</th>
<th>Customer</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>2012-02-07</td>
<td>1</td>
<td>0</td>
</tr>
<tr>
<td>2</td>
<td>2012-02-08</td>
<td>2</td>
<td>1</td>
</tr>
<tr>
<td>3</td>
<td>2012-02-09</td>
<td>1</td>
<td>0</td>
</tr>
<tr>
<td>4</td>
<td>2012-03-07</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td>5</td>
<td>2012-04-07</td>
<td>3</td>
<td>0</td>
</tr>
<tr>
<td>6</td>
<td>2012-07-09</td>
<td>2</td>
<td>0</td>
</tr>
<tr>
<td>7</td>
<td>2012-04-08</td>
<td>3</td>
<td>0</td>
</tr>
<tr>
<td>8</td>
<td>2012-04-08</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td>9</td>
<td>2012-04-09</td>
<td>3</td>
<td>0</td>
</tr>
</tbody>
</table>
</div>
I need it:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>Costumer</th>
<th>Count</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>2</td>
</tr>
<tr>
<td>2</td>
<td>1</td>
</tr>
<tr>
<td>3</td>
<td>3</td>
</tr>
</tbody>
</table>
</div>
After to get this result i need to take only the customers with count &gt;= 3
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>Costumer</th>
<th>Count</th>
</tr>
</thead>
<tbody>
<tr>
<td>3</td>
<td>3</td>
</tr>
</tbody>
</table>
</div>
I tried to do it using Rank() function but no way..
Any suggestionying to get a  PostgreSQL query where i need to check only the last three records to each customer and count how many records each costumer had with value = 0.
Example:
Table of Customers:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>Key</th>
<th>Name</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>John</td>
</tr>
<tr>
<td>2</td>
<td>Peter</td>
</tr>
<tr>
<td>3</td>
<td>Mike</td>
</tr>
</tbody>
</table>
</div><div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>key</th>
<th>Date</th>
<th>Customer</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>2012-02-07</td>
<td>1</td>
<td>0</td>
</tr>
<tr>
<td>2</td>
<td>2012-02-08</td>
<td>2</td>
<td>1</td>
</tr>
<tr>
<td>3</td>
<td>2012-02-09</td>
<td>1</td>
<td>0</td>
</tr>
<tr>
<td>4</td>
<td>2012-03-07</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td>5</td>
<td>2012-04-07</td>
<td>3</td>
<td>0</td>
</tr>
<tr>
<td>6</td>
<td>2012-07-09</td>
<td>2</td>
<td>0</td>
</tr>
<tr>
<td>7</td>
<td>2012-04-08</td>
<td>3</td>
<td>0</td>
</tr>
<tr>
<td>8</td>
<td>2012-04-08</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td>9</td>
<td>2012-04-09</td>
<td>3</td>
<td>0</td>
</tr>
</tbody>
</table>
</div>
I need it:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>Costumer</th>
<th>Count</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>2</td>
</tr>
<tr>
<td>2</td>
<td>1</td>
</tr>
<tr>
<td>3</td>
<td>3</td>
</tr>
</tbody>
</table>
</div>
After to get this result i need to take only the customers with count &gt;= 3
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>Costumer</th>
<th>Count</th>
</tr>
</thead>
<tbody>
<tr>
<td>3</td>
<td>3</td>
</tr>
</tbody>
</table>
</div>
I tried to do it using Rank() function but no way..
Any suggestion?",postgresql
70,70293094,Selecting random rows and order by ID,"Here is the code I tried to select 6 random entries from database and it works fine.

But I need these randomly select values to order by id, ASC or DESC order. Here id,  is auto increment integer.
Please help me to solve this problem.",mysql
71,70326887,MySQL query to find Instructor with min pay along with course,"I have a table called instructor with  attributes. I want to query each professor with the minimum pay per course along with the course.
This is what I have but it doesn't seem to work.

the above query returns each <code>prof_id</code> with the min <code>pay</code> but the entire <code>course</code> column have the same course name (whichever course  is on the first row)
I also tried grouping by prof_id and course but it doesn't seem to do work either. My guess is the issue is in the group by.
<a href=""https://i.stack.imgur.com/miH8d.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/miH8d.png"" alt=""enter image description here"" /></a>
Note: I am new to DB. So if this is a stupid question to ask I apologize in advance.",mysql
72,70196366,Neo4j Is there a way to list running cypher queries in server?,"I am using community edition 4.3.3. I started a long-time running query (graphsage training) from browser. Then my browser closed. When I am checking with &quot;top&quot; and &quot;htop&quot;, process is still running. It is good, but there is way list running queries in the server ?
In addition is it possible to see query history sing community edition 4.3.3. I started a long-time running query (graphsage training) from browser. Then my browser closed. When I am checking with &quot;top&quot; and &quot;htop&quot;, process is still running. It is good, but there is way list running queries in the server ?
In addition is it possible to see query history using community edition 4.3.3. I started a long-time running query (graphsage training) from browser. Then my browser closed. When I am checking with &quot;top&quot; and &quot;htop&quot;, process is still running. It is good, but there is way list running queries in the server ?
In addition is it possible to see query history sing community edition 4.3.3. I started a long-time running query (graphsage training) from browser. Then my browser closed. When I am checking with &quot;top&quot; and &quot;htop&quot;, process is still running. It is good, but there is way list running queries in the server ?
In addition is it possible to see query history ?",neo4j|cypher
73,70300519,Is there a way where I can filter/get in between dates when in MYSQL IN Clause that handles multiple columns?,"So recently I have discovered that using the  Clause In <code>MYSQL 5.7</code>, allows me to extract specific data base on multiple columns.

<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>ID</th>
<th>Code</th>
<th>Date</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>AE</td>
<td>2021-01-01</td>
</tr>
<tr>
<td>1</td>
<td>AE</td>
<td>2021-01-02</td>
</tr>
<tr>
<td>1</td>
<td>AE</td>
<td>2021-01-03</td>
</tr>
<tr>
<td>1</td>
<td>AE</td>
<td>2021-01-04</td>
</tr>
<tr>
<td>2</td>
<td>AD</td>
<td>2021-01-01</td>
</tr>
<tr>
<td>2</td>
<td>AD</td>
<td>2021-01-02</td>
</tr>
<tr>
<td>2</td>
<td>AD</td>
<td>2021-01-03</td>
</tr>
<tr>
<td>2</td>
<td>AD</td>
<td>2021-01-04</td>
</tr>
</tbody>
</table>
</div>
This is amazing, But if I want to include an additional column for a particular range of Dates, it does not work. Here is the following query I have attempted.
<pre><code>SELECT * FROM `Schema`.`Table` WHERE (`ID`,`Code`,`Date`) 
IN ((1,'AE', BETWEEN '2021-01-01' AND '2021-01-03'),(2,'AD',BETWEEN '2021-01-02' AND '2021-01-04'));
</code></pre>
I could use Union ALL to merge the unique Data on the <code>ID</code> and <code>Code</code> and have the separate Date Range. But I am just wondering if my approach for the syntax is wrong, or even if there is a better way to approach this.
Thank you in advance",mysql
74,70303982,"So I have different columns cn_ref_no,date,expiry,amount,cn_commission,cn_amount_tag,bill_ref_no,bill_commission,bill_amount_tag","So I have table with columns
The code I am using is

The table
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th style=""text-align: left;"">cn_ref_no</th>
<th style=""text-align: left;"">cn_commission</th>
<th style=""text-align: right;"">cn_tag</th>
<th>b_ref</th>
<th>b_commission</th>
<th>b_tag</th>
<th>d_ref</th>
<th>d_tag</th>
<th>d_commission</th>
</tr>
</thead>
<tbody>
<tr>
<td style=""text-align: left;"">CN001</td>
<td style=""text-align: left;"">100</td>
<td style=""text-align: right;"">CN_CNF</td>
<td>B001</td>
<td>20</td>
<td>BILL_EXC</td>
<td>D001</td>
<td>DISC_SWF</td>
<td>20</td>
</tr>
<tr>
<td style=""text-align: left;"">CN001</td>
<td style=""text-align: left;"">100</td>
<td style=""text-align: right;"">CN_CNF</td>
<td>B001</td>
<td>20</td>
<td>BILL_EXC</td>
<td>D001</td>
<td>DISC_ADV</td>
<td>30</td>
</tr>
<tr>
<td style=""text-align: left;"">CN001</td>
<td style=""text-align: left;"">100</td>
<td style=""text-align: right;"">CN_CNF</td>
<td>B001</td>
<td>20</td>
<td>BILL_EXC</td>
<td>D001</td>
<td>DISC_CNF</td>
<td>50</td>
</tr>
<tr>
<td style=""text-align: left;"">CN001</td>
<td style=""text-align: left;"">100</td>
<td style=""text-align: right;"">CN_CNF</td>
<td>B001</td>
<td>35</td>
<td>BILL_ADV</td>
<td>D001</td>
<td>DISC_SWF</td>
<td>20</td>
</tr>
<tr>
<td style=""text-align: left;"">CN001</td>
<td style=""text-align: left;"">100</td>
<td style=""text-align: right;"">CN_CNF</td>
<td>B001</td>
<td>35</td>
<td>BILL_ADV</td>
<td>D001</td>
<td>DISC_ADV</td>
<td>30</td>
</tr>
<tr>
<td style=""text-align: left;"">CN001</td>
<td style=""text-align: left;"">100</td>
<td style=""text-align: right;"">CN_CNF</td>
<td>B001</td>
<td>35</td>
<td>BILL_ADV</td>
<td>D001</td>
<td>DISC_CNF</td>
<td>50</td>
</tr>
<tr>
<td style=""text-align: left;"">CN001</td>
<td style=""text-align: left;"">100</td>
<td style=""text-align: right;"">CN_CNF</td>
<td>B001</td>
<td>40</td>
<td>BILL_SWF</td>
<td>D001</td>
<td>DISC_SWF</td>
<td>20</td>
</tr>
<tr>
<td style=""text-align: left;"">CN001</td>
<td style=""text-align: left;"">100</td>
<td style=""text-align: right;"">CN_CNF</td>
<td>B001</td>
<td>40</td>
<td>BILL_SWF</td>
<td>D001</td>
<td>DISC_ADV</td>
<td>30</td>
</tr>
<tr>
<td style=""text-align: left;"">CN001</td>
<td style=""text-align: left;"">100</td>
<td style=""text-align: right;"">CN_CNF</td>
<td>B001</td>
<td>40</td>
<td>BILL_SWF</td>
<td>D001</td>
<td>DISC_CNF</td>
<td>50</td>
</tr>
</tbody>
</table>
</div>
There are many differents records like this, this is one example.
What I want is data in this format
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th style=""text-align: left;"">cn_ref_no</th>
<th style=""text-align: left;"">cn_commission</th>
<th style=""text-align: right;"">cn_tag</th>
<th>b_ref</th>
<th>b_commission</th>
<th>b_tag</th>
<th>d_ref</th>
<th>d_tag</th>
<th>d_commission</th>
</tr>
</thead>
<tbody>
<tr>
<td style=""text-align: left;"">CN001</td>
<td style=""text-align: left;"">100</td>
<td style=""text-align: right;"">CN_CNF</td>
<td>B001</td>
<td>20</td>
<td>BILL_EXC</td>
<td>D001</td>
<td>DISC_SWF</td>
<td>20</td>
</tr>
<tr>
<td style=""text-align: left;"">CN001</td>
<td style=""text-align: left;"">100</td>
<td style=""text-align: right;"">CN_CNF</td>
<td>B001</td>
<td>35</td>
<td>BILL_ADV</td>
<td>D001</td>
<td>DISC_ADV</td>
<td>30</td>
</tr>
<tr>
<td style=""text-align: left;"">CN001</td>
<td style=""text-align: left;"">100</td>
<td style=""text-align: right;"">CN_CNF</td>
<td>B001</td>
<td>40</td>
<td>BILL_SWF</td>
<td>D001</td>
<td>DISC_CNF</td>
<td>50</td>
</tr>
</tbody>
</table>
</div>
Or the records in a single row like this if possible
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th style=""text-align: left;"">cn_ref_no</th>
<th style=""text-align: left;"">cn_commission</th>
<th style=""text-align: right;"">cn_tag</th>
<th>b_ref</th>
<th>b_commission</th>
<th>b_tag</th>
<th>d_ref</th>
<th>d_tag</th>
<th>d_commission</th>
</tr>
</thead>
<tbody>
<tr>
<td style=""text-align: left;"">CN001</td>
<td style=""text-align: left;"">100</td>
<td style=""text-align: right;"">CN_CNF</td>
<td>B001</td>
<td>20 35 40</td>
<td>BILL_EXC BILL_ADV BILL_SWF</td>
<td>D001</td>
<td>DISC_SWF DISC_ADV DISC_CNF</td>
<td>20 30 50</td>
</tr>
</tbody>
</table>
</div>",mysql
75,70359582,Query for Joining two tables to get result from 2nd table in reference,"I have two tables Order and Transaction
<strong>Order</strong> Table
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>id</th>
<th>OrderId</th>
<th>TransId</th>
<th>OrderDate</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>54</td>
<td>11551</td>
<td>01-12-2021</td>
</tr>
<tr>
<td>2</td>
<td>55</td>
<td>11552</td>
<td>02-12-2021</td>
</tr>
<tr>
<td>3</td>
<td>56</td>
<td>11553</td>
<td>02-12-2021</td>
</tr>
<tr>
<td>4</td>
<td>57</td>
<td>11554</td>
<td>05-12-2021</td>
</tr>
<tr>
<td>5</td>
<td>58</td>
<td>11555</td>
<td>08-12-2021</td>
</tr>
<tr>
<td>6</td>
<td>59</td>
<td>11556</td>
<td>09-12-2021</td>
</tr>
</tbody>
</table>
</div>
<strong>Transaction</strong> Table
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>id</th>
<th>TransId</th>
<th>OrderId</th>
<th>PaymentMethod</th>
<th>Amount</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>11551-1</td>
<td>54</td>
<td>Cash</td>
<td>1000</td>
</tr>
<tr>
<td>2</td>
<td>11552-1</td>
<td>55</td>
<td>Cash</td>
<td>500</td>
</tr>
<tr>
<td>3</td>
<td>11552-2</td>
<td>55</td>
<td>Card</td>
<td>200</td>
</tr>
<tr>
<td>4</td>
<td>11553-1</td>
<td>56</td>
<td>Cash</td>
<td>500</td>
</tr>
<tr>
<td>5</td>
<td>11553-2</td>
<td>56</td>
<td>Card</td>
<td>200</td>
</tr>
<tr>
<td>6</td>
<td>11553-3</td>
<td>56</td>
<td>UPI</td>
<td>100</td>
</tr>
</tbody>
</table>
</div>
Here we have 3 Transaction methods Cash, Card and UPI.
I want to get total <em>Amount</em> collected using <strong>Cash</strong> as <em>PaymentMethod</em> done for  period  01-12-2021 to 08-12-2021 in orderDate of Order Tabl two tables Order and Transaction
<strong>Order</strong> Table
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>id</th>
<th>OrderId</th>
<th>TransId</th>
<th>OrderDate</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>54</td>
<td>11551</td>
<td>01-12-2021</td>
</tr>
<tr>
<td>2</td>
<td>55</td>
<td>11552</td>
<td>02-12-2021</td>
</tr>
<tr>
<td>3</td>
<td>56</td>
<td>11553</td>
<td>02-12-2021</td>
</tr>
<tr>
<td>4</td>
<td>57</td>
<td>11554</td>
<td>05-12-2021</td>
</tr>
<tr>
<td>5</td>
<td>58</td>
<td>11555</td>
<td>08-12-2021</td>
</tr>
<tr>
<td>6</td>
<td>59</td>
<td>11556</td>
<td>09-12-2021</td>
</tr>
</tbody>
</table>
</div>
<strong>Transaction</strong> Table
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>id</th>
<th>TransId</th>
<th>OrderId</th>
<th>PaymentMethod</th>
<th>Amount</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>11551-1</td>
<td>54</td>
<td>Cash</td>
<td>1000</td>
</tr>
<tr>
<td>2</td>
<td>11552-1</td>
<td>55</td>
<td>Cash</td>
<td>500</td>
</tr>
<tr>
<td>3</td>
<td>11552-2</td>
<td>55</td>
<td>Card</td>
<td>200</td>
</tr>
<tr>
<td>4</td>
<td>11553-1</td>
<td>56</td>
<td>Cash</td>
<td>500</td>
</tr>
<tr>
<td>5</td>
<td>11553-2</td>
<td>56</td>
<td>Card</td>
<td>200</td>
</tr>
<tr>
<td>6</td>
<td>11553-3</td>
<td>56</td>
<td>UPI</td>
<td>100</td>
</tr>
</tbody>
</table>
</div>
Here we have 3 Transaction methods Cash, Card and UPI.
I want to get total <em>Amount</em> collected using <strong>Cash</strong> as <em>PaymentMethod</em> done for  period  01-12-2021 to 08-12-2021 in orderDate of Order Table two tables Order and Transaction
<strong>Order</strong> Table
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>id</th>
<th>OrderId</th>
<th>TransId</th>
<th>OrderDate</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>54</td>
<td>11551</td>
<td>01-12-2021</td>
</tr>
<tr>
<td>2</td>
<td>55</td>
<td>11552</td>
<td>02-12-2021</td>
</tr>
<tr>
<td>3</td>
<td>56</td>
<td>11553</td>
<td>02-12-2021</td>
</tr>
<tr>
<td>4</td>
<td>57</td>
<td>11554</td>
<td>05-12-2021</td>
</tr>
<tr>
<td>5</td>
<td>58</td>
<td>11555</td>
<td>08-12-2021</td>
</tr>
<tr>
<td>6</td>
<td>59</td>
<td>11556</td>
<td>09-12-2021</td>
</tr>
</tbody>
</table>
</div>
<strong>Transaction</strong> Table
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>id</th>
<th>TransId</th>
<th>OrderId</th>
<th>PaymentMethod</th>
<th>Amount</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>11551-1</td>
<td>54</td>
<td>Cash</td>
<td>1000</td>
</tr>
<tr>
<td>2</td>
<td>11552-1</td>
<td>55</td>
<td>Cash</td>
<td>500</td>
</tr>
<tr>
<td>3</td>
<td>11552-2</td>
<td>55</td>
<td>Card</td>
<td>200</td>
</tr>
<tr>
<td>4</td>
<td>11553-1</td>
<td>56</td>
<td>Cash</td>
<td>500</td>
</tr>
<tr>
<td>5</td>
<td>11553-2</td>
<td>56</td>
<td>Card</td>
<td>200</td>
</tr>
<tr>
<td>6</td>
<td>11553-3</td>
<td>56</td>
<td>UPI</td>
<td>100</td>
</tr>
</tbody>
</table>
</div>
Here we have 3 Transaction methods Cash, Card and UPI.
I want to get total <em>Amount</em> collected using <strong>Cash</strong> as <em>PaymentMethod</em> done for  period  01-12-2021 to 08-12-2021 in orderDate of Order Tabl two tables Order and Transaction
<strong>Order</strong> Table
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>id</th>
<th>OrderId</th>
<th>TransId</th>
<th>OrderDate</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>54</td>
<td>11551</td>
<td>01-12-2021</td>
</tr>
<tr>
<td>2</td>
<td>55</td>
<td>11552</td>
<td>02-12-2021</td>
</tr>
<tr>
<td>3</td>
<td>56</td>
<td>11553</td>
<td>02-12-2021</td>
</tr>
<tr>
<td>4</td>
<td>57</td>
<td>11554</td>
<td>05-12-2021</td>
</tr>
<tr>
<td>5</td>
<td>58</td>
<td>11555</td>
<td>08-12-2021</td>
</tr>
<tr>
<td>6</td>
<td>59</td>
<td>11556</td>
<td>09-12-2021</td>
</tr>
</tbody>
</table>
</div>
<strong>Transaction</strong> Table
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>id</th>
<th>TransId</th>
<th>OrderId</th>
<th>PaymentMethod</th>
<th>Amount</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>11551-1</td>
<td>54</td>
<td>Cash</td>
<td>1000</td>
</tr>
<tr>
<td>2</td>
<td>11552-1</td>
<td>55</td>
<td>Cash</td>
<td>500</td>
</tr>
<tr>
<td>3</td>
<td>11552-2</td>
<td>55</td>
<td>Card</td>
<td>200</td>
</tr>
<tr>
<td>4</td>
<td>11553-1</td>
<td>56</td>
<td>Cash</td>
<td>500</td>
</tr>
<tr>
<td>5</td>
<td>11553-2</td>
<td>56</td>
<td>Card</td>
<td>200</td>
</tr>
<tr>
<td>6</td>
<td>11553-3</td>
<td>56</td>
<td>UPI</td>
<td>100</td>
</tr>
</tbody>
</table>
</div>
Here we have 3 Transaction methods Cash, Card and UPI.
I want to get total <em>Amount</em> collected using <strong>Cash</strong> as <em>PaymentMethod</em> done for  period  01-12-2021 to 08-12-2021 in orderDate of Order Table",mysql
76,70118125,how to have a repeating calculation in a POSTGRES select query?,"So part of my query is like this
<pre class=""lang-sql prettyprint-override""></pre>
let's say <code>column_b</code> has the value of <code>3</code>
is there a way to represent this line <code>0.75 * power(0.93, (0.1428 * column_b))</code>  as this?

let's say <code>column_b</code> has the value of <code>3</code>
is there a way to represent this line <code>0.75 * power(0.93, (0.1428 * column_b))</code>  as this?
<pre><code>0.75 * power(0.93, (0.1428 * 3)) + 0.75 * power(0.93, (0.1428 * 2)) + 0.75 * power(0.93, (0.1428 * 1))
</code></pre>
Basically, for what ever value column_b has, the function repeats.  Is there a way to represent this in Postgres sql?",sql|postgresql
77,70167107,can't create / write to file '. \ digit2 \ client708.frm' (errcode: 2),"windows10 professional
mysql 3.23
delphi 7
With a delphi7 executable and a mysql database 3.23
i get this error when i create a mysql table
from code:
can't create / write to file '. \ digit2 \ client708.frm' (errcode: 2)
the error is no longer reported if I reboot
system but apparently recurs
occasional.
Anyone know anything about its10 professional
mysql 3.23
delphi 7
With a delphi7 executable and a mysql database 3.23
i get this error when i create a mysql table
from code:
can't create / write to file '. \ digit2 \ client708.frm' (errcode: 2)
the error is no longer reported if I reboot
system but apparently recurs
occasional.
Anyone know anything about itws10 professional
mysql 3.23
delphi 7
With a delphi7 executable and a mysql database 3.23
i get this error when i create a mysql table
from code:
can't create / write to file '. \ digit2 \ client708.frm' (errcode: 2)
the error is no longer reported if I reboot
system but apparently recurs
occasional.
Anyone know anything about its10 professional
mysql 3.23
delphi 7
With a delphi7 executable and a mysql database 3.23
i get this error when i create a mysql table
from code:
can't create / write to file '. \ digit2 \ client708.frm' (errcode: 2)
the error is no longer reported if I reboot
system but apparently recurs
occasional.
Anyone know anything about it?",mysql
78,70356638,Search for more than one column in the same query,"So I have a task to basically just by typing the first letter of the name or type on a table(product), show all the names that start with that letter or types that start with that letter.
Now the problem is: i dont know how to do it for the two columns(name, type)
basically all i have is this but i need to do the same for type in the same query. how tho?
",sql|postgresql
79,70058273,Sales amounts of the top n selling vendors by month with other fields in bigquery,"i have a table in bigquery like this (260000 rows):

exactly what I want is to group this data by month and find the sum of the sales of only the top 20 vendors in that month. Expected output:
<pre><code>month     vendor_name(top20)  sum_of_vendor's_sales  sum_of_vendor's_discount   item_count(sold)
2020-01   x1                  10857                  250                        150
2020-01   x2                  9685                   410                        50
2020-01   x3                  3574                   140                        45
....
2021 01   x20                 700                    15                         20

2020-02   y1                  7421                   280                        120
2020-02   y2                  6500                   250                        40
2020-02   y3                  4500                   200                        70
.....
2020-02   y20                 900                    70                         30
</code></pre>
i tried this (<a href=""https://stackoverflow.com/a/69861592/17334324"">source here</a>). But The desired output could not be obtained.
<pre><code>select month, 
  (select sum(sum) from t.top_20_vendors) as sum_of_only_top20_vendor_sales
from (
  select 
    format_datetime('%Y%m', date) month, 
    approx_top_sum(vendor, item_price, 20) top_20_vendors,count(item_price) as count_of_items,sum(discount_price)
  from my_table
  group by month
) t

</code></pre>",google-bigquery
80,70097418,How to get previous row with certain parameters,"I have a pretty complicated question (At least for myself)
I have an SQL request that returns me the following table:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>ID</th>
<th>Date</th>
<th>Description</th>
<th>rn</th>
</tr>
</thead>
<tbody>
<tr>
<td>534</td>
<td>2021-01-01 4:03:14</td>
<td>NEW</td>
<td>1</td>
</tr>
<tr>
<td>534</td>
<td>2021-01-01 4:03:24</td>
<td>Payment</td>
<td>2</td>
</tr>
<tr>
<td>534</td>
<td>2021-01-01 4:04:14</td>
<td>Accepted</td>
<td>3</td>
</tr>
<tr>
<td>534</td>
<td>2021-01-01 4:05:23</td>
<td>Support</td>
<td>4</td>
</tr>
<tr>
<td>534</td>
<td>2021-01-01 4:05:32</td>
<td>Cancelled</td>
<td>5</td>
</tr>
<tr>
<td>632</td>
<td>2021-01-01 4:03:36</td>
<td>NEW</td>
<td>1</td>
</tr>
<tr>
<td>632</td>
<td>2021-01-01 4:04:12</td>
<td>Payment</td>
<td>2</td>
</tr>
<tr>
<td>632</td>
<td>2021-01-01 4:06:28</td>
<td>Support</td>
<td>3</td>
</tr>
<tr>
<td>632</td>
<td>2021-01-01 4:11:23</td>
<td>Cancelled</td>
<td>4</td>
</tr>
<tr>
<td>844</td>
<td>2021-01-01 5:03:36</td>
<td>NEW</td>
<td>1</td>
</tr>
<tr>
<td>844</td>
<td>2021-01-01 5:04:12</td>
<td>Payment</td>
<td>2</td>
</tr>
<tr>
<td>844</td>
<td>2021-01-01 5:06:28</td>
<td>Accepted</td>
<td>3</td>
</tr>
<tr>
<td>844</td>
<td>2021-01-01 5:11:23</td>
<td>Cancelled</td>
<td>4</td>
</tr>
</tbody>
</table>
</div>
What I need to do is to find those IDs that have <strong>Description: Cancelled</strong>, then get the previous description of the same ID.
But if previous <strong>Description: Support</strong> then I need to go to the next one.
To make it clear, here is the example of the output that I need:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>ID</th>
<th>Date</th>
<th>Description</th>
<th>rn</th>
</tr>
</thead>
<tbody>
<tr>
<td>534</td>
<td>2021-01-01 4:04:14</td>
<td>Accepted</td>
<td>3</td>
</tr>
<tr>
<td>632</td>
<td>2021-01-01 4:04:12</td>
<td>Payment</td>
<td>2</td>
</tr>
<tr>
<td>844</td>
<td>2021-01-01 5:06:28</td>
<td>Accepted</td>
<td>3</td>
</tr>
</tbody>
</table>
</div a pretty complicated question (At least for myself)
I have an SQL request that returns me the following table:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>ID</th>
<th>Date</th>
<th>Description</th>
<th>rn</th>
</tr>
</thead>
<tbody>
<tr>
<td>534</td>
<td>2021-01-01 4:03:14</td>
<td>NEW</td>
<td>1</td>
</tr>
<tr>
<td>534</td>
<td>2021-01-01 4:03:24</td>
<td>Payment</td>
<td>2</td>
</tr>
<tr>
<td>534</td>
<td>2021-01-01 4:04:14</td>
<td>Accepted</td>
<td>3</td>
</tr>
<tr>
<td>534</td>
<td>2021-01-01 4:05:23</td>
<td>Support</td>
<td>4</td>
</tr>
<tr>
<td>534</td>
<td>2021-01-01 4:05:32</td>
<td>Cancelled</td>
<td>5</td>
</tr>
<tr>
<td>632</td>
<td>2021-01-01 4:03:36</td>
<td>NEW</td>
<td>1</td>
</tr>
<tr>
<td>632</td>
<td>2021-01-01 4:04:12</td>
<td>Payment</td>
<td>2</td>
</tr>
<tr>
<td>632</td>
<td>2021-01-01 4:06:28</td>
<td>Support</td>
<td>3</td>
</tr>
<tr>
<td>632</td>
<td>2021-01-01 4:11:23</td>
<td>Cancelled</td>
<td>4</td>
</tr>
<tr>
<td>844</td>
<td>2021-01-01 5:03:36</td>
<td>NEW</td>
<td>1</td>
</tr>
<tr>
<td>844</td>
<td>2021-01-01 5:04:12</td>
<td>Payment</td>
<td>2</td>
</tr>
<tr>
<td>844</td>
<td>2021-01-01 5:06:28</td>
<td>Accepted</td>
<td>3</td>
</tr>
<tr>
<td>844</td>
<td>2021-01-01 5:11:23</td>
<td>Cancelled</td>
<td>4</td>
</tr>
</tbody>
</table>
</div>
What I need to do is to find those IDs that have <strong>Description: Cancelled</strong>, then get the previous description of the same ID.
But if previous <strong>Description: Support</strong> then I need to go to the next one.
To make it clear, here is the example of the output that I need:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>ID</th>
<th>Date</th>
<th>Description</th>
<th>rn</th>
</tr>
</thead>
<tbody>
<tr>
<td>534</td>
<td>2021-01-01 4:04:14</td>
<td>Accepted</td>
<td>3</td>
</tr>
<tr>
<td>632</td>
<td>2021-01-01 4:04:12</td>
<td>Payment</td>
<td>2</td>
</tr>
<tr>
<td>844</td>
<td>2021-01-01 5:06:28</td>
<td>Accepted</td>
<td>3</td>
</tr>
</tbody>
</table>
</dive a pretty complicated question (At least for myself)
I have an SQL request that returns me the following table:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>ID</th>
<th>Date</th>
<th>Description</th>
<th>rn</th>
</tr>
</thead>
<tbody>
<tr>
<td>534</td>
<td>2021-01-01 4:03:14</td>
<td>NEW</td>
<td>1</td>
</tr>
<tr>
<td>534</td>
<td>2021-01-01 4:03:24</td>
<td>Payment</td>
<td>2</td>
</tr>
<tr>
<td>534</td>
<td>2021-01-01 4:04:14</td>
<td>Accepted</td>
<td>3</td>
</tr>
<tr>
<td>534</td>
<td>2021-01-01 4:05:23</td>
<td>Support</td>
<td>4</td>
</tr>
<tr>
<td>534</td>
<td>2021-01-01 4:05:32</td>
<td>Cancelled</td>
<td>5</td>
</tr>
<tr>
<td>632</td>
<td>2021-01-01 4:03:36</td>
<td>NEW</td>
<td>1</td>
</tr>
<tr>
<td>632</td>
<td>2021-01-01 4:04:12</td>
<td>Payment</td>
<td>2</td>
</tr>
<tr>
<td>632</td>
<td>2021-01-01 4:06:28</td>
<td>Support</td>
<td>3</td>
</tr>
<tr>
<td>632</td>
<td>2021-01-01 4:11:23</td>
<td>Cancelled</td>
<td>4</td>
</tr>
<tr>
<td>844</td>
<td>2021-01-01 5:03:36</td>
<td>NEW</td>
<td>1</td>
</tr>
<tr>
<td>844</td>
<td>2021-01-01 5:04:12</td>
<td>Payment</td>
<td>2</td>
</tr>
<tr>
<td>844</td>
<td>2021-01-01 5:06:28</td>
<td>Accepted</td>
<td>3</td>
</tr>
<tr>
<td>844</td>
<td>2021-01-01 5:11:23</td>
<td>Cancelled</td>
<td>4</td>
</tr>
</tbody>
</table>
</div>
What I need to do is to find those IDs that have <strong>Description: Cancelled</strong>, then get the previous description of the same ID.
But if previous <strong>Description: Support</strong> then I need to go to the next one.
To make it clear, here is the example of the output that I need:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>ID</th>
<th>Date</th>
<th>Description</th>
<th>rn</th>
</tr>
</thead>
<tbody>
<tr>
<td>534</td>
<td>2021-01-01 4:04:14</td>
<td>Accepted</td>
<td>3</td>
</tr>
<tr>
<td>632</td>
<td>2021-01-01 4:04:12</td>
<td>Payment</td>
<td>2</td>
</tr>
<tr>
<td>844</td>
<td>2021-01-01 5:06:28</td>
<td>Accepted</td>
<td>3</td>
</tr>
</tbody>
</table>
</div a pretty complicated question (At least for myself)
I have an SQL request that returns me the following table:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>ID</th>
<th>Date</th>
<th>Description</th>
<th>rn</th>
</tr>
</thead>
<tbody>
<tr>
<td>534</td>
<td>2021-01-01 4:03:14</td>
<td>NEW</td>
<td>1</td>
</tr>
<tr>
<td>534</td>
<td>2021-01-01 4:03:24</td>
<td>Payment</td>
<td>2</td>
</tr>
<tr>
<td>534</td>
<td>2021-01-01 4:04:14</td>
<td>Accepted</td>
<td>3</td>
</tr>
<tr>
<td>534</td>
<td>2021-01-01 4:05:23</td>
<td>Support</td>
<td>4</td>
</tr>
<tr>
<td>534</td>
<td>2021-01-01 4:05:32</td>
<td>Cancelled</td>
<td>5</td>
</tr>
<tr>
<td>632</td>
<td>2021-01-01 4:03:36</td>
<td>NEW</td>
<td>1</td>
</tr>
<tr>
<td>632</td>
<td>2021-01-01 4:04:12</td>
<td>Payment</td>
<td>2</td>
</tr>
<tr>
<td>632</td>
<td>2021-01-01 4:06:28</td>
<td>Support</td>
<td>3</td>
</tr>
<tr>
<td>632</td>
<td>2021-01-01 4:11:23</td>
<td>Cancelled</td>
<td>4</td>
</tr>
<tr>
<td>844</td>
<td>2021-01-01 5:03:36</td>
<td>NEW</td>
<td>1</td>
</tr>
<tr>
<td>844</td>
<td>2021-01-01 5:04:12</td>
<td>Payment</td>
<td>2</td>
</tr>
<tr>
<td>844</td>
<td>2021-01-01 5:06:28</td>
<td>Accepted</td>
<td>3</td>
</tr>
<tr>
<td>844</td>
<td>2021-01-01 5:11:23</td>
<td>Cancelled</td>
<td>4</td>
</tr>
</tbody>
</table>
</div>
What I need to do is to find those IDs that have <strong>Description: Cancelled</strong>, then get the previous description of the same ID.
But if previous <strong>Description: Support</strong> then I need to go to the next one.
To make it clear, here is the example of the output that I need:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>ID</th>
<th>Date</th>
<th>Description</th>
<th>rn</th>
</tr>
</thead>
<tbody>
<tr>
<td>534</td>
<td>2021-01-01 4:04:14</td>
<td>Accepted</td>
<td>3</td>
</tr>
<tr>
<td>632</td>
<td>2021-01-01 4:04:12</td>
<td>Payment</td>
<td>2</td>
</tr>
<tr>
<td>844</td>
<td>2021-01-01 5:06:28</td>
<td>Accepted</td>
<td>3</td>
</tr>
</tbody>
</table>
</div>",sql|postgresql
81,70102888,How to find coherent datetime ranges in postgresql,"My Data consists of rows containing a Length/Duration in Minutes, a Begin &amp; EndTime. The precision is 1min (or larger).
the table looks something like that:

The code I came up with looks something like that:
( <a href=""http://www.sqlfiddle.com/#!17/fdda3/1"" rel=""nofollow noreferrer"">http://www.sqlfiddle.com/#!17/fdda3/1</a> )
<pre><code>SELECT
    &quot;BeginTime&quot; = lag(&quot;EndTime&quot;) OVER (
        ORDER BY
            &quot;BeginTime&quot;
    ) AS &quot;isInSeries&quot;,
    *
FROM
    &quot;TimeSeries&quot;
WHERE
    &quot;LengthMin&quot; = 1
ORDER BY
    &quot;BeginTime&quot;
</code></pre>
The result:
<pre><code> 
    | isInSeries |                                   Id |            BeginTime |              EndTime | LengthMin |
    |------------|--------------------------------------|----------------------|----------------------|-----------|
    |     (null) | ecabcd8d-3129-4128-b126-a4e1abcd49c9 | 2021-11-16T11:45:00Z | 2021-11-16T11:46:00Z |         1 |
    |       true | e5abcd70-5125-412b-9128-93ecabcdcba9 | 2021-11-16T11:46:00Z | 2021-11-16T11:47:00Z |         1 |
    |       true | 03abcdb8-8129-4124-b126-f5bbabcd7157 | 2021-11-16T11:47:00Z | 2021-11-16T11:48:00Z |         1 |
    |      false | 54abcdcc-6129-4126-912b-34b2abcde19a | 2021-11-16T11:50:00Z | 2021-11-16T11:51:00Z |         1 |
    |       true | 77abcd28-212f-4122-912f-5060abcd2aa0 | 2021-11-16T11:51:00Z | 2021-11-16T11:52:00Z |         1 |
    |       true | 8babcdd1-f12a-4124-9128-2529abcda136 | 2021-11-16T11:52:00Z | 2021-11-16T11:53:00Z |         1 |
    |      false | 8aabcd94-9129-4121-b12c-1ebfabcd06b8 | 2021-11-16T12:35:00Z | 2021-11-16T12:36:00Z |         1 |
    |      false | 96abcd04-b12e-4122-b12b-4dc2abcdcee4 | 2021-11-16T12:40:00Z | 2021-11-16T12:41:00Z |         1 |
    |      false | 42abcd4a-f129-412c-9124-41b3abcd3ca3 | 2021-11-16T12:44:00Z | 2021-11-16T12:45:00Z |         1 |
    |      false | beabcd8f-c12f-4126-a12b-0a37abcdd0bb | 2021-11-16T12:49:00Z | 2021-11-16T12:50:00Z |         1 |
    |       true | b8abcd79-d12c-4120-912f-754fabcdd220 | 2021-11-16T12:50:00Z | 2021-11-16T12:51:00Z |         1 |
    |      false | c3abcd08-e121-4127-b125-4e70abcd5756 | 2021-11-16T12:59:00Z | 2021-11-16T13:00:00Z |         1 |
    |       true | 65abcdbe-7121-412a-a12c-1f68abcd94eb | 2021-11-16T13:00:00Z | 2021-11-16T13:01:00Z |         1 |
    |      false | f5abcd38-9122-412c-b12f-957fabcd79b5 | 2021-11-16T13:05:00Z | 2021-11-16T13:06:00Z |         1 |
</code></pre>
I'm trying to compare <code>BeginTime = lag(EndTime)</code> however then I am not able to connect rows which are in the same series. Then I just know that the row before is in the same series.
The expected result should look something like this:
<pre><code>|          SeriesBegin | cnt |                  min |                  max |            delta |
|----------------------|-----|----------------------|----------------------|------------------|
| 2021-11-16T11:45:00Z |   3 | 2021-11-16T11:45:00Z | 2021-11-16T11:48:00Z | 3 mins 0.00 secs |
| 2021-11-16T11:50:00Z |   3 | 2021-11-16T11:50:00Z | 2021-11-16T11:53:00Z | 3 mins 0.00 secs |
| 2021-11-16T12:35:00Z |   1 | 2021-11-16T12:35:00Z | 2021-11-16T12:36:00Z | 1 mins 0.00 secs |
| 2021-11-16T12:40:00Z |   1 | 2021-11-16T12:40:00Z | 2021-11-16T12:41:00Z | 1 mins 0.00 secs |
| 2021-11-16T12:44:00Z |   1 | 2021-11-16T12:44:00Z | 2021-11-16T12:45:00Z | 1 mins 0.00 secs |
| 2021-11-16T12:49:00Z |   2 | 2021-11-16T12:49:00Z | 2021-11-16T12:51:00Z | 2 mins 0.00 secs |
| 2021-11-16T12:59:00Z |   2 | 2021-11-16T12:59:00Z | 2021-11-16T13:01:00Z | 2 mins 0.00 secs |
| 2021-11-16T13:05:00Z |   1 | 2021-11-16T13:05:00Z | 2021-11-16T13:06:00Z | 1 mins 0.00 secs |
</code></pre>",sql|postgresql
82,70187485,Foreign key constraint : alternative for one to one relation with split tables,"For tables like this:
Book

AudioBook
<pre><code>| book_id | type
+---------+-----------
| 1       | audio

FK book_id references Book
FK constraint book_id + type references Book
</code></pre>
PaperBook
<pre><code>| book_id | type
+---------+--------
| 2       | paper

FK book_id references Book
FK constraint book_id + type references Book
</code></pre>
Is there other way to ensure that <code>PaperBook</code> and <code>AudioBook</code> will not have same <code>book_id</code> without <code>type</code> column on them (remove <code>FK constraint book_id + type references Book</code> and type on childs?
<hr />
Example without fk constraint where AudioBook and PaperBook can have <code>book_id=1</code> at the same time:
Book
<pre><code>| id | type
+----+--------
| 1  | audio
| 2  | paper

PK id SEQUENCE
</code></pre>
AudioBook
<pre><code>| book_id 
+---------
| 1       

FK book_id references Book
</code></pre>
PaperBook
<pre><code>| book_id 
+---------
| 2       

FK book_id references Book
</code></pre>",sql|postgresql
83,70248573,Extending primary table rows based on joined table ids from LEFT JOIN,"I need to write query where i need to find devices that fit in specific coordinates, and then extend the results with some devices that are in the same groups as the one that are visible on the map.
The part where i can find the devices and their fitting groups is an easy task where i just perform a left join on both tables like this:

But i'm not sure what is the efficient way to add devices to the result that belong to groups of visible devices.
One idea was to select distinct groups from the illustrated query and then again query the device table for the ones that fit in those groups, but it seems to me that this is not the right way.
Any opinion and help is appreciated.",sql|postgresql
84,70281600,How to sort by values in a column based on identifiers in a different column in sql,"This would be our input:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>NAME</th>
<th>YEAR</th>
<th>VALUES</th>
</tr>
</thead>
<tbody>
<tr>
<td>A</td>
<td>2001</td>
<td>10</td>
</tr>
<tr>
<td>A</td>
<td>2000</td>
<td>5</td>
</tr>
<tr>
<td>A</td>
<td>TOTAL</td>
<td>15</td>
</tr>
<tr>
<td>B</td>
<td>2010</td>
<td>3</td>
</tr>
<tr>
<td>B</td>
<td>2011</td>
<td>7</td>
</tr>
<tr>
<td>B</td>
<td>TOTAL</td>
<td>10</td>
</tr>
</tbody>
</table>
</div>
We have to sort this table by ascending values of 'TOTAL' and then by ascending values of YEAR within the same NAME.
This would be our output:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>NAME</th>
<th>YEAR</th>
<th>VALUES</th>
</tr>
</thead>
<tbody>
<tr>
<td>B</td>
<td>2010</td>
<td>3</td>
</tr>
<tr>
<td>B</td>
<td>2011</td>
<td>7</td>
</tr>
<tr>
<td>B</td>
<td>TOTAL</td>
<td>10</td>
</tr>
<tr>
<td>A</td>
<td>2000</td>
<td>5</td>
</tr>
<tr>
<td>A</td>
<td>2001</td>
<td>10</td>
</tr>
<tr>
<td>A</td>
<td>TOTAL</td>
<td>15</td>
</tr>
</tbody>
</table>
</divould be our input:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>NAME</th>
<th>YEAR</th>
<th>VALUES</th>
</tr>
</thead>
<tbody>
<tr>
<td>A</td>
<td>2001</td>
<td>10</td>
</tr>
<tr>
<td>A</td>
<td>2000</td>
<td>5</td>
</tr>
<tr>
<td>A</td>
<td>TOTAL</td>
<td>15</td>
</tr>
<tr>
<td>B</td>
<td>2010</td>
<td>3</td>
</tr>
<tr>
<td>B</td>
<td>2011</td>
<td>7</td>
</tr>
<tr>
<td>B</td>
<td>TOTAL</td>
<td>10</td>
</tr>
</tbody>
</table>
</div>
We have to sort this table by ascending values of 'TOTAL' and then by ascending values of YEAR within the same NAME.
This would be our output:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>NAME</th>
<th>YEAR</th>
<th>VALUES</th>
</tr>
</thead>
<tbody>
<tr>
<td>B</td>
<td>2010</td>
<td>3</td>
</tr>
<tr>
<td>B</td>
<td>2011</td>
<td>7</td>
</tr>
<tr>
<td>B</td>
<td>TOTAL</td>
<td>10</td>
</tr>
<tr>
<td>A</td>
<td>2000</td>
<td>5</td>
</tr>
<tr>
<td>A</td>
<td>2001</td>
<td>10</td>
</tr>
<tr>
<td>A</td>
<td>TOTAL</td>
<td>15</td>
</tr>
</tbody>
</table>
</divwould be our input:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>NAME</th>
<th>YEAR</th>
<th>VALUES</th>
</tr>
</thead>
<tbody>
<tr>
<td>A</td>
<td>2001</td>
<td>10</td>
</tr>
<tr>
<td>A</td>
<td>2000</td>
<td>5</td>
</tr>
<tr>
<td>A</td>
<td>TOTAL</td>
<td>15</td>
</tr>
<tr>
<td>B</td>
<td>2010</td>
<td>3</td>
</tr>
<tr>
<td>B</td>
<td>2011</td>
<td>7</td>
</tr>
<tr>
<td>B</td>
<td>TOTAL</td>
<td>10</td>
</tr>
</tbody>
</table>
</div>
We have to sort this table by ascending values of 'TOTAL' and then by ascending values of YEAR within the same NAME.
This would be our output:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>NAME</th>
<th>YEAR</th>
<th>VALUES</th>
</tr>
</thead>
<tbody>
<tr>
<td>B</td>
<td>2010</td>
<td>3</td>
</tr>
<tr>
<td>B</td>
<td>2011</td>
<td>7</td>
</tr>
<tr>
<td>B</td>
<td>TOTAL</td>
<td>10</td>
</tr>
<tr>
<td>A</td>
<td>2000</td>
<td>5</td>
</tr>
<tr>
<td>A</td>
<td>2001</td>
<td>10</td>
</tr>
<tr>
<td>A</td>
<td>TOTAL</td>
<td>15</td>
</tr>
</tbody>
</table>
</divould be our input:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>NAME</th>
<th>YEAR</th>
<th>VALUES</th>
</tr>
</thead>
<tbody>
<tr>
<td>A</td>
<td>2001</td>
<td>10</td>
</tr>
<tr>
<td>A</td>
<td>2000</td>
<td>5</td>
</tr>
<tr>
<td>A</td>
<td>TOTAL</td>
<td>15</td>
</tr>
<tr>
<td>B</td>
<td>2010</td>
<td>3</td>
</tr>
<tr>
<td>B</td>
<td>2011</td>
<td>7</td>
</tr>
<tr>
<td>B</td>
<td>TOTAL</td>
<td>10</td>
</tr>
</tbody>
</table>
</div>
We have to sort this table by ascending values of 'TOTAL' and then by ascending values of YEAR within the same NAME.
This would be our output:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>NAME</th>
<th>YEAR</th>
<th>VALUES</th>
</tr>
</thead>
<tbody>
<tr>
<td>B</td>
<td>2010</td>
<td>3</td>
</tr>
<tr>
<td>B</td>
<td>2011</td>
<td>7</td>
</tr>
<tr>
<td>B</td>
<td>TOTAL</td>
<td>10</td>
</tr>
<tr>
<td>A</td>
<td>2000</td>
<td>5</td>
</tr>
<tr>
<td>A</td>
<td>2001</td>
<td>10</td>
</tr>
<tr>
<td>A</td>
<td>TOTAL</td>
<td>15</td>
</tr>
</tbody>
</table>
</div>",sql|postgresql
85,70305279,Find nearest prior row with specific condition,"Let's say I have the following table:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>id</th>
<th>column B</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>value A</td>
</tr>
<tr>
<td>2</td>
<td>value B</td>
</tr>
<tr>
<td>3</td>
<td>value D</td>
</tr>
<tr>
<td>4</td>
<td>value C</td>
</tr>
<tr>
<td>5</td>
<td>value D</td>
</tr>
<tr>
<td>6</td>
<td>value D</td>
</tr>
<tr>
<td>7</td>
<td>value D</td>
</tr>
<tr>
<td>8</td>
<td>value E</td>
</tr>
<tr>
<td>9</td>
<td>value F</td>
</tr>
<tr>
<td>10</td>
<td>value D</td>
</tr>
</tbody>
</table>
</div>
For each row with value D, I need to find the nearest above row with a value different than D. So what I need is:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>id</th>
<th>nearest row id</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>null</td>
</tr>
<tr>
<td>2</td>
<td>null</td>
</tr>
<tr>
<td>3</td>
<td>2</td>
</tr>
<tr>
<td>4</td>
<td>null</td>
</tr>
<tr>
<td>5</td>
<td>4</td>
</tr>
<tr>
<td>6</td>
<td>4</td>
</tr>
<tr>
<td>7</td>
<td>4</td>
</tr>
<tr>
<td>8</td>
<td>null</td>
</tr>
<tr>
<td>9</td>
<td>null</td>
</tr>
<tr>
<td>10</td>
<td>9</td>
</tr>
</tbody>
</table>
</div>
How can  I achieve this in PostreSQLsay I have the following table:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>id</th>
<th>column B</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>value A</td>
</tr>
<tr>
<td>2</td>
<td>value B</td>
</tr>
<tr>
<td>3</td>
<td>value D</td>
</tr>
<tr>
<td>4</td>
<td>value C</td>
</tr>
<tr>
<td>5</td>
<td>value D</td>
</tr>
<tr>
<td>6</td>
<td>value D</td>
</tr>
<tr>
<td>7</td>
<td>value D</td>
</tr>
<tr>
<td>8</td>
<td>value E</td>
</tr>
<tr>
<td>9</td>
<td>value F</td>
</tr>
<tr>
<td>10</td>
<td>value D</td>
</tr>
</tbody>
</table>
</div>
For each row with value D, I need to find the nearest above row with a value different than D. So what I need is:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>id</th>
<th>nearest row id</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>null</td>
</tr>
<tr>
<td>2</td>
<td>null</td>
</tr>
<tr>
<td>3</td>
<td>2</td>
</tr>
<tr>
<td>4</td>
<td>null</td>
</tr>
<tr>
<td>5</td>
<td>4</td>
</tr>
<tr>
<td>6</td>
<td>4</td>
</tr>
<tr>
<td>7</td>
<td>4</td>
</tr>
<tr>
<td>8</td>
<td>null</td>
</tr>
<tr>
<td>9</td>
<td>null</td>
</tr>
<tr>
<td>10</td>
<td>9</td>
</tr>
</tbody>
</table>
</div>
How can  I achieve this in PostreSQL say I have the following table:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>id</th>
<th>column B</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>value A</td>
</tr>
<tr>
<td>2</td>
<td>value B</td>
</tr>
<tr>
<td>3</td>
<td>value D</td>
</tr>
<tr>
<td>4</td>
<td>value C</td>
</tr>
<tr>
<td>5</td>
<td>value D</td>
</tr>
<tr>
<td>6</td>
<td>value D</td>
</tr>
<tr>
<td>7</td>
<td>value D</td>
</tr>
<tr>
<td>8</td>
<td>value E</td>
</tr>
<tr>
<td>9</td>
<td>value F</td>
</tr>
<tr>
<td>10</td>
<td>value D</td>
</tr>
</tbody>
</table>
</div>
For each row with value D, I need to find the nearest above row with a value different than D. So what I need is:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>id</th>
<th>nearest row id</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>null</td>
</tr>
<tr>
<td>2</td>
<td>null</td>
</tr>
<tr>
<td>3</td>
<td>2</td>
</tr>
<tr>
<td>4</td>
<td>null</td>
</tr>
<tr>
<td>5</td>
<td>4</td>
</tr>
<tr>
<td>6</td>
<td>4</td>
</tr>
<tr>
<td>7</td>
<td>4</td>
</tr>
<tr>
<td>8</td>
<td>null</td>
</tr>
<tr>
<td>9</td>
<td>null</td>
</tr>
<tr>
<td>10</td>
<td>9</td>
</tr>
</tbody>
</table>
</div>
How can  I achieve this in PostreSQLsay I have the following table:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>id</th>
<th>column B</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>value A</td>
</tr>
<tr>
<td>2</td>
<td>value B</td>
</tr>
<tr>
<td>3</td>
<td>value D</td>
</tr>
<tr>
<td>4</td>
<td>value C</td>
</tr>
<tr>
<td>5</td>
<td>value D</td>
</tr>
<tr>
<td>6</td>
<td>value D</td>
</tr>
<tr>
<td>7</td>
<td>value D</td>
</tr>
<tr>
<td>8</td>
<td>value E</td>
</tr>
<tr>
<td>9</td>
<td>value F</td>
</tr>
<tr>
<td>10</td>
<td>value D</td>
</tr>
</tbody>
</table>
</div>
For each row with value D, I need to find the nearest above row with a value different than D. So what I need is:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>id</th>
<th>nearest row id</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>null</td>
</tr>
<tr>
<td>2</td>
<td>null</td>
</tr>
<tr>
<td>3</td>
<td>2</td>
</tr>
<tr>
<td>4</td>
<td>null</td>
</tr>
<tr>
<td>5</td>
<td>4</td>
</tr>
<tr>
<td>6</td>
<td>4</td>
</tr>
<tr>
<td>7</td>
<td>4</td>
</tr>
<tr>
<td>8</td>
<td>null</td>
</tr>
<tr>
<td>9</td>
<td>null</td>
</tr>
<tr>
<td>10</td>
<td>9</td>
</tr>
</tbody>
</table>
</div>
How can  I achieve this in PostreSQL?",sql|postgresql
86,70056755,I can not convert the data to the required form,"Hi hi I have a Nodejs server and I am using PostgreSQL, the bottom part of my database.
How can I select data and represent it like this (in one sql query):

I wrote a request but it is far from what I need:
<pre><code>SELECT tests.id, 
       chapter, 
       time, 
       ARRAY_AGG(quests.question) AS questions, 
       ARRAY_AGG(options.option) AS quest_options 
FROM tests 
LEFT JOIN quests ON tests.id = quests.test_id 
LEFT JOIN options ON quests.id = options.quest_id 
WHERE tests.course_id = '${courseId}' 
GROUP BY tests.id
</code></pre>
<a href=""https://i.stack.imgur.com/QCyQm.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/QCyQm.png"" alt=""database structure"" /></a>",sql|postgresql
87,70094882,PostgreSQL array_agg returns null if first param is null,"I would like to aggregate data into 1 field.
So I have a query like this:

However if t.column1 is null, and t.column2 is not null, then i get a NULL returned. I would like to return something like this:
<blockquote>
column1;column2 OR null;column2 OR column1;null
</blockquote>
How could I do this with array_agg?",sql|postgresql
88,70098346,How to select rows where the condition where all rows are being extracted for a given condition?,"I have this table

with these entries
<pre><code>INSERT INTO fruits(name) 
VALUES('Orange');
INSERT INTO fruits(name) 
VALUES('Ananas');
INSERT INTO fruits(name) 
VALUES(null);
</code></pre>
When I try to to select all rows that not equal to 'Ananas' by querying
<pre><code>select * 
from fruits 
where name &lt;&gt; 'Ananas'
</code></pre>
I get these rows:
<pre><code>id  name
-----------
1   Orange
</code></pre>
What I would have expected was this
<pre><code>id  name
-----------
1   Orange
3   null
</code></pre>
How do I ensure that all rows that fulfills the condition gets selected?
Example in dbfiddle:
<a href=""https://dbfiddle.uk/?rdbms=postgres_11&amp;fiddle=a963d39df0466701b0a96b20db8461e6"" rel=""nofollow noreferrer"">https://dbfiddle.uk/?rdbms=postgres_11&amp;fiddle=a963d39df0466701b0a96b20db8461e6</a>",postgresql
89,70321000,Is there a way to retrieve the latest of the first `status` value from the table?,"I have been trying to write a query that returns the  of the first status matching record with the query itself. Let's say I have the table records below, I would like to retrieve the <code>APP_ID</code> and the <code>INSERTED_AT</code> columns where the <code>STATUS</code> should be the first of <code>Offer Sent</code> that occurs after the latest <code>Selectable</code> status and if there are any <code>Offer Declined</code> should ignore it.
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th style=""text-align: left;"">ID</th>
<th style=""text-align: left;"">APP_ID</th>
<th style=""text-align: left;"">INSERTED_AT</th>
<th style=""text-align: left;"">UPDATED_AT</th>
<th style=""text-align: left;"">STATUS</th>
</tr>
</thead>
<tbody>
<tr>
<td style=""text-align: left;"">1</td>
<td style=""text-align: left;"">209377</td>
<td style=""text-align: left;"">2021-05-13 20:57:30.000 +0530</td>
<td style=""text-align: left;"">2021-05-13 20:57:30.000 +0530</td>
<td style=""text-align: left;"">Selectable</td>
</tr>
<tr>
<td style=""text-align: left;"">2</td>
<td style=""text-align: left;"">209377</td>
<td style=""text-align: left;"">2021-05-13 20:57:58.000 +0530</td>
<td style=""text-align: left;"">2021-05-13 20:57:58.000 +0530</td>
<td style=""text-align: left;"">Selectable</td>
</tr>
<tr>
<td style=""text-align: left;"">3</td>
<td style=""text-align: left;"">209377</td>
<td style=""text-align: left;"">2021-05-14 18:40:08.000 +0530</td>
<td style=""text-align: left;"">2021-05-14 18:40:08.000 +0530</td>
<td style=""text-align: left;"">Offer Eligible</td>
</tr>
<tr>
<td style=""text-align: left;"">4</td>
<td style=""text-align: left;"">209377</td>
<td style=""text-align: left;"">2021-05-14 18:40:14.000 +0530</td>
<td style=""text-align: left;"">2021-05-14 18:40:14.000 +0530</td>
<td style=""text-align: left;"">Offer Sent</td>
</tr>
<tr>
<td style=""text-align: left;"">5</td>
<td style=""text-align: left;"">209377</td>
<td style=""text-align: left;"">2021-05-15 18:57:50.000 +0530</td>
<td style=""text-align: left;"">2021-05-15 18:57:50.000 +0530</td>
<td style=""text-align: left;"">Offer Sent</td>
</tr>
<tr>
<td style=""text-align: left;"">6</td>
<td style=""text-align: left;"">209377</td>
<td style=""text-align: left;"">2021-05-15 20:44:29.000 +0530</td>
<td style=""text-align: left;"">2021-05-15 20:44:29.000 +0530</td>
<td style=""text-align: left;"">Offer Sent</td>
</tr>
<tr>
<td style=""text-align: left;"">7</td>
<td style=""text-align: left;"">209377</td>
<td style=""text-align: left;"">2021-05-17 22:45:13.000 +0530</td>
<td style=""text-align: left;"">2021-05-17 22:45:13.000 +0530</td>
<td style=""text-align: left;"">Offer Accepted</td>
</tr>
<tr>
<td style=""text-align: left;"">8</td>
<td style=""text-align: left;"">110011</td>
<td style=""text-align: left;"">2021-05-13 20:57:30.000 +0530</td>
<td style=""text-align: left;"">2021-05-13 20:57:30.000 +0530</td>
<td style=""text-align: left;"">Selectable</td>
</tr>
<tr>
<td style=""text-align: left;"">9</td>
<td style=""text-align: left;"">110011</td>
<td style=""text-align: left;"">2021-05-13 20:57:58.000 +0530</td>
<td style=""text-align: left;"">2021-05-13 20:57:58.000 +0530</td>
<td style=""text-align: left;"">Offer Eligible</td>
</tr>
<tr>
<td style=""text-align: left;"">10</td>
<td style=""text-align: left;"">110011</td>
<td style=""text-align: left;"">2021-06-14 18:40:08.000 +0530</td>
<td style=""text-align: left;"">2021-05-14 18:40:08.000 +0530</td>
<td style=""text-align: left;"">Offer Sent</td>
</tr>
<tr>
<td style=""text-align: left;"">11</td>
<td style=""text-align: left;"">300110</td>
<td style=""text-align: left;"">2021-05-14 18:40:14.000 +0530</td>
<td style=""text-align: left;"">2021-05-14 18:40:14.000 +0530</td>
<td style=""text-align: left;"">Selectable</td>
</tr>
<tr>
<td style=""text-align: left;"">12</td>
<td style=""text-align: left;"">300110</td>
<td style=""text-align: left;"">2021-05-15 18:57:50.000 +0530</td>
<td style=""text-align: left;"">2021-05-15 18:57:50.000 +0530</td>
<td style=""text-align: left;"">Offer Eligible</td>
</tr>
<tr>
<td style=""text-align: left;"">13</td>
<td style=""text-align: left;"">300110</td>
<td style=""text-align: left;"">2021-05-15 20:44:29.000 +0530</td>
<td style=""text-align: left;"">2021-05-15 20:44:29.000 +0530</td>
<td style=""text-align: left;"">Offer Sent</td>
</tr>
<tr>
<td style=""text-align: left;"">14</td>
<td style=""text-align: left;"">300110</td>
<td style=""text-align: left;"">2021-05-17 22:45:13.000 +0530</td>
<td style=""text-align: left;"">2021-05-17 22:45:13.000 +0530</td>
<td style=""text-align: left;"">Offer Declined</td>
</tr>
</tbody>
</table>
</div>
Here are the expected results I am looking for
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th style=""text-align: left;"">APP_ID</th>
<th style=""text-align: left;"">INSERTED_AT</th>
<th style=""text-align: left;"">STATUS</th>
</tr>
</thead>
<tbody>
<tr>
<td style=""text-align: left;"">209377</td>
<td style=""text-align: left;"">2021-05-14 18:40:14.000 +0530</td>
<td style=""text-align: left;"">Offer Sent</td>
</tr>
<tr>
<td style=""text-align: left;"">110011</td>
<td style=""text-align: left;"">2021-05-14 18:40:08.000 +0530</td>
<td style=""text-align: left;"">Offer Sent</td>
</tr>
<tr>
<td style=""text-align: left;"">300110</td>
<td style=""text-align: left;"">nil</td>
<td style=""text-align: left;"">Offer Declined</td>
</tr>
</tbody>
</table>
</dive been trying to write a query that returns the  of the first status matching record with the query itself. Let's say I have the table records below, I would like to retrieve the <code>APP_ID</code> and the <code>INSERTED_AT</code> columns where the <code>STATUS</code> should be the first of <code>Offer Sent</code> that occurs after the latest <code>Selectable</code> status and if there are any <code>Offer Declined</code> should ignore it.
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th style=""text-align: left;"">ID</th>
<th style=""text-align: left;"">APP_ID</th>
<th style=""text-align: left;"">INSERTED_AT</th>
<th style=""text-align: left;"">UPDATED_AT</th>
<th style=""text-align: left;"">STATUS</th>
</tr>
</thead>
<tbody>
<tr>
<td style=""text-align: left;"">1</td>
<td style=""text-align: left;"">209377</td>
<td style=""text-align: left;"">2021-05-13 20:57:30.000 +0530</td>
<td style=""text-align: left;"">2021-05-13 20:57:30.000 +0530</td>
<td style=""text-align: left;"">Selectable</td>
</tr>
<tr>
<td style=""text-align: left;"">2</td>
<td style=""text-align: left;"">209377</td>
<td style=""text-align: left;"">2021-05-13 20:57:58.000 +0530</td>
<td style=""text-align: left;"">2021-05-13 20:57:58.000 +0530</td>
<td style=""text-align: left;"">Selectable</td>
</tr>
<tr>
<td style=""text-align: left;"">3</td>
<td style=""text-align: left;"">209377</td>
<td style=""text-align: left;"">2021-05-14 18:40:08.000 +0530</td>
<td style=""text-align: left;"">2021-05-14 18:40:08.000 +0530</td>
<td style=""text-align: left;"">Offer Eligible</td>
</tr>
<tr>
<td style=""text-align: left;"">4</td>
<td style=""text-align: left;"">209377</td>
<td style=""text-align: left;"">2021-05-14 18:40:14.000 +0530</td>
<td style=""text-align: left;"">2021-05-14 18:40:14.000 +0530</td>
<td style=""text-align: left;"">Offer Sent</td>
</tr>
<tr>
<td style=""text-align: left;"">5</td>
<td style=""text-align: left;"">209377</td>
<td style=""text-align: left;"">2021-05-15 18:57:50.000 +0530</td>
<td style=""text-align: left;"">2021-05-15 18:57:50.000 +0530</td>
<td style=""text-align: left;"">Offer Sent</td>
</tr>
<tr>
<td style=""text-align: left;"">6</td>
<td style=""text-align: left;"">209377</td>
<td style=""text-align: left;"">2021-05-15 20:44:29.000 +0530</td>
<td style=""text-align: left;"">2021-05-15 20:44:29.000 +0530</td>
<td style=""text-align: left;"">Offer Sent</td>
</tr>
<tr>
<td style=""text-align: left;"">7</td>
<td style=""text-align: left;"">209377</td>
<td style=""text-align: left;"">2021-05-17 22:45:13.000 +0530</td>
<td style=""text-align: left;"">2021-05-17 22:45:13.000 +0530</td>
<td style=""text-align: left;"">Offer Accepted</td>
</tr>
<tr>
<td style=""text-align: left;"">8</td>
<td style=""text-align: left;"">110011</td>
<td style=""text-align: left;"">2021-05-13 20:57:30.000 +0530</td>
<td style=""text-align: left;"">2021-05-13 20:57:30.000 +0530</td>
<td style=""text-align: left;"">Selectable</td>
</tr>
<tr>
<td style=""text-align: left;"">9</td>
<td style=""text-align: left;"">110011</td>
<td style=""text-align: left;"">2021-05-13 20:57:58.000 +0530</td>
<td style=""text-align: left;"">2021-05-13 20:57:58.000 +0530</td>
<td style=""text-align: left;"">Offer Eligible</td>
</tr>
<tr>
<td style=""text-align: left;"">10</td>
<td style=""text-align: left;"">110011</td>
<td style=""text-align: left;"">2021-06-14 18:40:08.000 +0530</td>
<td style=""text-align: left;"">2021-05-14 18:40:08.000 +0530</td>
<td style=""text-align: left;"">Offer Sent</td>
</tr>
<tr>
<td style=""text-align: left;"">11</td>
<td style=""text-align: left;"">300110</td>
<td style=""text-align: left;"">2021-05-14 18:40:14.000 +0530</td>
<td style=""text-align: left;"">2021-05-14 18:40:14.000 +0530</td>
<td style=""text-align: left;"">Selectable</td>
</tr>
<tr>
<td style=""text-align: left;"">12</td>
<td style=""text-align: left;"">300110</td>
<td style=""text-align: left;"">2021-05-15 18:57:50.000 +0530</td>
<td style=""text-align: left;"">2021-05-15 18:57:50.000 +0530</td>
<td style=""text-align: left;"">Offer Eligible</td>
</tr>
<tr>
<td style=""text-align: left;"">13</td>
<td style=""text-align: left;"">300110</td>
<td style=""text-align: left;"">2021-05-15 20:44:29.000 +0530</td>
<td style=""text-align: left;"">2021-05-15 20:44:29.000 +0530</td>
<td style=""text-align: left;"">Offer Sent</td>
</tr>
<tr>
<td style=""text-align: left;"">14</td>
<td style=""text-align: left;"">300110</td>
<td style=""text-align: left;"">2021-05-17 22:45:13.000 +0530</td>
<td style=""text-align: left;"">2021-05-17 22:45:13.000 +0530</td>
<td style=""text-align: left;"">Offer Declined</td>
</tr>
</tbody>
</table>
</div>
Here are the expected results I am looking for
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th style=""text-align: left;"">APP_ID</th>
<th style=""text-align: left;"">INSERTED_AT</th>
<th style=""text-align: left;"">STATUS</th>
</tr>
</thead>
<tbody>
<tr>
<td style=""text-align: left;"">209377</td>
<td style=""text-align: left;"">2021-05-14 18:40:14.000 +0530</td>
<td style=""text-align: left;"">Offer Sent</td>
</tr>
<tr>
<td style=""text-align: left;"">110011</td>
<td style=""text-align: left;"">2021-05-14 18:40:08.000 +0530</td>
<td style=""text-align: left;"">Offer Sent</td>
</tr>
<tr>
<td style=""text-align: left;"">300110</td>
<td style=""text-align: left;"">nil</td>
<td style=""text-align: left;"">Offer Declined</td>
</tr>
</tbody>
</table>
</div>",sql|postgresql
90,70073812,Group cases when group exists partially,"How to add the non existing group to a case, which exists within a different date range.
Data:

Desired output:
<pre><code>ID GROUP_ID   DATE_NEW_FROM   DATE_NEW_TO  NEW_ID
1    1        2019-10-05      2019-11-02   AAX2
1    1        2019-10-22      2019-10-26   AAX3
1    1        2019-10-24      2019-10-29   AAX4
1    2        2018-05-05      2018-05-10   CCA2
1    3        2020-05-20      2020-06-15   BBA1
1    3        2020-05-25      2020-05-29   BBA2
2 and so on...
</code></pre>
When <strong>DATE_NEW_FROM BETWEEN DATE_FROM and DATE_TO THEN GROUP_ID</strong>, but my date_from and date_to are null. So i dont know how to add it to the desired GROUP_ID.",sql|postgresql
91,70153350,How to show the start and end of actions in different columns,"Every N seconds, data about the user's state is written to the table. For example,
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>USER_ID</th>
<th>STATE_ID</th>
<th>DATE_TIME_STATE</th>
</tr>
</thead>
<tbody>
<tr>
<td>5555</td>
<td>1</td>
<td>2021-11-28 22:17:34</td>
</tr>
<tr>
<td>5555</td>
<td>1</td>
<td>2021-11-28 22:17:40</td>
</tr>
<tr>
<td>5555</td>
<td>1</td>
<td>2021-11-28 22:18:00</td>
</tr>
<tr>
<td>5555</td>
<td>2</td>
<td>2021-11-28 22:18:04</td>
</tr>
<tr>
<td>5555</td>
<td>2</td>
<td>2021-11-28 22:18:30</td>
</tr>
<tr>
<td>5555</td>
<td>2</td>
<td>2021-11-28 22:18:45</td>
</tr>
<tr>
<td>5555</td>
<td>2</td>
<td>2021-11-28 22:18:50</td>
</tr>
<tr>
<td>5555</td>
<td>1</td>
<td>2021-11-28 22:19:00</td>
</tr>
<tr>
<td>5555</td>
<td>1</td>
<td>2021-11-28 22:19:18</td>
</tr>
<tr>
<td>5555</td>
<td>1</td>
<td>2021-11-28 22:19:40</td>
</tr>
<tr>
<td>5555</td>
<td>1</td>
<td>2021-11-28 22:19:55</td>
</tr>
</tbody>
</table>
</div>
How to show start and end of state in different columns.
Anything like this:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>USER_ID</th>
<th>STATE_ID</th>
<th>START_DATE_TIME_STATE</th>
<th>END_DATE_TIME_STATE</th>
</tr>
</thead>
<tbody>
<tr>
<td>5555</td>
<td>1</td>
<td>2021-11-28 22:17:34</td>
<td>2021-11-28 22:18:00</td>
</tr>
<tr>
<td>5555</td>
<td>2</td>
<td>2021-11-28 22:17:40</td>
<td>2021-11-28 22:18:50</td>
</tr>
<tr>
<td>5555</td>
<td>1</td>
<td>2021-11-28 22:19:00</td>
<td>2021-11-28 22:19:55</td>
</tr>
</tbody>
</table>
</divN seconds, data about the user's state is written to the table. For example,
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>USER_ID</th>
<th>STATE_ID</th>
<th>DATE_TIME_STATE</th>
</tr>
</thead>
<tbody>
<tr>
<td>5555</td>
<td>1</td>
<td>2021-11-28 22:17:34</td>
</tr>
<tr>
<td>5555</td>
<td>1</td>
<td>2021-11-28 22:17:40</td>
</tr>
<tr>
<td>5555</td>
<td>1</td>
<td>2021-11-28 22:18:00</td>
</tr>
<tr>
<td>5555</td>
<td>2</td>
<td>2021-11-28 22:18:04</td>
</tr>
<tr>
<td>5555</td>
<td>2</td>
<td>2021-11-28 22:18:30</td>
</tr>
<tr>
<td>5555</td>
<td>2</td>
<td>2021-11-28 22:18:45</td>
</tr>
<tr>
<td>5555</td>
<td>2</td>
<td>2021-11-28 22:18:50</td>
</tr>
<tr>
<td>5555</td>
<td>1</td>
<td>2021-11-28 22:19:00</td>
</tr>
<tr>
<td>5555</td>
<td>1</td>
<td>2021-11-28 22:19:18</td>
</tr>
<tr>
<td>5555</td>
<td>1</td>
<td>2021-11-28 22:19:40</td>
</tr>
<tr>
<td>5555</td>
<td>1</td>
<td>2021-11-28 22:19:55</td>
</tr>
</tbody>
</table>
</div>
How to show start and end of state in different columns.
Anything like this:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>USER_ID</th>
<th>STATE_ID</th>
<th>START_DATE_TIME_STATE</th>
<th>END_DATE_TIME_STATE</th>
</tr>
</thead>
<tbody>
<tr>
<td>5555</td>
<td>1</td>
<td>2021-11-28 22:17:34</td>
<td>2021-11-28 22:18:00</td>
</tr>
<tr>
<td>5555</td>
<td>2</td>
<td>2021-11-28 22:17:40</td>
<td>2021-11-28 22:18:50</td>
</tr>
<tr>
<td>5555</td>
<td>1</td>
<td>2021-11-28 22:19:00</td>
<td>2021-11-28 22:19:55</td>
</tr>
</tbody>
</table>
</div N seconds, data about the user's state is written to the table. For example,
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>USER_ID</th>
<th>STATE_ID</th>
<th>DATE_TIME_STATE</th>
</tr>
</thead>
<tbody>
<tr>
<td>5555</td>
<td>1</td>
<td>2021-11-28 22:17:34</td>
</tr>
<tr>
<td>5555</td>
<td>1</td>
<td>2021-11-28 22:17:40</td>
</tr>
<tr>
<td>5555</td>
<td>1</td>
<td>2021-11-28 22:18:00</td>
</tr>
<tr>
<td>5555</td>
<td>2</td>
<td>2021-11-28 22:18:04</td>
</tr>
<tr>
<td>5555</td>
<td>2</td>
<td>2021-11-28 22:18:30</td>
</tr>
<tr>
<td>5555</td>
<td>2</td>
<td>2021-11-28 22:18:45</td>
</tr>
<tr>
<td>5555</td>
<td>2</td>
<td>2021-11-28 22:18:50</td>
</tr>
<tr>
<td>5555</td>
<td>1</td>
<td>2021-11-28 22:19:00</td>
</tr>
<tr>
<td>5555</td>
<td>1</td>
<td>2021-11-28 22:19:18</td>
</tr>
<tr>
<td>5555</td>
<td>1</td>
<td>2021-11-28 22:19:40</td>
</tr>
<tr>
<td>5555</td>
<td>1</td>
<td>2021-11-28 22:19:55</td>
</tr>
</tbody>
</table>
</div>
How to show start and end of state in different columns.
Anything like this:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>USER_ID</th>
<th>STATE_ID</th>
<th>START_DATE_TIME_STATE</th>
<th>END_DATE_TIME_STATE</th>
</tr>
</thead>
<tbody>
<tr>
<td>5555</td>
<td>1</td>
<td>2021-11-28 22:17:34</td>
<td>2021-11-28 22:18:00</td>
</tr>
<tr>
<td>5555</td>
<td>2</td>
<td>2021-11-28 22:17:40</td>
<td>2021-11-28 22:18:50</td>
</tr>
<tr>
<td>5555</td>
<td>1</td>
<td>2021-11-28 22:19:00</td>
<td>2021-11-28 22:19:55</td>
</tr>
</tbody>
</table>
</divN seconds, data about the user's state is written to the table. For example,
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>USER_ID</th>
<th>STATE_ID</th>
<th>DATE_TIME_STATE</th>
</tr>
</thead>
<tbody>
<tr>
<td>5555</td>
<td>1</td>
<td>2021-11-28 22:17:34</td>
</tr>
<tr>
<td>5555</td>
<td>1</td>
<td>2021-11-28 22:17:40</td>
</tr>
<tr>
<td>5555</td>
<td>1</td>
<td>2021-11-28 22:18:00</td>
</tr>
<tr>
<td>5555</td>
<td>2</td>
<td>2021-11-28 22:18:04</td>
</tr>
<tr>
<td>5555</td>
<td>2</td>
<td>2021-11-28 22:18:30</td>
</tr>
<tr>
<td>5555</td>
<td>2</td>
<td>2021-11-28 22:18:45</td>
</tr>
<tr>
<td>5555</td>
<td>2</td>
<td>2021-11-28 22:18:50</td>
</tr>
<tr>
<td>5555</td>
<td>1</td>
<td>2021-11-28 22:19:00</td>
</tr>
<tr>
<td>5555</td>
<td>1</td>
<td>2021-11-28 22:19:18</td>
</tr>
<tr>
<td>5555</td>
<td>1</td>
<td>2021-11-28 22:19:40</td>
</tr>
<tr>
<td>5555</td>
<td>1</td>
<td>2021-11-28 22:19:55</td>
</tr>
</tbody>
</table>
</div>
How to show start and end of state in different columns.
Anything like this:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>USER_ID</th>
<th>STATE_ID</th>
<th>START_DATE_TIME_STATE</th>
<th>END_DATE_TIME_STATE</th>
</tr>
</thead>
<tbody>
<tr>
<td>5555</td>
<td>1</td>
<td>2021-11-28 22:17:34</td>
<td>2021-11-28 22:18:00</td>
</tr>
<tr>
<td>5555</td>
<td>2</td>
<td>2021-11-28 22:17:40</td>
<td>2021-11-28 22:18:50</td>
</tr>
<tr>
<td>5555</td>
<td>1</td>
<td>2021-11-28 22:19:00</td>
<td>2021-11-28 22:19:55</td>
</tr>
</tbody>
</table>
</div>",sql|postgresql
92,70318098,"How do I see the transaction amounts, sum of total amount for a particular account number in the Hedera_etl on Big query?","I want to Query the Hedera-ETL public dataset :
So far I have this but it doesn't return any results: SELECT h.amount FROM ,unnest(transactionRecord.transferList.accountAmounts) as h where  transaction.body.nodeAccountID.accountNum = 27500
The following is the schema:
<a href=""https://i.stack.imgur.com/qObTL.png"" rel=""nofollow noreferrer"">schema of hedera-etl</a>
<a href=""https://i.stack.imgur.com/lfxrD.png"" rel=""nofollow noreferrer""></a>
<a href=""https://i.stack.imgur.com/wOPhK.png"" rel=""nofollow noreferrer""></at to Query the Hedera-ETL public dataset :
So far I have this but it doesn't return any results: SELECT h.amount FROM ,unnest(transactionRecord.transferList.accountAmounts) as h where  transaction.body.nodeAccountID.accountNum = 27500
The following is the schema:
<a href=""https://i.stack.imgur.com/qObTL.png"" rel=""nofollow noreferrer"">schema of hedera-etl</a>
<a href=""https://i.stack.imgur.com/lfxrD.png"" rel=""nofollow noreferrer""></a>
<a href=""https://i.stack.imgur.com/wOPhK.png"" rel=""nofollow noreferrer""></a>",google-bigquery
93,70374976,Select specific rows which has several attributes in another table,"I have 2 tables:
TABLE: occupiedrooms
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>name</th>
<th>branchNo</th>
<th>roomNo</th>
</tr>
</thead>
<tbody>
<tr>
<td>abc</td>
<td>2</td>
<td>100</td>
</tr>
<tr>
<td>cba</td>
<td>1</td>
<td>100</td>
</tr>
<tr>
<td>aaa</td>
<td>2</td>
<td>101</td>
</tr>
</tbody>
</table>
</div>
TABLE: allrooms
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>roomNo</th>
<th>branchNo</th>
</tr>
</thead>
<tbody>
<tr>
<td>100</td>
<td>1</td>
</tr>
<tr>
<td>100</td>
<td>2</td>
</tr>
<tr>
<td>101</td>
<td>1</td>
</tr>
<tr>
<td>101</td>
<td>2</td>
</tr>
</tbody>
</table>
</div>
And i want to get all rooms that are NOT occupied. I'ved tried

but then it turns out that it will disregard room 101 branch 1 because its room number exists in occupiedrooms. 
How can I query these tables to get all non-occupied rooms?",mysql
94,70091749,BigQuery - quoting strings produced unexpected results,"I am running the following query:

which results in:
<a href=""https://i.stack.imgur.com/q1q2j.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/q1q2j.png"" alt=""enter image description here"" /></a>
and this is the expected results.
But when I save the results to a csv file,
the results look different.
The issue is with the extra double quotation mark that is surrounding each element.
<a href=""https://i.stack.imgur.com/owRt4.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/owRt4.png"" alt=""enter image description here"" /></a>
Any idea what is causing this discrepancy.
btw, my local machine is running Windows 11.",google-bigquery
95,70263679,Does postgres optimize same expressions in CASE,"I want to get the number from text column of a database (for example the next text is )

The in-text number can be float (from 0 to 1) or integer (&gt;100) and I want to cast it to the single float format with <code>CASE</code> the following way
<pre><code>select case when substring('Test 900 g' from '[0-9]+\.?[0-9]*')::numeric &gt;= 100 
                 then substring('Test 900 g' from '[0-9]+\.?[0-9]*')::numeric / 10000
            else substring('Test 900 g' from '[0-9]+\.?[0-9]*')::numeric
       end as single_format
</code></pre>
Will Postgres recalculate the substring value every time in this <code>CASE</code> construction or will this expression be optimized and calculated only one time for each row?",postgresql
96,70118310,How to verify permission to update a specific column was granted?,"I have the executed following change:
<pre class=""lang-sql prettyprint-override""></pre>
How can I use a select statement to verify this change was made?
I can't see the entry in <code>information_schema.table_privileges</code>
How can I use a select statement to verify this change was made?
I can't see the entry in <code>information_schema.table_privileges</code>.",postgresql
97,70144036,Creating a table with values from a WITH Query,"i want to create a table with specific values.
:

But instead of using manual values, i want to use values from a <strong>WITH</strong> QUERY
<code>Like this</code>:
<pre><code>WITH Test AS 
(
Select table1.id FROM table1
)

SELECT * FROM (VALUES ('Data1', Test.id), ('Data2', Test.id) ) AS t (&quot;ColumnName1&quot;,&quot;ColumnName2&quot;);
</code></pre>
<strong>How do I access the data from the WITH query?</strong>",sql|postgresql
98,70146079,"Count removes all but one value, instead of showing one of each value, and distinct replaces names with '0'","I want to show how many films each actor has played (sakila db on MySQL)
",mysql
99,70218959,How to join attributes to a many-to-many tables keys?,"I currently have a table called borders which functions as a many-to-many relation for two country-entities:

Where each tuple in the table looks something like:
<pre><code>|      country1       |    country2    |    length      |
|---------------------|----------------|----------------|
|          AL         |       MK       |     3271       |
|          GR         |       TR       |     1712       |
</code></pre>
Now I would like to create a query that projects a table where you can also see the GDP for both of these countries, gathered from the Economy table which looks like:
<pre><code>CREATE TABLE Economy
(
    Country VARCHAR(4) CONSTRAINT EconomyKey PRIMARY KEY,
    GDP DECIMAL CONSTRAINT EconomyGDP
        CHECK (GDP &gt;= 0)
);
</code></pre>
The resulting table should look something like:
<pre><code>|      country1       |    country2    |      GDP1      |      GDP2      |     length      |
|---------------------|----------------|----------------|----------------|------------------
|          AL         |       MK       |       428      |       734      |       3271      |
|          GR         |       TR       |       300      |       823      |       1712      |
</code></pre>
Where GDP1 corresponds to country1 and GDP2 corresponds to country2.",sql|postgresql
100,70341960,SQL - 10 Recent placed orders,"I struggle a little with the interpretation of this question. (I am a noob in sql).
This is the
<a href=""https://www.w3schools.com/sql/trysql.asp?filename=trysql_select_all"" rel=""nofollow noreferrer"">Database</a> I will be using.
I struggle with the interpretation of this question (yet very simple).
question:
<em>Write an sql statement that retrieves order number, customer number and customer name for the 10 most recently placed order</em>

Is your interpretation similar? if not, what is your interpretation?",mysql
101,70112328,BigQuery - Where a database object is being used,"I am looking for a programmable way to find out where a database object like table, function or stored procedure is referenced from other database objects.
For example, where the function &quot;x&quot; is being used.
The answer could be that it is being used in
View &quot;a&quot;, Stored procedure &quot;b&quot; and function &quot;c&quot;ooking for a programmable way to find out where a database object like table, function or stored procedure is referenced from other database objects.
For example, where the function &quot;x&quot; is being used.
The answer could be that it is being used in
View &quot;a&quot;, Stored procedure &quot;b&quot; and function &quot;c&quot;looking for a programmable way to find out where a database object like table, function or stored procedure is referenced from other database objects.
For example, where the function &quot;x&quot; is being used.
The answer could be that it is being used in
View &quot;a&quot;, Stored procedure &quot;b&quot; and function &quot;c&quot;ooking for a programmable way to find out where a database object like table, function or stored procedure is referenced from other database objects.
For example, where the function &quot;x&quot; is being used.
The answer could be that it is being used in
View &quot;a&quot;, Stored procedure &quot;b&quot; and function &quot;c&quot;.",google-bigquery
102,70135508,Strip empty lines with mysql and regex,"I'm importing a mysql table and a field has text with many blank lines.
I would like to use a regex to strip the blank lines.
A regex I found on SO would be something like this: '/^\s*$(?:\r\n?|\n)/gm'.
Then, I used:

But it does not work.
I think I'm getting it wrong on how to use regexp_replace.",mysql
103,70161844,transpose table on PostgreSQL leads to invalid source data SQL statement error,"I am trying to use the  function to transpose (pivot) a table. But I receive an Error:

sample data and query:
<pre><code>create table installs (
    install_id integer not null unique generated by default as identity primary key,
    platform text,
    install_timestamp timestamp
);

insert into installs values (default, 'iOS', '2021-11-29 16:09:54');
insert into installs values (default, 'Android', '2021-11-29 16:09:00');
insert into installs values (default, 'iOS', '2021-11-29 16:18:43');
insert into installs values (default, 'Android', '2021-11-30 15:34:30');
insert into installs values (default, 'Android', '2021-12-01 02:24:45');

select *
from crosstab ('
    select
        platform,
        count(install_id) as Unique_installs
    from installs
    group by 1
    ') as ct (&quot;Android&quot; text, &quot;iOS&quot; text);
</code></pre>",postgresql
104,70173047,MySQL GROUP BY - get SUM of few grouped values,"I have a simple db where I have users and every user have 'country', for ex:

I want to get count of very country users, BUT I need to get TOP 3 countries users counts (US, UK, Japan for example), and all other countries users count should be summarized together as &quot;Rest&quot;. How to do this?
So in my example this should give me this result from SQL:
<pre><code>US = 2
UK = 1
Japan = 1
Rest = 2
</code></pre>
<strong>If I will make regular SQL:</strong>
<pre><code>SELECT count(userid) FROM users GROUP BY country
</code></pre>
I will get results for every country, but I need only TOP 3 and all others count as &quot;Rest&quot; in results. Thanks!
P.S.: I tried to create SQLFiddle for this, but their website is down right now and I can't use it.",mysql
105,70189582,Cypher only return nodes where connected nodes don't contain a substring on a property,"I can't quite figure out the syntax on something in Cypher. I want to return papers only where none of the authors work at a certain place.
Something like this

Unfortunately this throws an error.
I also tried this:
<pre><code>MATCH (p:Paper)&lt;-[:AUTHOR_OF]-(authors)
WHERE NOT authors.institute CONTAINS &quot;SomeInstituteName&quot;
RETURN p, authors
</code></pre>
This doesn't work either as it just returns all the papers and filters out authors that work at some institute. I'd like to only return papers where not even one author works at 'SomeInstituteName'",neo4j|cypher
106,70275830,Postgres: grouping array by common element,"I have a table containing an id and an array of related id

I want to group / merge all related id having a common element
<pre><code> id  | related_id  |      full_ids       
-----+-------------+---------------------
 712 | {1116}      | {712,1116,837,1127}
 837 | {1116,1127} | {837,1116,712,1127}
1116 | {712,837}   | {712,1116,837,1127}
1127 | {837}       | {1127,837,1116,712}
</code></pre>
I try to do it with a recursive SQL but for now some row have missing element
<pre><code> WITH RECURSIVE 
 un AS (SELECT id,unnest(related_id) as parent FROM my_table),
 rec (id) as
 (
   SELECT id,parent,array[id] as ids from un
     UNION ALL
   SELECT rec.id,un.parent,ids || un.id FROM rec JOIN un ON rec.parent = un.id where un.id &lt;&gt; all(ids)
 ),
 j AS (SELECT distinct on (id) ids,id FROM rec order by id, cardinality(ids) desc)                                                           
 SELECT ops.*,j.ids as full_ids FROM my_table ops LEFT JOIN j ON ops.id=j.id;
</code></pre>
Result of this query
<pre><code>  id  | related_id  |      full_ids       
------+-------------+---------------------
  712 | {1116}      | {712,1116,837,1127}
  837 | {1116,1127} | {837,1116,712}
 1116 | {712,837}   | {1116,837,1127}
 1127 | {837}       | {1127,837,1116,712}
</code></pre>
What I am missing ?",postgresql
107,70060741,"How to create, update or delete according to values in a collection in neo4j?","In neo4j, I have relationship  with property <code>similarity</code> in database, and I have a collection <code>collect([node_n, node_m, new_similarity]) AS similarity_table</code> contains new information. I want to:
<ol>
<li>if relationship <code>(node_n)-[r:IS_SIMILAR]-(node_m)</code> <strong>exists</strong> and <code>[node_n, node_m, new_similarity &gt;= 0.5]</code> in <code>similarity_table</code>, only <strong>UPDATE</strong> the value of <code>r.similarity</code> to <code>new_similarity</code></li>
<li>if relationship <code>(node_n)-[r:IS_SIMILAR]-(node_m)</code> <strong>exists</strong> and <code>[node_n, node_m, new_similarity &lt; 0.5]</code> in <code>similarity_table</code>, <strong>DELETE</strong> <code>r</code> (because node_n and node_m are no longer similar)</li>
<li>if relationship <code>(node_n)-[r:IS_SIMILAR]-(node_m)</code> <strong>does not exist</strong> and <code>[node_n, node_m, new_similarity &gt;= 0.5]</code> in <code>similarity_table</code>, <strong>CREATE</strong> <code>(node_n)-[r:IS_SIMILAR]-(node_m)</code> with <code>SET r.similarity = new_similarity</code></li>
<li>if relationship <code>(node_n)-[r:IS_SIMILAR]-(node_m)</code> <strong>does not exist</strong> and <code>[node_n, node_m, new_similarity &lt; 0.5]</code> in <code>similarity_table</code>, do nothing</li>
</ol>
With <code>MERGE</code> I can handle 1+3+4 (by only processing <code>new_similarity &gt;= 0.5</code> part):

But can I combine all these conditional actions (CREATE, UPDATE, DELETE) in one Cypher?",neo4j|cypher
108,70254277,List all users in PostgreSQL and identify non ad user,"I wanted to list all users in postgreSQL and I would like to identify the users which are not linked to Active Directory.
select * from pg_user;
Above lists all users. I am trying to set up an alert when other dbas create an user which are not part of Active Directory and notify me.
I am looking for a solutioned to list all users in postgreSQL and I would like to identify the users which are not linked to Active Directory.
select * from pg_user;
Above lists all users. I am trying to set up an alert when other dbas create an user which are not part of Active Directory and notify me.
I am looking for a solutionted to list all users in postgreSQL and I would like to identify the users which are not linked to Active Directory.
select * from pg_user;
Above lists all users. I am trying to set up an alert when other dbas create an user which are not part of Active Directory and notify me.
I am looking for a solutioned to list all users in postgreSQL and I would like to identify the users which are not linked to Active Directory.
select * from pg_user;
Above lists all users. I am trying to set up an alert when other dbas create an user which are not part of Active Directory and notify me.
I am looking for a solution.",postgresql
109,70269304,How do I set up default access privileges when creating new database in PostgreSQL?,"I am trying to create default access privileges so all databases created in the cluster will only give connection privileges to 3 pre-existing roles and superusers.
I have modified template1 access privileges.  Now, I am creating a new database but its not inheriting the access privileges (test_db2).
<a href=""https://i.stack.imgur.com/oPUc6.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/oPUc6.png"" alt=""list of databases"" /></a>
Am I just missing the right command line?
",postgresql
110,70295914,Neo4j- finding person whose mother doesn't have siblings and father has siblings,"I have a weird problem with my query. If I write something like this:

It gives me a person, whose mother's mother doesn't have any kids except the person's mother, but person's mother's father has a lot of kids.
The query works fine if I write it like this:
<pre><code>MATCH (mother: Person_kol)-[:MOTHER]-&gt;(p: Person_kol)&lt;-[:FATHER]-(father: Person_kol)&lt;--(parentOfFather)--&gt;(:Person_kol) WHERE NOT (mother: Person_kol)&lt;--()--&gt;()
RETURN distinct(p.idPerson)
</code></pre>
Why is it? I don't see any particular difference in queries.",neo4j|cypher
111,70337298,postgresql combine 2 select from 2 different tables,"Hello i need to run a query with 2 select statements, one with an avg calculation and grouped by name and the other select, looking for that name in other table, and get some columns and do a JOIN to merge both and only left one column &quot;name&quot; on it.
The first table its this:

The second table its like this:
<pre><code>+------+-------+----------+
| Name | digit | currency |
+------+-------+----------+
| #AAA |    2  | USD      |
| #BBB |     1 |  EUR     |
+------+-------+----------+
</code></pre>
The final query should return something like this:
<pre><code>+------+-------------+-----------+-----------+-------+----------+
| Name |    Time     | LowPrice  | HighPrice | digit | currency |
+------+-------------+-----------+-----------+-------+----------+
| #AAA | 12/13/2021  |    383.12 |     393.9 |     2 | USD      |
| #BBB | 12/13/2021  |   1110.34 |    1114.1 |     1 | EUR      |
+------+-------------+-----------+-----------+-------+----------+
</code></pre>
I know this query should be something like this:
<pre><code>SELECT *
FROM  (
    SELECT name, date_trunc('day', &quot;Time&quot;), avg(&quot;LowPrice&quot;), avg(&quot;HighPrice&quot;)
    FROM   sometable
    GROUP BY &quot;name&quot;, date_trunc('day', &quot;Time&quot;
    ) t
CROSS JOIN (
    SELECT name, digit, currrency
    FROM   othertable
    GROUP BY &quot;name&quot;
    ) m
</code></pre>
but doesnt work, thanks for your heads up and help me to debug this",sql|postgresql
112,70111108,Select first value then fill with null for unique id,"I'm using a Postgres database.
I've been trying to resolve this for hours and read dozens of topics with no result yet
Since I don't know how to explain my issue with words, here is what I need by example :
My query is
<pre class=""lang-sql prettyprint-override""></pre>
Current output :
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th style=""text-align: left;"">contrat_pentete_id</th>
<th style=""text-align: left;"">chiffre_affaires_id</th>
<th style=""text-align: left;"">chiffre_affaires_montant_total</th>
</tr>
</thead>
<tbody>
<tr>
<td style=""text-align: left;"">1</td>
<td style=""text-align: left;"">1</td>
<td style=""text-align: left;"">111.7848</td>
</tr>
<tr>
<td style=""text-align: left;"">1</td>
<td style=""text-align: left;"">2</td>
<td style=""text-align: left;"">111.7848</td>
</tr>
<tr>
<td style=""text-align: left;"">1</td>
<td style=""text-align: left;"">3</td>
<td style=""text-align: left;"">111.7848</td>
</tr>
<tr>
<td style=""text-align: left;"">1</td>
<td style=""text-align: left;"">4</td>
<td style=""text-align: left;"">111.7848</td>
</tr>
<tr>
<td style=""text-align: left;"">1</td>
<td style=""text-align: left;"">5</td>
<td style=""text-align: left;"">111.7848</td>
</tr>
<tr>
<td style=""text-align: left;"">1</td>
<td style=""text-align: left;"">6</td>
<td style=""text-align: left;"">111.7848</td>
</tr>
<tr>
<td style=""text-align: left;"">2</td>
<td style=""text-align: left;"">7</td>
<td style=""text-align: left;"">90</td>
</tr>
<tr>
<td style=""text-align: left;"">2</td>
<td style=""text-align: left;"">8</td>
<td style=""text-align: left;"">90</td>
</tr>
<tr>
<td style=""text-align: left;"">2</td>
<td style=""text-align: left;"">9</td>
<td style=""text-align: left;"">90</td>
</tr>
<tr>
<td style=""text-align: left;"">2</td>
<td style=""text-align: left;"">10</td>
<td style=""text-align: left;"">90</td>
</tr>
</tbody>
</table>
</div>
Expected output :
<blockquote>
null values can be replaced by 0, both null or 0 would work
</blockquote>
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th style=""text-align: left;"">contrat_pentete_id</th>
<th style=""text-align: left;"">chiffre_affaires_id</th>
<th style=""text-align: left;"">chiffre_affaires_montant_total</th>
</tr>
</thead>
<tbody>
<tr>
<td style=""text-align: left;"">1</td>
<td style=""text-align: left;"">1</td>
<td style=""text-align: left;"">111.7848</td>
</tr>
<tr>
<td style=""text-align: left;"">1</td>
<td style=""text-align: left;"">2</td>
<td style=""text-align: left;"">null</td>
</tr>
<tr>
<td style=""text-align: left;"">1</td>
<td style=""text-align: left;"">3</td>
<td style=""text-align: left;"">null</td>
</tr>
<tr>
<td style=""text-align: left;"">1</td>
<td style=""text-align: left;"">4</td>
<td style=""text-align: left;"">null</td>
</tr>
<tr>
<td style=""text-align: left;"">1</td>
<td style=""text-align: left;"">5</td>
<td style=""text-align: left;"">null</td>
</tr>
<tr>
<td style=""text-align: left;"">1</td>
<td style=""text-align: left;"">6</td>
<td style=""text-align: left;"">null</td>
</tr>
<tr>
<td style=""text-align: left;"">2</td>
<td style=""text-align: left;"">7</td>
<td style=""text-align: left;"">90</td>
</tr>
<tr>
<td style=""text-align: left;"">2</td>
<td style=""text-align: left;"">8</td>
<td style=""text-align: left;"">null</td>
</tr>
<tr>
<td style=""text-align: left;"">2</td>
<td style=""text-align: left;"">9</td>
<td style=""text-align: left;"">null</td>
</tr>
<tr>
<td style=""text-align: left;"">2</td>
<td style=""text-align: left;"">10</td>
<td style=""text-align: left;"">null</td>
</tr>
</tbody>
</table>
</div>
Thank you in advance for any help 
Current output :
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th style=""text-align: left;"">contrat_pentete_id</th>
<th style=""text-align: left;"">chiffre_affaires_id</th>
<th style=""text-align: left;"">chiffre_affaires_montant_total</th>
</tr>
</thead>
<tbody>
<tr>
<td style=""text-align: left;"">1</td>
<td style=""text-align: left;"">1</td>
<td style=""text-align: left;"">111.7848</td>
</tr>
<tr>
<td style=""text-align: left;"">1</td>
<td style=""text-align: left;"">2</td>
<td style=""text-align: left;"">111.7848</td>
</tr>
<tr>
<td style=""text-align: left;"">1</td>
<td style=""text-align: left;"">3</td>
<td style=""text-align: left;"">111.7848</td>
</tr>
<tr>
<td style=""text-align: left;"">1</td>
<td style=""text-align: left;"">4</td>
<td style=""text-align: left;"">111.7848</td>
</tr>
<tr>
<td style=""text-align: left;"">1</td>
<td style=""text-align: left;"">5</td>
<td style=""text-align: left;"">111.7848</td>
</tr>
<tr>
<td style=""text-align: left;"">1</td>
<td style=""text-align: left;"">6</td>
<td style=""text-align: left;"">111.7848</td>
</tr>
<tr>
<td style=""text-align: left;"">2</td>
<td style=""text-align: left;"">7</td>
<td style=""text-align: left;"">90</td>
</tr>
<tr>
<td style=""text-align: left;"">2</td>
<td style=""text-align: left;"">8</td>
<td style=""text-align: left;"">90</td>
</tr>
<tr>
<td style=""text-align: left;"">2</td>
<td style=""text-align: left;"">9</td>
<td style=""text-align: left;"">90</td>
</tr>
<tr>
<td style=""text-align: left;"">2</td>
<td style=""text-align: left;"">10</td>
<td style=""text-align: left;"">90</td>
</tr>
</tbody>
</table>
</div>
Expected output :
<blockquote>
null values can be replaced by 0, both null or 0 would work
</blockquote>
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th style=""text-align: left;"">contrat_pentete_id</th>
<th style=""text-align: left;"">chiffre_affaires_id</th>
<th style=""text-align: left;"">chiffre_affaires_montant_total</th>
</tr>
</thead>
<tbody>
<tr>
<td style=""text-align: left;"">1</td>
<td style=""text-align: left;"">1</td>
<td style=""text-align: left;"">111.7848</td>
</tr>
<tr>
<td style=""text-align: left;"">1</td>
<td style=""text-align: left;"">2</td>
<td style=""text-align: left;"">null</td>
</tr>
<tr>
<td style=""text-align: left;"">1</td>
<td style=""text-align: left;"">3</td>
<td style=""text-align: left;"">null</td>
</tr>
<tr>
<td style=""text-align: left;"">1</td>
<td style=""text-align: left;"">4</td>
<td style=""text-align: left;"">null</td>
</tr>
<tr>
<td style=""text-align: left;"">1</td>
<td style=""text-align: left;"">5</td>
<td style=""text-align: left;"">null</td>
</tr>
<tr>
<td style=""text-align: left;"">1</td>
<td style=""text-align: left;"">6</td>
<td style=""text-align: left;"">null</td>
</tr>
<tr>
<td style=""text-align: left;"">2</td>
<td style=""text-align: left;"">7</td>
<td style=""text-align: left;"">90</td>
</tr>
<tr>
<td style=""text-align: left;"">2</td>
<td style=""text-align: left;"">8</td>
<td style=""text-align: left;"">null</td>
</tr>
<tr>
<td style=""text-align: left;"">2</td>
<td style=""text-align: left;"">9</td>
<td style=""text-align: left;"">null</td>
</tr>
<tr>
<td style=""text-align: left;"">2</td>
<td style=""text-align: left;"">10</td>
<td style=""text-align: left;"">null</td>
</tr>
</tbody>
</table>
</div>
Thank you in advance for any help !",sql|postgresql
113,70140436,Replacing int value with null,"When I have an  column and most of the data is a number, but I have a few where there is no data and I am trying to fill it in with a <code>null</code>. how do you go about this? (In summary a <code>null</code> value in place of an <code>int</code>).
",mysql
114,70263338,How to combine query from last 1 hour with max time for each id?,"I have a PostgreSQL database with time series data. To check if the data quality especially whether the sensors are writing to the database I implemented a SQL view which gives me the average of the last hour and I can see the data with this code:

The time serie data table looks like this:
<pre><code>    datetime                    value   location   name
0    2018-01-01 13:35:00+01:00   0.22    HLN    NO2
1    2018-01-01 13:35:00+01:00   0.31    HLN    CO
2    2018-01-01 13:35:00+01:00   1.15    HLN    NO
3    2018-01-01 13:40:00+01:00   1.80    AIS    NO2
4    2018-01-01 13:40:00+01:00   2.60    AIS    CO
5    2018-01-01 13:40:00+01:00   2.30    AIS    NO
6    2018-01-01 13:45:00+01:00   2.25    HLN    NO2
7    2018-01-02 13:45:00+01:00   2.14    HLN    CO
8    2018-01-02 13:45:00+01:00   2.96    HLN    NO
9    2018-01-02 14:35:00+01:00   0.76    HLN    NO2
10   2018-01-02 14:35:00+01:00   0.80    HLN    CO
11   2018-01-02 14:35:00+01:00   1.19    HLN    NO
12   2018-01-02 14:40:00+01:00   1.10    AIS    NO2
13   2018-01-02 14:40:00+01:00   2.87    AIS    CO
14   2018-01-02 14:40:00+01:00   2.80    AIS    NO
15   2018-01-02 14:45:00+01:00   3.06    HLN    NO2
16   2018-01-02 13:45:00+01:00   2.86    HLN    CO
17   2018-01-02 13:45:00+01:00   2.22    HLN    NO

</code></pre>
Since I have a huge database and some sensors stopped writing data 2 weeks ago, from time to time I check the <code>MAX(datetime)</code> for each location to see which one sent the last time the data.
Now my question is, can I expand my sql query to also include the max time for each location?
I know for example from the initial view that 2 sensors don't send data to the database, since they are not visible in the last hour of the data and I know from the <code>MAX(datetime)</code> that they stopped 2 weeks ago to send data.",sql|postgresql
115,70120960,Calculate the increase in new positive cases in SQL,"Currently I have a table called test:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>id</th>
<th>test_date</th>
<th>result</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>2021-11-25</td>
<td>positive</td>
</tr>
<tr>
<td>2</td>
<td>2021-11-25</td>
<td>positive</td>
</tr>
<tr>
<td>3</td>
<td>2021-11-25</td>
<td>positive</td>
</tr>
<tr>
<td>4</td>
<td>2021-11-26</td>
<td>negative</td>
</tr>
<tr>
<td>5</td>
<td>2021-11-26</td>
<td>positive</td>
</tr>
</tbody>
</table>
</div>
How could I get the increase in new positive cases on 2021-11-26 compared to 2021-11-25. The result should show a single number indicating the increment. If there are few new positive cases than yesterday, this number should be negative.
Expected results:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>increment</th>
</tr>
</thead>
<tbody>
<tr>
<td>-2</td>
</tr>
</tbody>
</table>
</div>
explanation: 1 - 3 = -tly I have a table called test:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>id</th>
<th>test_date</th>
<th>result</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>2021-11-25</td>
<td>positive</td>
</tr>
<tr>
<td>2</td>
<td>2021-11-25</td>
<td>positive</td>
</tr>
<tr>
<td>3</td>
<td>2021-11-25</td>
<td>positive</td>
</tr>
<tr>
<td>4</td>
<td>2021-11-26</td>
<td>negative</td>
</tr>
<tr>
<td>5</td>
<td>2021-11-26</td>
<td>positive</td>
</tr>
</tbody>
</table>
</div>
How could I get the increase in new positive cases on 2021-11-26 compared to 2021-11-25. The result should show a single number indicating the increment. If there are few new positive cases than yesterday, this number should be negative.
Expected results:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>increment</th>
</tr>
</thead>
<tbody>
<tr>
<td>-2</td>
</tr>
</tbody>
</table>
</div>
explanation: 1 - 3 = -ntly I have a table called test:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>id</th>
<th>test_date</th>
<th>result</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>2021-11-25</td>
<td>positive</td>
</tr>
<tr>
<td>2</td>
<td>2021-11-25</td>
<td>positive</td>
</tr>
<tr>
<td>3</td>
<td>2021-11-25</td>
<td>positive</td>
</tr>
<tr>
<td>4</td>
<td>2021-11-26</td>
<td>negative</td>
</tr>
<tr>
<td>5</td>
<td>2021-11-26</td>
<td>positive</td>
</tr>
</tbody>
</table>
</div>
How could I get the increase in new positive cases on 2021-11-26 compared to 2021-11-25. The result should show a single number indicating the increment. If there are few new positive cases than yesterday, this number should be negative.
Expected results:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>increment</th>
</tr>
</thead>
<tbody>
<tr>
<td>-2</td>
</tr>
</tbody>
</table>
</div>
explanation: 1 - 3 = -tly I have a table called test:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>id</th>
<th>test_date</th>
<th>result</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>2021-11-25</td>
<td>positive</td>
</tr>
<tr>
<td>2</td>
<td>2021-11-25</td>
<td>positive</td>
</tr>
<tr>
<td>3</td>
<td>2021-11-25</td>
<td>positive</td>
</tr>
<tr>
<td>4</td>
<td>2021-11-26</td>
<td>negative</td>
</tr>
<tr>
<td>5</td>
<td>2021-11-26</td>
<td>positive</td>
</tr>
</tbody>
</table>
</div>
How could I get the increase in new positive cases on 2021-11-26 compared to 2021-11-25. The result should show a single number indicating the increment. If there are few new positive cases than yesterday, this number should be negative.
Expected results:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>increment</th>
</tr>
</thead>
<tbody>
<tr>
<td>-2</td>
</tr>
</tbody>
</table>
</div>
explanation: 1 - 3 = -2",mysql
116,70164726,Generate N Records,"Is there a faster way to do something like this? Maybe using ?

Is it possible to also easily add a relation for a profile?
<pre><code>INSERT INTO profiles (user_id)
SELECT id FROM users WHERE email='user1@domain.com'

INSERT INTO profiles (user_id)
SELECT id FROM users WHERE email='user2@domain.com'

INSERT INTO profiles (user_id)
SELECT id FROM users WHERE email='user3@domain.com'
</code></pre>",postgresql
117,70043831,Changing a value in a column to another from the same column,"I have a table named titles with 3 columns named titleID, price, and pubDate
I've been trying to change the price of a row to the same price as the row with the most recent pubDate
I have

The error I am getting is
<pre><code>Error Code: 1053. You can't specify target table t for update in FROM clause
</code></pre>
How can I correctly change a value to a value from the same column",mysql
118,70093187,What happend to 'GEN_CLUST_INDEX ' when we create a new Secondary or Clustered index on an table?,"I created a table that has no <strong>CLUSTERED_INDEX</strong>.
Reference to <a href=""https://dev.mysql.com/doc/refman/5.7/en/innodb-index-types.html"" rel=""nofollow noreferrer"">documentation</a>.I get a default clustered index which named '<strong>GEN_CLUST_INDEX</strong>'.
I wonder what will happened to <strong>GEN_CLUST_INDEX</strong> if I create new <strong>Clustered</strong> or <strong>Secendary</strong> index on the tableted a table that has no <strong>CLUSTERED_INDEX</strong>.
Reference to <a href=""https://dev.mysql.com/doc/refman/5.7/en/innodb-index-types.html"" rel=""nofollow noreferrer"">documentation</a>.I get a default clustered index which named '<strong>GEN_CLUST_INDEX</strong>'.
I wonder what will happened to <strong>GEN_CLUST_INDEX</strong> if I create new <strong>Clustered</strong> or <strong>Secendary</strong> index on the tableated a table that has no <strong>CLUSTERED_INDEX</strong>.
Reference to <a href=""https://dev.mysql.com/doc/refman/5.7/en/innodb-index-types.html"" rel=""nofollow noreferrer"">documentation</a>.I get a default clustered index which named '<strong>GEN_CLUST_INDEX</strong>'.
I wonder what will happened to <strong>GEN_CLUST_INDEX</strong> if I create new <strong>Clustered</strong> or <strong>Secendary</strong> index on the tableted a table that has no <strong>CLUSTERED_INDEX</strong>.
Reference to <a href=""https://dev.mysql.com/doc/refman/5.7/en/innodb-index-types.html"" rel=""nofollow noreferrer"">documentation</a>.I get a default clustered index which named '<strong>GEN_CLUST_INDEX</strong>'.
I wonder what will happened to <strong>GEN_CLUST_INDEX</strong> if I create new <strong>Clustered</strong> or <strong>Secendary</strong> index on the table.",mysql
119,70098538,how to change string into operator logical in query postgresql,"I have a condition where I must save operator like 'AND' and 'OR' in my table.

how do I can use that operator like usual from column table ? thank you",postgresql
120,70235710,Returning cousins in Neo4j problem with WHERE,"I have to make a Cypher query which is supposed to return cousins of a person (brothers, sisters, kids of brothers/sisters). It works almost fine, but the problem is that when I want to filter out the kids of the person (27003)  writing <code>WHERE p2.personId&lt;&gt;27003</code> it also removes the mother of the person <code>(missing)</code>.
What have I done wrong here?
My cypher query:

My first match just returns the person of given id with his/her parent.
Second match just searches for brothers/sisters and his/her kids (I know that p2 also includes the person of id=27003 and his/her kids, that's why I want to filter them out, but my &quot;WHERE&quot; also removes the mother of the person (2nd picture)
Pictures:
<ol>
<li>(without WHERE clause)</li>
</ol>
<img src=""https://i.imgur.com/M8UMXt3.png"" alt=""text"" />
<ol start=""2"">
<li>(with WHERE)</li>
</ol>
<img src=""https://i.imgur.com/DGyyY1C.png"" alt=""text"" />",neo4j|cypher
121,70371764,Writing a query that finds other users who have the same band in their favorite bands list and then listing the other users favorite bands,"I'm having trouble trying to write a query that is able to find other users who have the same band in their list of favorite bands as user1 and then listing the other users' other favorite bands.
So if user1 is John Smith, I'm trying to find other users who also like the same bands he likes and then list the other bands the other users like.
This is the query that I have written.

The results I want would be the other bands that Jane Doe likes besides Seputura (because her and John Smith share that in common. But the results I'm getting is:
<a href=""https://i.stack.imgur.com/IIWg4.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/IIWg4.jpg"" alt=""enter image description here"" /></a>
I'm not too sure what to fix in my query to get the results desired. Would appreciate any help, thanks.
And these are the tables with data:
<pre><code>CREATE TABLE Bands (
    bid INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
    bname CHAR(20) NOT NULL
);

INSERT INTO Bands (bname) VALUES ('Seputura'), ('Death'), ('Muddy Waters'), ('Led Zeppelin'), ('The Guess Who');
INSERT INTO Bands (bname) VALUES ('The Hu'), ('Huun-Huur-Tu'), ('Paul Pena'), ('Battuvshin'), ('Sade');
INSERT INTO Bands (bname) VALUES ('Mozart'), ('Tchaikovsky'), ('Twisted Sister'), ('Testament'), ('Tengger Cavalry');

CREATE TABLE users (
    uid INT NOT NULL AUTO_INCREMENT,
    user_name CHAR(50) NOT NULL,
    country CHAR(50) NOT NULL,
    PRIMARY KEY (uid)
);

INSERT INTO users (uid, user_name, country) VALUES (DEFAULT, 'John Smith', 'United States');
INSERT INTO users (uid, user_name, country) VALUES (DEFAULT, 'Jane Doe', 'England');
INSERT INTO users (uid, user_name, country) VALUES (DEFAULT, 'Michael Hill', 'Russia');
INSERT INTO users (uid, user_name, country) VALUES (DEFAULT, 'Michelle Green', 'Brazil');

CREATE TABLE favorites (
    uid INT NOT NULL,
    bid INT NOT NULL,
    fav_band CHAR(50) NOT NULL,
    PRIMARY KEY (uid, bid),
    FOREIGN KEY (uid) REFERENCES users(uid),
    FOREIGN KEY (bid) REFERENCES bands(bid)
);

INSERT INTO favorites (uid, bid, fav_band) VALUES (1, 1, 'Seputura');
INSERT INTO favorites (uid, bid, fav_band) VALUES (1, 4, 'Led Zeppelin');
INSERT INTO favorites (uid, bid, fav_band) VALUES (1, 9, 'Battuvshin');

INSERT INTO favorites (uid, bid, fav_band) VALUES (2, 1, 'Seputura');
INSERT INTO favorites (uid, bid, fav_band) VALUES (2, 5, 'The Guess Who');
INSERT INTO favorites (uid, bid, fav_band) VALUES (2, 10, 'Sade');
INSERT INTO favorites (uid, bid, fav_band) VALUES (2, 11, 'Mozart');

INSERT INTO favorites (uid, bid, fav_band) VALUES (3, 5, 'The Guess Who');
INSERT INTO favorites (uid, bid, fav_band) VALUES (3, 8, 'Paul Pena');

INSERT INTO favorites (uid, bid, fav_band) VALUES (4, 5, 'The Guess Who');
INSERT INTO favorites (uid, bid, fav_band) VALUES (4, 12, 'Tchaikovsky');
INSERT INTO favorites (uid, bid, fav_band) VALUES (4, 15, 'Tengger Cavalry');
</code></pre>",mysql
122,70116669,In MySQL how do I get the total number of components if one column is related to another?,"I have a few machines reporting status on hardware components. not all machines have the same amount of hardware components. I need to know the total number of components of all the machines.
I'm using this query

<a href=""https://i.stack.imgur.com/owyn3.png"" rel=""nofollow noreferrer"">enter image description here</a>
In this case, there are 9 components in total",mysql
123,70140619,How to left outer join and insert new data at the same time into a mysql table,"I want to insert in new data at same time and merged with outer left join values from another table. I have tried by creating the values first and merge by using union for the selection of two columns which is left outer joined to the table. What other ways can I merge left outer join and newly created values into the table?

The table I am trying to create
<pre><code>Dessert                             Craving 
cream iceCream pie strawberry       cream iceCream    
</code></pre>",mysql
124,70324984,MySQL trying to count from two columns,"Im new at this so Im having a hard time solving this problem, Ive searched high and low but I cant seem to find an answer.
This is how my tables look:
<strong>Table artist</strong>
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>Columns</th>
<th>Constraints</th>
</tr>
</thead>
<tbody>
<tr>
<td>Artist_id</td>
<td>PK</td>
</tr>
<tr>
<td>Name</td>
<td>-</td>
</tr>
</tbody>
</table>
</div>
<strong>Table song</strong>
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>Columns</th>
<th>Constraints</th>
</tr>
</thead>
<tbody>
<tr>
<td>Song_id</td>
<td>PK</td>
</tr>
<tr>
<td>Title</td>
<td>-</td>
</tr>
<tr>
<td>artist_id</td>
<td>FK</td>
</tr>
<tr>
<td>co_artist_id</td>
<td>FK</td>
</tr>
</tbody>
</table>
</div>
<strong>Table top_list</strong>
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>Columns</th>
<th>Constraints</th>
</tr>
</thead>
<tbody>
<tr>
<td>Id</td>
<td>PK FK</td>
</tr>
</tbody>
</table>
</div>
Ive made two foreign keys in the song table to the same primary key (). And also made a foreign key in <code>top_list</code> with <code>song_id</code>
My query is:

I want to count both the artist and the co-artist. ATM it only counts <code>song.artist_id</code> and not <code>song.co_artist_id</code>",mysql
125,70312859,If record exists INSERT from the next row (Sql),"I have imported a  file into my database table.
It has three columns, for example

<code>numbers</code> column's rows start from 1 to 200.
Now, I want to import a new <code>.csv</code> file into that same table. I will do it every day. Each time rows start from 1 to some number.
New <code>.csv</code> file's &quot;numbers&quot; values start at 1 and go to 500.
When I import the new <code>.csv</code> file, it needs to continue from 201. It shouldn't update or delete old rows. Vice versa, it needs to continue rows from 201.
How can I do it? Please help me.",sql|postgresql
126,70366959,Use many call apoc.do.when,"I want to create movie node and create a relation between movie and genre from a csv
CSV file:
id|title|release|action|adventure|animation|childrens|comedy|crime|documentary|drama|fantasy|film-Noir|horror|musical|mystery|romance|sci-Fi|thriller|war|western
1|Toy Story (1995)|01-Jan-1995|0|0|1|1|1|0|0|0|0|0|0|0|0|0|0|0|0|0
2|GoldenEye (1995)|01-Jan-1995|1|1|0|0|0|0|0|0|0|0|0|0|0|0|0|1|0|0
3|Four Rooms (1995)|01-Jan-1995|0|0|0|0|0|0|0|0|0|0|0|0|0|0|0|1|0|0
My cypher query

For each genre (action, adventure,....) if the movie's genre is equal 1, I create a relation between genre node and movie node
Could you help me ?",neo4j|cypher
127,70039546,SQL nested select where condition is met or if row not in table,"The title is not clear as I don't know how to express the problem in one sentence.
I have a table named companies, looks like this:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>Symbol (PK)</th>
<th>Exchange (PK)</th>
</tr>
</thead>
<tbody>
<tr>
<td>TSLA</td>
<td>NASDAQ</td>
</tr>
<tr>
<td>AMZN</td>
<td>NASDAQ</td>
</tr>
<tr>
<td>MCSFT</td>
<td>NASDAQ</td>
</tr>
</tbody>
</table>
</div>
And then I have a table where I record the last crawl operations I made.
The idea is having a script that can restart crawling everyday without recrawling companies that have been done.
Crawl_Settings
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>Symbol (PK/FK on companies)</th>
<th>Exchange(PK/FK)</th>
<th>Last crawl date</th>
<th>Number of articles crawled</th>
</tr>
</thead>
<tbody>
<tr>
<td>TSLA</td>
<td>NASDAQ</td>
<td>19/11/2021</td>
<td>20</td>
</tr>
<tr>
<td>AMZN</td>
<td>NASDAQ</td>
<td>12/11/2021</td>
<td>20</td>
</tr>
</tbody>
</table>
</div>
I thought about making a query that would get me all the companies that have a last crawl date that is not today.

I think that this query will work, but won't get me the  companies that have never been crawled.
Expected result:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>Symbol (PK)</th>
<th>Exchange (PK)</th>
</tr>
</thead>
<tbody>
<tr>
<td>AMZN</td>
<td>NASDAQ</td>
</tr>
<tr>
<td>MCSFT</td>
<td>NASDAQ</td>
</tr>
</tbody>
</table>
</div>
explanation: AMZN has an old crawl date, MCSFT has never been crawled.
Actual result:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>Symbol (PK)</th>
<th>Exchange (PK)</th>
</tr>
</thead>
<tbody>
<tr>
<td>AMZN</td>
<td>NASDAQ</td>
</tr>
</tbody>
</table>
</div>",sql|postgresql
128,70148848,How to select full month calendar with attendance condition in MySQL?,"Good day! I tried searching this problem all over stack overflow but I cant find the right keyword to search, I guess its better to ask you guys for help.
I am trying to create an attendance history that is base on two tables:
<ol>
<li>attendance table</li>
<li>calendar_dimension table</li>
</ol>
attendance table has data like below

and calendar_dimension is just a basic table with dates, like so:
Please note that is a full month calendar:
<pre><code>|    date     |   datestatus  |
+-------------+---------------+
| 2021-11- 1  to  2021-11-25  |
| 2021-11-26  |   Holiday     |
| 2021-11-27  |               |
| 2021-11-28  |               |
| 2021-11-29  |               |
| 2021-11-30  |               |
</code></pre>
What I have done so far is by joing calendar_dimension and attendance table.
Now, I have something like this: e.g. for 00001, which is working on my end:
<pre><code>|  idnumber   |   punchin   |   punhout   |  date_created  |
+-------------+-------------+-------------+----------------+
|   0001      |    7:30:00  |   16:00:00  |   2021-11-29   |
</code></pre>
And for 0002:
<pre><code>|  idnumber   |   punchin   |   punhout   |  date_created  |   Status   |
+-------------+-------------+-------------+----------------+------------+
|   0001      |    7:30:00  |   16:00:00  |   2021-11-27   |  Present   |
|   0001      |    7:30:00  |   16:00:00  |   2021-11-28   |  Present   |
|   0001      |    7:30:00  |   16:00:00  |   2021-11-29   |  Present   |
</code></pre>
I want my history table looks like this by employee:
<pre><code>|  idnumber   |   punchin   |   punhout   |  date_created  |   Status   |
+-------------+-------------+-------------+----------------+------------+
|                      2021-11-1 to 2021-11-25                          |
|   0001      |    7:30:00  |   16:00:00  |   2021-11-26   |  Holiday   |
|   0001      |    7:30:00  |   16:00:00  |   2021-11-27   |  Absent    |
|   0001      |    7:30:00  |   16:00:00  |   2021-11-28   |  Absent    |
|   0001      |    7:30:00  |   16:00:00  |   2021-11-29   |  Present   |
</code></pre>
the 30th of November will be displayed tomorrow.
is there other way to make this possible? Thanks",mysql
129,70116493,How to check col before insert values in Sql?,"Hello this is my first question here, im new to php / mysql , im creating some functions to return/add values in a table.
I have a table called , i'll use this for store user ratings votes for my other table: <code>combos</code>.
The logic is when a user send a rating, this take the actual combo_id (inside <code>combos</code>, already have it), take user email, and compare it inside <code>combo_votes</code>. If not exists, then insert a new entry on table for count a new vote.
I search and found this 2 ways:

These 2 ways dont work with me! I'm using phpMyAdmin, on a shared host;
SOME CODES :
<pre><code>//save post
$combos-&gt;saveCombo($userName, $userEmail, $userPhoto, $userIp, $comboWeapon, $comboInputs, $comboDifficulty, $comboDescription, $comboTrue, $comboStatus, $comboVideo);

// get last id inserted post &lt; this return the last ID inserted BY THE USER RIGHT?? I think y...
$comboId = mysqli_insert_id($connection-&gt;getConn());

// add a new vote entry, for who post the combo with id .
$combos-&gt;updateComboVotes($comboId, $userName, $userEmail, $userPhoto, $userIp, $comboDifficulty, $comboTrue);

// user saves a post (game combo) on db
public function saveCombo($userName, $userEmail, $userPhoto, $userIp, $comboWeapon, $comboInputs, $comboDifficulty, $comboDescription, $comboTrue, $comboStatus, $comboVideo)
    {
        $sql = &quot;INSERT INTO combos (user_name, user_email, user_photo, user_ip, combo_weapon, combo_inputs, combo_description, combo_status, combo_video)
            VALUES ('$userName', '$userEmail', '$userPhoto', '$userIp', '$comboWeapon', '$comboInputs', '$comboDescription', '$comboStatus', '$comboVideo')&quot;;
        $this-&gt;db-&gt;insertQuery($sql);

        return true;
    }

    // i execute this for add a entry on combo_votes for who posted the combo
public function updateComboVotes($comboId, $userName, $userEmail, $userPhoto, $userIp, $comboDifficulty, $comboTrue)
    {
        $sql = &quot;INSERT INTO combo_votes (combo_id, user_name, user_email, user_photo, user_ip, is_true, combo_difficulty)
            VALUES ('$comboId', '$userName', '$userEmail', '$userPhoto', '$userIp', '$comboTrue', '$comboDifficulty')&quot;;
        $this-&gt;db-&gt;insertQuery($sql);

        return true;
    }
</code></pre>",mysql
130,70153686,SQL Fetch batch query for an array of elements,"I currently have a query that checks if a row exists based on some fields. I wonder how can I do the same query for a batch or an array of items. This is the current query:

I am currently iterating an array and doing this query for each element:
<pre><code>customers.filter {
  val row = fetchSingleRow(
      ctx, getExistingRowsSql, mapOf(
      &quot;Id&quot; to it[&quot;Id&quot;],
      &quot;Uuid&quot; to it[&quot;Uuid&quot;],
      &quot;subCustomer&quot; to it[&quot;subCustomer&quot;]
  ))
  val newCustomer = row.isNullOrEmpty()
  if (!newCustomer) update(ctx, updateSql, it)
  newCustomer
}
</code></pre>
That means if I have an array with 100 items it will do a fetch query 100 times. I would like to avoid that and do a batch call where I could check for all 100 items immediately which ones exist in the table.
How can I do such query?",sql|postgresql
131,70157570,Cypher query to check locations and sublocations,"I have Profile node which may be linked to Location node via :LOCATED_IN relationship.
In turn, Location represents unlimited composite structure of nested Location nodes linked with :CONTAINS relationships between them.
I need to find all Profiles which linked to specified location IDs or their parent locations on unlimited levels.
I'm trying to create such Cypher query but it doesn't work as expected. This is what I have so far:

What am I doing wrong and how to fix it?",neo4j|cypher
132,70221170,Dynamic/Customized Week Number,"Let us say there is a table which stores data for student's attendance for classes. The student only need to attend each class once weekly. Hinging on the <strong><em>days_diff</em></strong> column, we decide which weeks the student should get credited for. As usual, each week has 7 days and the end of the week (in days) is divisible by 7. There is a different case for Week 3 in my scenario, whenever the <strong>week_3</strong> is attended, the week ends at that attendance date and <strong>week_4</strong> is started the next day.
I am using postgreSQL 11.4!

<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>student_name</th>
<th>class_subject</th>
<th>registration_date</th>
<th>attendance_date</th>
<th>days_diff</th>
<th>week_num</th>
</tr>
</thead>
<tbody>
<tr>
<td>Frank</td>
<td>Chemistry</td>
<td>2021-10-15</td>
<td>2021-10-18</td>
<td>3</td>
<td>week_1</td>
</tr>
<tr>
<td>Frank</td>
<td>Chemistry</td>
<td>2021-10-15</td>
<td>2021-10-24</td>
<td>9</td>
<td>week_2</td>
</tr>
<tr>
<td>Frank</td>
<td>Chemistry</td>
<td>2021-10-15</td>
<td>2021-11-01</td>
<td>17</td>
<td>week_3</td>
</tr>
<tr>
<td>Frank</td>
<td>Chemistry</td>
<td>2021-10-15</td>
<td>2021-11-10</td>
<td>26</td>
<td>week_4</td>
</tr>
<tr>
<td>Frank</td>
<td>Chemistry</td>
<td>2021-10-15</td>
<td>2021-11-20</td>
<td>36</td>
<td>week_6</td>
</tr>
<tr>
<td>Danny</td>
<td>Physics</td>
<td>2021-10-20</td>
<td>2021-10-25</td>
<td>5</td>
<td>week_1</td>
</tr>
<tr>
<td>Danny</td>
<td>Physics</td>
<td>2021-10-20</td>
<td>2021-11-02</td>
<td>13</td>
<td>week_2</td>
</tr>
<tr>
<td>Danny</td>
<td>Physics</td>
<td>2021-10-20</td>
<td>2021-11-08</td>
<td>19</td>
<td>week_3</td>
</tr>
<tr>
<td>Danny</td>
<td>Physics</td>
<td>2021-10-20</td>
<td>2021-11-23</td>
<td>34</td>
<td>week_5</td>
</tr>
<tr>
<td>Danny</td>
<td>Physics</td>
<td>2021-10-20</td>
<td>2021-11-30</td>
<td>41</td>
<td>week_6</td>
</tr>
</tbody>
</table>
</div>
Desired Week Breakdown:
<pre><code>student    days_in_week      week_number
Frank         1-7               week_1
Frank         8-14              week_2
Frank        15-17              week_3     &lt;-----week_3 shakes up the week breakdown
Frank        18-24              week_4
Frank        25-31              week_5........
Danny         1-7               week_1
Danny         8-14              week_2
Danny        15-19              week_3     &lt;----week_3 shakes up the week breakdown
Danny        20-26              week_4
Danny        27-33              week_5........
</code></pre>
Requested: <strong>new_week_num</strong> column
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>student_name</th>
<th>class_subject</th>
<th>registration_date</th>
<th>attendance_date</th>
<th>days_diff</th>
<th>week_num</th>
<th>new_week_num</th>
</tr>
</thead>
<tbody>
<tr>
<td>Frank</td>
<td>Chemistry</td>
<td>2021-10-15</td>
<td>2021-10-18</td>
<td>3</td>
<td>week_1</td>
<td>week_1</td>
</tr>
<tr>
<td>Frank</td>
<td>Chemistry</td>
<td>2021-10-15</td>
<td>2021-10-24</td>
<td>9</td>
<td>week_2</td>
<td>week_2</td>
</tr>
<tr>
<td>Frank</td>
<td>Chemistry</td>
<td>2021-10-15</td>
<td>2021-11-01</td>
<td>17</td>
<td>week_3</td>
<td>week_3</td>
</tr>
<tr>
<td>Frank</td>
<td>Chemistry</td>
<td>2021-10-15</td>
<td>2021-11-10</td>
<td>26</td>
<td>week_4</td>
<td>week_5</td>
</tr>
<tr>
<td>Frank</td>
<td>Chemistry</td>
<td>2021-10-15</td>
<td>2021-11-20</td>
<td>36</td>
<td>week_6</td>
<td>week_7</td>
</tr>
<tr>
<td>Danny</td>
<td>Physics</td>
<td>2021-10-20</td>
<td>2021-10-25</td>
<td>5</td>
<td>week_1</td>
<td>week_1</td>
</tr>
<tr>
<td>Danny</td>
<td>Physics</td>
<td>2021-10-20</td>
<td>2021-11-02</td>
<td>13</td>
<td>week_2</td>
<td>week_2</td>
</tr>
<tr>
<td>Danny</td>
<td>Physics</td>
<td>2021-10-20</td>
<td>2021-11-08</td>
<td>19</td>
<td>week_3</td>
<td>week_3</td>
</tr>
<tr>
<td>Danny</td>
<td>Physics</td>
<td>2021-10-20</td>
<td>2021-11-23</td>
<td>34</td>
<td>week_5</td>
<td>week_6</td>
</tr>
<tr>
<td>Danny</td>
<td>Physics</td>
<td>2021-10-20</td>
<td>2021-11-30</td>
<td>41</td>
<td>week_6</td>
<td>week_7</td>
</tr>
</tbody>
</table>
</div>",sql|postgresql
133,70280828,Is there a way to have a column reference one of two columns on seperate tables?,"I am creating a system that has  and <code>Comments</code>. The <code>Posts</code> reference to a <code>Location</code> as seen below.

I have created a sequence so that both <code>Posts</code> and <code>Comments</code> can share a set of ids, so they are all unique. But now, I need the <code>Comments</code> to reference either a <code>Post</code> <em><strong>OR</strong></em> another <code>Comment</code>. Like
<pre><code>reference_id INTEGER
        REFERENCES Posts OR Comments,
</code></pre>
I'm thinking I might have to create a third table, but even that seems... obscure to me. Every time I think about it, it seems I'm stuck in some sort of recursive loop of &quot;well, this comment is a child level which will link to posts, and then I need a grandchild level comment that references just child level comments, and then I need a great-grandchild level comment...&quot;
Is there a way to do this? Preferably without a third table, but whatever works, I'll take.",sql|postgresql
134,70297087,"Select between dates, but ignoring year. Problems when filtering over year end","I have a table with birthdays:

I want to find all person with birthday inside a given interval. It works fine, when my two dates are in the same year:
<pre><code>SELECT * 
FROM birthdays 
WHERE DATE_FORMAT(day, &quot;%m-%d&quot;) BETWEEN DATE_FORMAT('2021-12-01',&quot;%m-%d&quot;) AND DATE_FORMAT('2021-12-31',&quot;%m-%d&quot;);
</code></pre>
But the moment I filter between two dates over year end, I get nothing. I tried two approaches: DATE_FORMAR and DAYOFYEAR, with the same result:
<pre><code>SELECT * 
FROM birthdays 
WHERE DATE_FORMAT(day, &quot;%m-%d&quot;) BETWEEN DATE_FORMAT('2021-11-28',&quot;%m-%d&quot;) AND DATE_FORMAT('2022-01-01',&quot;%m-%d&quot;);

SELECT * 
FROM birthdays
WHERE DAYOFYEAR(day) BETWEEN DAYOFYEAR('2021-11-28') AND DAYOFYEAR('2022-01-01')
</code></pre>
Here is a <a href=""http://sqlfiddle.com/#!9/cdb0bb/5"" rel=""nofollow noreferrer"">SQL Fiddle</a> with the problem.",mysql
135,70299767,CONTAINS with boundary across multiple words in Neo4j,"I'm trying to do a CONTAINS with boundaries across MULTIPLE words in neo4j. Any advice?
EQUIVALENT OF:

Would return:<br>
&quot;Peter&quot;,&quot;Peter Andrew Morrison&quot;<br>
&quot;Andrew&quot;,&quot;Peter Andrew Morrison&quot;<br>
&quot;Sarah Morgan&quot;,&quot;Sarah Morgan Wilkerson&quot;<br>
<br>
Would not return <br>
&quot;Pete&quot;,&quot;Peter Andrew Morrison&quot;<br>
&quot;Pete Andrew&quot;,&quot;Peter Andrew Morrison&quot;<br>
&quot;Sara&quot;,&quot;Sarah Morgan Wilkerson&quot;<br>
<br>
Is regex the way to go? If so, how do you add the a.part in regex? I tried
<pre><code>WHERE b.whole=~'.*'+a.part+'.*'
</code></pre>
but that returns an error.
Or should I splice b.whole into a list and do b.part in list?
<pre><code>WITH b, a, split(b.whole, ' ') as list 
WHERE a.part in list
</code></pre>
But this only allows one word at a time and I need multiple word matches... any thoughts? <br>TIA!!!",neo4j
136,70247947,Insert a value into a serialized field on table1 then inserting that serialized value into table2 when there are unique constraints,"These are my tables:

I'm trying to insert a value into <code>networks</code> and then insert the auto-generated <code>network_id</code> into another table.
This query works for values that don't exist in <code>networks</code> and does what I'm looking for:
<pre><code>WITH par_key AS (
    INSERT INTO networks (network_name) VALUES ('ethereum')
    RETURNING network_id
)
INSERT INTO addresses (network_id, address)
VALUES (
    (select par_key.network_id from par_key),
    'address1'
)
</code></pre>
However, this query results in a duplicate error:
<pre><code>WITH par_key AS (
    INSERT INTO networks (network_name) VALUES ('ethereum')
    RETURNING network_id
)
INSERT INTO addresses (network_id, address)
VALUES (
    (select par_key.network_id from par_key),
    'address2'
)
</code></pre>
<pre class=""lang-none prettyprint-override""><code>ERROR:  duplicate key value violates unique constraint &quot;networks_token_name_key&quot;
DETAIL:  Key (network_name)=(ethereum) already exists.
</code></pre>
I'd like the query to execute on <code>addresses</code> with the <code>network_id</code> if the value already exists in <code>networks</code>.
Edit: had to rename <code>token_name</code> in the above table to <code>network_name</code>.",sql|postgresql
137,70209040,How to add create_time in Postgresql like Mysql?,"How to add create_time in Postgresql like Mysql as below?
<pre class=""lang-sql prettyprint-override""></pre>
Thanks so much for any advic
Thanks so much for any advice",postgresql
138,70332598,Count Unique Data With Minimum Date Postgres,"I got a problem while trying to count data in my table.
for example my table look like this:

I tried to use this query
<pre><code>WITH first_transaction_AS (SELECT MIN(transaction_date), id FROM test),
previous_month AS (SELECT DISTINCT idFROM test 
WHERE transaction_date &gt;= date_trunc('month', transaction_date)-interval '1 month' 
AND transaction_date &lt; date_trunc('month', transaction_date)

-- WHERE clause for previous month will be dynamic

SELECT date_trunc('month', transaction_date), COUNT(DISTINCT id)
FROM test 
WHERE test.id NOT IN (SELECT id FROM previous_month) AND transaction_date NOT IN (SELECT min FROM first_transaction)
</code></pre>
I wanted to achieve a aggregate query where:
Count ID Where ID has Transaction this month AND ID Without Transaction Last Month AND It's not the ID's First Transaction
The current problem is, ID 8 and 9 Will still be count Because they has a transaction after their first transaction in the same month.
So what i aim for the result is:
<pre><code>    Date                    |         Count
  2021-12-01 00:00:00       |           1  (4)
</code></pre>",sql|postgresql
139,70324166,How to count users group by time interval,"I have a table with user id and created_at of type timestamp, I want to count how many users have created their account in 3 hours interval for a given day. so far I have created this query but I'm not able to get the count for each three hours

I am able to get series and count but they are total users count for that day
The output I got
<pre class=""lang-none prettyprint-override""><code>time_sample                count
2021-12-01 00:00:00.000000, 4
2021-12-01 03:00:00.000000, 4
2021-12-01 06:00:00.000000, 4
2021-12-01 09:00:00.000000, 4
2021-12-01 12:00:00.000000, 4
2021-12-01 15:00:00.000000, 4
2021-12-01 18:00:00.000000, 4
2021-12-01 21:00:00.000000, 4
2021-12-02 00:00:00.000000, 4
</code></pre>
The output I expect is
<pre class=""lang-none prettyprint-override""><code>time_sample                count
2021-12-01 00:00:00.000000, 0
2021-12-01 03:00:00.000000, 0
2021-12-01 06:00:00.000000, 3
2021-12-01 09:00:00.000000, 1
2021-12-01 12:00:00.000000, 0
2021-12-01 15:00:00.000000, 0
2021-12-01 18:00:00.000000, 0
2021-12-01 21:00:00.000000, 0
2021-12-02 00:00:00.000000, 0
</code></pre>",sql|postgresql
140,70135343,Changing the same column type in all tables in PostgreSQL. The column contains the data,"The schema name is postgre_x_schema and the column name is y_column.
Column type is numeric, data available(1 and 0 ).
I will convert the column and set to boolean (1 = 'TRUE' and 0='FALSE) '.
But how can I do this on all tables.
*300 tables have the same column and in datahema name is postgre_x_schema and the column name is y_column.
Column type is numeric, data available(1 and 0 ).
I will convert the column and set to boolean (1 = 'TRUE' and 0='FALSE) '.
But how can I do this on all tables.
*300 tables have the same column and in datachema name is postgre_x_schema and the column name is y_column.
Column type is numeric, data available(1 and 0 ).
I will convert the column and set to boolean (1 = 'TRUE' and 0='FALSE) '.
But how can I do this on all tables.
*300 tables have the same column and in datahema name is postgre_x_schema and the column name is y_column.
Column type is numeric, data available(1 and 0 ).
I will convert the column and set to boolean (1 = 'TRUE' and 0='FALSE) '.
But how can I do this on all tables.
*300 tables have the same column and in data.",postgresql
141,70332547,What is the most powerful way to import data into a Neo4J database?,"I have 150 Mysql tables of about 3M rows with just over 200 columns per row at the moment (the number will only increase),
I would like to transfer my tables to a single Neo4J database with each field being a node,
so with the numbers above it would be :
<ul>
<li>150 =&gt; number of tables</li>
<li>3M =&gt; number of rows</li>
<li>200 =&gt; number of fields</li>
<li>10 =&gt; number of possible values in each field on average</li>
</ul>
so (150 * 3000000) + (200 * 10)= 450'002'000 nodes approximately
Which method will be the most appropriate for importing so many nodes and relationships?
knowing that there are 6 specific nodes that serve as unique identifiers and that must therefore be merged to avoid duplicates.
I think the MATCH is extremely heavy so I guess it should be avoided as much as possible, do you think it will be useful to use a method to know if the node exists other than asking Neo4J (for example a MongoDB) in order to avoid a MATCH, is a good idea?
Thank you in advance 150 Mysql tables of about 3M rows with just over 200 columns per row at the moment (the number will only increase),
I would like to transfer my tables to a single Neo4J database with each field being a node,
so with the numbers above it would be :
<ul>
<li>150 =&gt; number of tables</li>
<li>3M =&gt; number of rows</li>
<li>200 =&gt; number of fields</li>
<li>10 =&gt; number of possible values in each field on average</li>
</ul>
so (150 * 3000000) + (200 * 10)= 450'002'000 nodes approximately
Which method will be the most appropriate for importing so many nodes and relationships?
knowing that there are 6 specific nodes that serve as unique identifiers and that must therefore be merged to avoid duplicates.
I think the MATCH is extremely heavy so I guess it should be avoided as much as possible, do you think it will be useful to use a method to know if the node exists other than asking Neo4J (for example a MongoDB) in order to avoid a MATCH, is a good idea?
Thank you in advancee 150 Mysql tables of about 3M rows with just over 200 columns per row at the moment (the number will only increase),
I would like to transfer my tables to a single Neo4J database with each field being a node,
so with the numbers above it would be :
<ul>
<li>150 =&gt; number of tables</li>
<li>3M =&gt; number of rows</li>
<li>200 =&gt; number of fields</li>
<li>10 =&gt; number of possible values in each field on average</li>
</ul>
so (150 * 3000000) + (200 * 10)= 450'002'000 nodes approximately
Which method will be the most appropriate for importing so many nodes and relationships?
knowing that there are 6 specific nodes that serve as unique identifiers and that must therefore be merged to avoid duplicates.
I think the MATCH is extremely heavy so I guess it should be avoided as much as possible, do you think it will be useful to use a method to know if the node exists other than asking Neo4J (for example a MongoDB) in order to avoid a MATCH, is a good idea?
Thank you in advance 150 Mysql tables of about 3M rows with just over 200 columns per row at the moment (the number will only increase),
I would like to transfer my tables to a single Neo4J database with each field being a node,
so with the numbers above it would be :
<ul>
<li>150 =&gt; number of tables</li>
<li>3M =&gt; number of rows</li>
<li>200 =&gt; number of fields</li>
<li>10 =&gt; number of possible values in each field on average</li>
</ul>
so (150 * 3000000) + (200 * 10)= 450'002'000 nodes approximately
Which method will be the most appropriate for importing so many nodes and relationships?
knowing that there are 6 specific nodes that serve as unique identifiers and that must therefore be merged to avoid duplicates.
I think the MATCH is extremely heavy so I guess it should be avoided as much as possible, do you think it will be useful to use a method to know if the node exists other than asking Neo4J (for example a MongoDB) in order to avoid a MATCH, is a good idea?
Thank you in advance.",neo4j
142,70217246,Optimize query with IN clause for one-to-many association,"Currently having 2 tables
<ol>
<li>Users -&gt; <em>1 million records</em></li>
<li>Requests -&gt; <em>10 millions records</em></li>
</ol>
A  has many <code>Requests</code>. I'm fetching all the users alongside with <strong>their last created</strong> <code>Request</code> with by something like the following query:

which does work, but with very very poor performance (&gt; 7 sec). I understand the reason why and i'm trying to find a solution for that, even if i have to modify the schema.
<strong>Note:</strong> <code>Requests</code> table consists of <code>Boolean</code> columns, and I'm not quite sure if indexing will help here.",sql|postgresql
143,70060538,Will importing a database mysqldump that excludes a table from source preserve the table in destination?,"Moving a database () from one server to the next and there was one table (<code>big_table</code>) that was so large it took longer to import into the destination than our preferred maintenance window so we kept the application communicating with the source database server while the destination continued to import.
Now we want to redo the process to get what has changed in two steps:
<ol>
<li>dump all tables from source except the <code>big_table</code> and make sure we don't overwrite or drop the very large table already in the destination when we import</li>
<li>dump the new/updated records from the <code>big_table</code> since the last timestamp and import those delta records into the existing destination <code>db.big_table</code></li>
</ol>
For the first step, will this work to preserve <code>db1</code> and <code>db.big_table</code> in the destination while recreating all other tables?
<pre class=""lang-sh prettyprint-override""><code>mysqldump -h host1 db1 --ignore-table=db1.big_table --no-create-db | mysql -h host2 db1
</code></pre>
For the second step, if I know there are no updates and only new records in <code>big_table</code> since a known timestamp, will this work do that?
<pre class=""lang-sh prettyprint-override""><code>mysqldump -h host1 db1 big_table --no-create-info --where &quot;timestamp &gt; '${LAST_EXPORTED_TIMESTAMP}'&quot; | mysql -h host2 db1
</code></pre>
I am trying to understand if each of these &quot;patch&quot; attempts of changes in source since the first import into destination doesn't try to drop/create <code>db1</code> or <code>db1.big_table</code> but instead just captures and imports all tables except <code>big_table</code> and only new records in <code>big_table</code> since a known timestamp.
Is there a better way to do this than I've drafted
For the second step, if I know there are no updates and only new records in <code>big_table</code> since a known timestamp, will this work do that?
<pre class=""lang-sh prettyprint-override""><code>mysqldump -h host1 db1 big_table --no-create-info --where &quot;timestamp &gt; '${LAST_EXPORTED_TIMESTAMP}'&quot; | mysql -h host2 db1
</code></pre>
I am trying to understand if each of these &quot;patch&quot; attempts of changes in source since the first import into destination doesn't try to drop/create <code>db1</code> or <code>db1.big_table</code> but instead just captures and imports all tables except <code>big_table</code> and only new records in <code>big_table</code> since a known timestamp.
Is there a better way to do this than I've drafted?",mysql
144,70190367,Having issues with bigquery connector for power bi,"I have a PowerBi desktop model connected to BigQuery I've been updating it for a while but since yesterday upon pressing the refresh button it keeps loading but never finishes the refresh process.
The average refresh time used to be around 3-4 minutes, also I have another PowerBi model connected to BigQuery but it won't refresh either, I thought there was something wrong with BigQuery but it's working.
<a href=""https://i.stack.imgur.com/mOuDH.png"" rel=""nofollow noreferrer""></a>
Thanks for your hel a PowerBi desktop model connected to BigQuery I've been updating it for a while but since yesterday upon pressing the refresh button it keeps loading but never finishes the refresh process.
The average refresh time used to be around 3-4 minutes, also I have another PowerBi model connected to BigQuery but it won't refresh either, I thought there was something wrong with BigQuery but it's working.
<a href=""https://i.stack.imgur.com/mOuDH.png"" rel=""nofollow noreferrer""></a>
Thanks for your hele a PowerBi desktop model connected to BigQuery I've been updating it for a while but since yesterday upon pressing the refresh button it keeps loading but never finishes the refresh process.
The average refresh time used to be around 3-4 minutes, also I have another PowerBi model connected to BigQuery but it won't refresh either, I thought there was something wrong with BigQuery but it's working.
<a href=""https://i.stack.imgur.com/mOuDH.png"" rel=""nofollow noreferrer""></a>
Thanks for your hel a PowerBi desktop model connected to BigQuery I've been updating it for a while but since yesterday upon pressing the refresh button it keeps loading but never finishes the refresh process.
The average refresh time used to be around 3-4 minutes, also I have another PowerBi model connected to BigQuery but it won't refresh either, I thought there was something wrong with BigQuery but it's working.
<a href=""https://i.stack.imgur.com/mOuDH.png"" rel=""nofollow noreferrer""></a>
Thanks for your help",google-bigquery
145,70368164,"How am I misusing the null-coalescing operator? Is this evaluating ""null"" correctly? I want it to show as 'Unknown' if it is null","this is my code
I want the age column to display as Unknown if it is NULL. However, it is not accepting my COALESCE part  after the DATE_PART subtraction
SELECT
COALESCE(DATE_PART('year', death::date) - DATE_PART('year', birth::date), 'Unknown') AS age,
FROM emperors
ORDER BY name ASC
DataError: (psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type double precision: &quot;Unknown&quot;
LINE 5: ...', death::date) - DATE_PART('year', birth::date), 'Unknown')..s my code
I want the age column to display as Unknown if it is NULL. However, it is not accepting my COALESCE part  after the DATE_PART subtraction
SELECT
COALESCE(DATE_PART('year', death::date) - DATE_PART('year', birth::date), 'Unknown') AS age,
FROM emperors
ORDER BY name ASC
DataError: (psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type double precision: &quot;Unknown&quot;
LINE 5: ...', death::date) - DATE_PART('year', birth::date), 'Unknown')..is my code
I want the age column to display as Unknown if it is NULL. However, it is not accepting my COALESCE part  after the DATE_PART subtraction
SELECT
COALESCE(DATE_PART('year', death::date) - DATE_PART('year', birth::date), 'Unknown') AS age,
FROM emperors
ORDER BY name ASC
DataError: (psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type double precision: &quot;Unknown&quot;
LINE 5: ...', death::date) - DATE_PART('year', birth::date), 'Unknown')..s my code
I want the age column to display as Unknown if it is NULL. However, it is not accepting my COALESCE part  after the DATE_PART subtraction
SELECT
COALESCE(DATE_PART('year', death::date) - DATE_PART('year', birth::date), 'Unknown') AS age,
FROM emperors
ORDER BY name ASC
DataError: (psycopg2.errors.InvalidTextRepresentation) invalid input syntax for type double precision: &quot;Unknown&quot;
LINE 5: ...', death::date) - DATE_PART('year', birth::date), 'Unknown')...",postgresql
146,70314877,BigQuery user-defined function in JavaScript does not prune partitions,"I have a BigQuery table that I'd like to partition by low-cardinality string column. That's not possible, so I have to hash strings into integer and partition by integer. I made a very naive hashing algorithm that converts those strings into integers between 0 and 100.
So far so good, I made a new table partitioned by this new integer field which is simply a function of another field. Now I can query this table by partitioned integer field and greatly reduce traffic. Cool! But I really want to query by the string field, so I made a user-defined function that basically does the hashing so I can write queries like this:

Which is essentially the same as this, but more performant:
<pre><code>SELECT * FROM `partitioned_table` WHERE unpartitioned_string_field = &quot;abc&quot;
</code></pre>
Now the problem is, if I create user-defined function <code>HashOf</code> as SQL (just naive case-when, for example) it works just fine, the traffic reduces as expected. However, if I create the function as JavaScript (which is preferable here), then it has no effect on the traffic. The query works, but requires full table scan. Both SQL and JavaScript versions return exactly the same result, but JavaScript version doesn't prune partitions it seems like.
Am I missing something? Why JavaScript user-defined function does not prune partitions even though it returns the correct integer value for partitioned field?",google-bigquery
147,70358301,Default users for MySQL 8 installation on Linux,"A fresh install of MySQL 8 on Linux yields the following default users for us:

After creating our own users, with the correct privileges, we are thinking of deleting all the users, other than root (i.e. <code>debian-sys-maint, mysql.infoschema, mysql.session and mysql.sys</code>).
<hr />
<strong>Q)</strong> Is it okay to delete the default users, other than root, or will there be any unexpected surprises if we do that?",mysql
148,70036765,How to keep objects in node Neo4j,"I have array of objects with this structure

I am trying to find the best way to keep it in neo4j node. Since later I am going to search, filter ... on this data I don't want to keep hole object as string. Creating property by name object.name is not possible because I have punctuation marks. The ideal way would be to keep it as property, because I am going to use this data as property of node, but removing punctuation marks from name is not an option too.
Probably I could keep them in array
<pre><code>['here is the name', ' and the second element of array is the text']
</code></pre>
In this case the problem will be to give correct name to the property, which will have this array.
Another option could be to keep all data in list like this
<pre><code>tabs: ['first name - first value', ' second name - second value']
</code></pre>
but to search later I will need to use regex inside the list. this doesn't seem flexible.
So what would be the best way ?
Thank you in advance!",neo4j|cypher
149,70291205,"Finding duplicate records posted within a lapse of time, in PostgreSQL","I'm trying to find duplicate rows in a large database (300,000 records). Here's an example of how it looks:

I found this excellent (i.e. fast) answer here: <a href=""https://stackoverflow.com/questions/14471179/find-duplicate-rows-with-postgresql/14471928#14471928"">Find duplicate rows with PostgreSQL</a>
<pre><code>-- adapted from @MatthewJ answering in https://stackoverflow.com/questions/14471179/find-duplicate-rows-with-postgresql/14471928#14471928
select * from (
  SELECT id, title, TO_DATE(thedate,'YYYY-MM-DD'),
  ROW_NUMBER() OVER(PARTITION BY title ORDER BY id asc) AS Row
  FROM table1
) dups
where 
dups.Row &gt; 1
</code></pre>
Which I'm trying to use as a base to solve my specific problem: I need to find duplicates according to column values like in the example, but only for records posted within 15 days of each other (the date of record insertion in the column &quot;thedate&quot; in my DB).
I reproduced it in this fiddle <a href=""http://sqlfiddle.com/#!15/ae109/2"" rel=""nofollow noreferrer"">http://sqlfiddle.com/#!15/ae109/2</a>, where id 5 (same title as id 1, and posted within 15 days of each other) should be the only acceptable answer.
How would I implement that condition in the query?",postgresql
150,70148839,SQL order groups of data,"Here I have a data sample:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>Title</th>
<th>Size</th>
<th>Count</th>
</tr>
</thead>
<tbody>
<tr>
<td>First</td>
<td>3</td>
<td>14</td>
</tr>
<tr>
<td>First</td>
<td>5</td>
<td>3</td>
</tr>
<tr>
<td>Second</td>
<td>2</td>
<td>5</td>
</tr>
<tr>
<td>First</td>
<td>2</td>
<td>10</td>
</tr>
<tr>
<td>Third</td>
<td>3</td>
<td>10</td>
</tr>
<tr>
<td>Second</td>
<td>3</td>
<td>4</td>
</tr>
<tr>
<td>Third</td>
<td>2</td>
<td>9</td>
</tr>
<tr>
<td>Third</td>
<td>5</td>
<td>11</td>
</tr>
<tr>
<td>Second</td>
<td>5</td>
<td>4</td>
</tr>
</tbody>
</table>
</div>
Now I want to sort the data with following rules:
Put the records with same title together: First followed by First, Second followed by Second.
Then for each group, order them by size;
For groups, order them in the sum of count of each group, like: sum of First is 14+3+10=27, Second is 5+4+4=13, Third is 10+9+11=30.
The result I want:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>Title</th>
<th>Size</th>
<th>Count</th>
</tr>
</thead>
<tbody>
<tr>
<td>Second</td>
<td>2</td>
<td>5</td>
</tr>
<tr>
<td>Second</td>
<td>3</td>
<td>4</td>
</tr>
<tr>
<td>Second</td>
<td>5</td>
<td>4</td>
</tr>
<tr>
<td>First</td>
<td>2</td>
<td>10</td>
</tr>
<tr>
<td>First</td>
<td>3</td>
<td>14</td>
</tr>
<tr>
<td>First</td>
<td>5</td>
<td>3</td>
</tr>
<tr>
<td>Third</td>
<td>2</td>
<td>9</td>
</tr>
<tr>
<td>Third</td>
<td>3</td>
<td>10</td>
</tr>
<tr>
<td>Third</td>
<td>5</td>
<td>11</td>
</tr>
</tbody>
</table>
</div have a data sample:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>Title</th>
<th>Size</th>
<th>Count</th>
</tr>
</thead>
<tbody>
<tr>
<td>First</td>
<td>3</td>
<td>14</td>
</tr>
<tr>
<td>First</td>
<td>5</td>
<td>3</td>
</tr>
<tr>
<td>Second</td>
<td>2</td>
<td>5</td>
</tr>
<tr>
<td>First</td>
<td>2</td>
<td>10</td>
</tr>
<tr>
<td>Third</td>
<td>3</td>
<td>10</td>
</tr>
<tr>
<td>Second</td>
<td>3</td>
<td>4</td>
</tr>
<tr>
<td>Third</td>
<td>2</td>
<td>9</td>
</tr>
<tr>
<td>Third</td>
<td>5</td>
<td>11</td>
</tr>
<tr>
<td>Second</td>
<td>5</td>
<td>4</td>
</tr>
</tbody>
</table>
</div>
Now I want to sort the data with following rules:
Put the records with same title together: First followed by First, Second followed by Second.
Then for each group, order them by size;
For groups, order them in the sum of count of each group, like: sum of First is 14+3+10=27, Second is 5+4+4=13, Third is 10+9+11=30.
The result I want:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>Title</th>
<th>Size</th>
<th>Count</th>
</tr>
</thead>
<tbody>
<tr>
<td>Second</td>
<td>2</td>
<td>5</td>
</tr>
<tr>
<td>Second</td>
<td>3</td>
<td>4</td>
</tr>
<tr>
<td>Second</td>
<td>5</td>
<td>4</td>
</tr>
<tr>
<td>First</td>
<td>2</td>
<td>10</td>
</tr>
<tr>
<td>First</td>
<td>3</td>
<td>14</td>
</tr>
<tr>
<td>First</td>
<td>5</td>
<td>3</td>
</tr>
<tr>
<td>Third</td>
<td>2</td>
<td>9</td>
</tr>
<tr>
<td>Third</td>
<td>3</td>
<td>10</td>
</tr>
<tr>
<td>Third</td>
<td>5</td>
<td>11</td>
</tr>
</tbody>
</table>
</divI have a data sample:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>Title</th>
<th>Size</th>
<th>Count</th>
</tr>
</thead>
<tbody>
<tr>
<td>First</td>
<td>3</td>
<td>14</td>
</tr>
<tr>
<td>First</td>
<td>5</td>
<td>3</td>
</tr>
<tr>
<td>Second</td>
<td>2</td>
<td>5</td>
</tr>
<tr>
<td>First</td>
<td>2</td>
<td>10</td>
</tr>
<tr>
<td>Third</td>
<td>3</td>
<td>10</td>
</tr>
<tr>
<td>Second</td>
<td>3</td>
<td>4</td>
</tr>
<tr>
<td>Third</td>
<td>2</td>
<td>9</td>
</tr>
<tr>
<td>Third</td>
<td>5</td>
<td>11</td>
</tr>
<tr>
<td>Second</td>
<td>5</td>
<td>4</td>
</tr>
</tbody>
</table>
</div>
Now I want to sort the data with following rules:
Put the records with same title together: First followed by First, Second followed by Second.
Then for each group, order them by size;
For groups, order them in the sum of count of each group, like: sum of First is 14+3+10=27, Second is 5+4+4=13, Third is 10+9+11=30.
The result I want:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>Title</th>
<th>Size</th>
<th>Count</th>
</tr>
</thead>
<tbody>
<tr>
<td>Second</td>
<td>2</td>
<td>5</td>
</tr>
<tr>
<td>Second</td>
<td>3</td>
<td>4</td>
</tr>
<tr>
<td>Second</td>
<td>5</td>
<td>4</td>
</tr>
<tr>
<td>First</td>
<td>2</td>
<td>10</td>
</tr>
<tr>
<td>First</td>
<td>3</td>
<td>14</td>
</tr>
<tr>
<td>First</td>
<td>5</td>
<td>3</td>
</tr>
<tr>
<td>Third</td>
<td>2</td>
<td>9</td>
</tr>
<tr>
<td>Third</td>
<td>3</td>
<td>10</td>
</tr>
<tr>
<td>Third</td>
<td>5</td>
<td>11</td>
</tr>
</tbody>
</table>
</div have a data sample:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>Title</th>
<th>Size</th>
<th>Count</th>
</tr>
</thead>
<tbody>
<tr>
<td>First</td>
<td>3</td>
<td>14</td>
</tr>
<tr>
<td>First</td>
<td>5</td>
<td>3</td>
</tr>
<tr>
<td>Second</td>
<td>2</td>
<td>5</td>
</tr>
<tr>
<td>First</td>
<td>2</td>
<td>10</td>
</tr>
<tr>
<td>Third</td>
<td>3</td>
<td>10</td>
</tr>
<tr>
<td>Second</td>
<td>3</td>
<td>4</td>
</tr>
<tr>
<td>Third</td>
<td>2</td>
<td>9</td>
</tr>
<tr>
<td>Third</td>
<td>5</td>
<td>11</td>
</tr>
<tr>
<td>Second</td>
<td>5</td>
<td>4</td>
</tr>
</tbody>
</table>
</div>
Now I want to sort the data with following rules:
Put the records with same title together: First followed by First, Second followed by Second.
Then for each group, order them by size;
For groups, order them in the sum of count of each group, like: sum of First is 14+3+10=27, Second is 5+4+4=13, Third is 10+9+11=30.
The result I want:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>Title</th>
<th>Size</th>
<th>Count</th>
</tr>
</thead>
<tbody>
<tr>
<td>Second</td>
<td>2</td>
<td>5</td>
</tr>
<tr>
<td>Second</td>
<td>3</td>
<td>4</td>
</tr>
<tr>
<td>Second</td>
<td>5</td>
<td>4</td>
</tr>
<tr>
<td>First</td>
<td>2</td>
<td>10</td>
</tr>
<tr>
<td>First</td>
<td>3</td>
<td>14</td>
</tr>
<tr>
<td>First</td>
<td>5</td>
<td>3</td>
</tr>
<tr>
<td>Third</td>
<td>2</td>
<td>9</td>
</tr>
<tr>
<td>Third</td>
<td>3</td>
<td>10</td>
</tr>
<tr>
<td>Third</td>
<td>5</td>
<td>11</td>
</tr>
</tbody>
</table>
</div>",sql|postgresql
151,70367344,PostgreSQL - Substring to nth occurence of character,"I'm trying to run a query that returns the substring of a value up to the nth occurence of a particular character.
For example:
This is the value  and I'd like to get <code>abc|123|xyz098</code> So everything up to the third '|'. The number of characters between the delimiters changes, so I can't use a fixed index.
My thinking is to use SUBSTRING() with POSITION(). But I'm not having any success using it it to get to the nth occurence. Does anyone have any solutionsrying to run a query that returns the substring of a value up to the nth occurence of a particular character.
For example:
This is the value  and I'd like to get <code>abc|123|xyz098</code> So everything up to the third '|'. The number of characters between the delimiters changes, so I can't use a fixed index.
My thinking is to use SUBSTRING() with POSITION(). But I'm not having any success using it it to get to the nth occurence. Does anyone have any solutions?",sql|postgresql
152,70079101,MySQL Date Format From Fri Jan 10 00:00:00 UTC 1992 to YYYY-MM-DD,"I have a data &quot;Fri Jan 10 00:00:00 UTC 1992&quot; And I want to convert it to 1992-10-01.
I know how to do it with Javascript, but I have no idea how to do it with MySQL
I tried :

But it's return nule a data &quot;Fri Jan 10 00:00:00 UTC 1992&quot; And I want to convert it to 1992-10-01.
I know how to do it with Javascript, but I have no idea how to do it with MySQL
I tried :

But it's return null",mysql
153,70225546,Neo4j Cypher Match AND vs OR,"I have the following Cypher query:

Right now the following part pf the query:
<pre><code>MATCH (childD)-[mandatoryCriteriaVote1:HAS_VOTE_ON]-&gt;(mandatoryCriteriaId1:Criterion {deleted: false}) WHERE mandatoryCriteriaId1.id = 1 AND mandatoryCriteriaVote1.avgVotesWeight &gt;= 1.0 WITH childD  
MATCH (childD)-[mandatoryCriteriaVote5:HAS_VOTE_ON]-&gt;(mandatoryCriteriaId5:Criterion {deleted: false}) WHERE mandatoryCriteriaId5.id = 5 AND mandatoryCriteriaVote5.avgVotesWeight &gt;= 3.0 WITH childD 
</code></pre>
works as a logical operation <code>AND</code>. This means that both conditions must be met for <code>childD</code> in order to be returned to the query result.
How to rewrite this query in order to work like logical <code>OR</code>?
I mean - return all <code>chilD</code> which meet any of the following conditions:
<pre><code>MATCH (childD)-[mandatoryCriteriaVote1:HAS_VOTE_ON]-&gt;(mandatoryCriteriaId1:Criterion {deleted: false}) WHERE mandatoryCriteriaId1.id = 1 AND mandatoryCriteriaVote1.avgVotesWeight &gt;= 1.0 WITH childD  
</code></pre>
or
<pre><code>MATCH (childD)-[mandatoryCriteriaVote5:HAS_VOTE_ON]-&gt;(mandatoryCriteriaId5:Criterion {deleted: false}) WHERE mandatoryCriteriaId5.id = 5 AND mandatoryCriteriaVote5.avgVotesWeight &gt;= 3.0 WITH childD 
</code></pre>",neo4j|cypher
154,70283306,How can I iterate the row of table and append result of each iteration,"Assume I have a product table which has fields id, color and size.
I am trying to cluster the product with the same color and size.

for each record in above table, I would like to get all the product ids with the same color&amp;size.
And I would like to save the result into a csv file.
The result will be sth like
<pre><code>color red, size 9:
id1, id2, id3, id4
color yellow, size 8:
id6, id7
...
</code></pre>
Is there a way to do this in postgreSQL?",sql|postgresql
155,70146840,How to add a condition to count function in PostgreSQL,"I have these tables Course, subscription,subscription_Course(A table that creates a relation between Course and subscription), and another with Student. I want to Select all the id_courses that have a subscription count higher than 1 but only want to count the subscriptions from different students. Example: If a Student Subscribes two times the same course I want to have a condition that enables the count function to not count more than one time in these cases
These are my tables:
Student:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th style=""text-align: left;"">idStudent(pk)</th>
<th style=""text-align: center;"">cc</th>
<th style=""text-align: right;"">nif</th>
</tr>
</thead>
<tbody>
<tr>
<td style=""text-align: left;"">1</td>
<td style=""text-align: center;"">30348507</td>
<td style=""text-align: right;"">232928185</td>
</tr>
<tr>
<td style=""text-align: left;"">2</td>
<td style=""text-align: center;"">30338507</td>
<td style=""text-align: right;"">231428185</td>
</tr>
<tr>
<td style=""text-align: left;"">3</td>
<td style=""text-align: center;"">30438507</td>
<td style=""text-align: right;"">233528185</td>
</tr>
<tr>
<td style=""text-align: left;"">4</td>
<td style=""text-align: center;"">30323231</td>
<td style=""text-align: right;"">3232132</td>
</tr>
</tbody>
</table>
</div>
Subscription
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th style=""text-align: left;"">idsubscription(pk)</th>
<th style=""text-align: center;"">Student(fk)</th>
<th style=""text-align: center;"">value_subscription</th>
<th style=""text-align: center;"">vouchercurso</th>
<th style=""text-align: right;"">date</th>
</tr>
</thead>
<tbody>
<tr>
<td style=""text-align: left;"">1</td>
<td style=""text-align: center;"">1</td>
<td style=""text-align: center;"">100</td>
<td style=""text-align: center;"">null</td>
<td style=""text-align: right;"">2021-11-01</td>
</tr>
<tr>
<td style=""text-align: left;"">2</td>
<td style=""text-align: center;"">2</td>
<td style=""text-align: center;"">150</td>
<td style=""text-align: center;"">null</td>
<td style=""text-align: right;"">2021-12-11</td>
</tr>
<tr>
<td style=""text-align: left;"">3</td>
<td style=""text-align: center;"">3</td>
<td style=""text-align: center;"">160</td>
<td style=""text-align: center;"">null</td>
<td style=""text-align: right;"">2021-01-03</td>
</tr>
<tr>
<td style=""text-align: left;"">4</td>
<td style=""text-align: center;"">4</td>
<td style=""text-align: center;"">500</td>
<td style=""text-align: center;"">null</td>
<td style=""text-align: right;"">1996-11-07</td>
</tr>
<tr>
<td style=""text-align: left;"">5</td>
<td style=""text-align: center;"">1</td>
<td style=""text-align: center;"">900</td>
<td style=""text-align: center;"">null</td>
<td style=""text-align: right;"">2001-07-05</td>
</tr>
<tr>
<td style=""text-align: left;"">6</td>
<td style=""text-align: center;"">2</td>
<td style=""text-align: center;"">432</td>
<td style=""text-align: center;"">null</td>
<td style=""text-align: right;"">2021-05-09</td>
</tr>
</tbody>
</table>
</div>
Subscription_Course
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th style=""text-align: left;"">idsubscription(PK/fk)</th>
<th style=""text-align: center;"">id_Course(pk/fk)</th>
<th style=""text-align: right;"">Grade</th>
</tr>
</thead>
<tbody>
<tr>
<td style=""text-align: left;"">1</td>
<td style=""text-align: center;"">3</td>
<td style=""text-align: right;"">9</td>
</tr>
<tr>
<td style=""text-align: left;"">2</td>
<td style=""text-align: center;"">4</td>
<td style=""text-align: right;"">15</td>
</tr>
<tr>
<td style=""text-align: left;"">3</td>
<td style=""text-align: center;"">5</td>
<td style=""text-align: right;"">12</td>
</tr>
<tr>
<td style=""text-align: left;"">6</td>
<td style=""text-align: center;"">3</td>
<td style=""text-align: right;"">9</td>
</tr>
<tr>
<td style=""text-align: left;"">5</td>
<td style=""text-align: center;"">4</td>
<td style=""text-align: right;"">16</td>
</tr>
<tr>
<td style=""text-align: left;"">2</td>
<td style=""text-align: center;"">6</td>
<td style=""text-align: right;"">20</td>
</tr>
<tr>
<td style=""text-align: left;"">6</td>
<td style=""text-align: center;"">5</td>
<td style=""text-align: right;"">4</td>
</tr>
</tbody>
</table>
</div>
For example, when counting within my table Subscription_Course only the id_course:5 would have a count higher than 1 because 3 and 4 have a subscription from the same student.
I have this query for now:

I don't know what to do to add this condition to the count.",sql|postgresql
156,70077151,Handle whitespace in Neo4j full text search,"I need some help with full text search.
I have created an index like so:

I can query it and get results:
<pre><code>CALL db.index.fulltext.queryNodes('ReasourceName', 'bmc pumping station~') YIELD node, score 
WITH node, score 
RETURN node.name, score
limit 10;
</code></pre>
output:
<pre><code>
&quot;node.name&quot;                     &quot;score&quot;           

&quot;BMC Pumping Station&quot;           8.143752098083496 

&quot;BMC Office&quot;                    2.944127082824707 

&quot;BMC Office&quot;                    2.944127082824707 

&quot;BMC Dispensary&quot;                2.944127082824707 

&quot;BMC Office&quot;                    2.944127082824707 

&quot;BMC Dispensary&quot;                2.944127082824707 

&quot;BMC Office&quot;                    2.944127082824707 

&quot;Police Station&quot;                2.6569595336914062

&quot;Momo Station&quot;                  2.6569595336914062

&quot;BMC Shikshak Bhavan&quot;           2.515393018722534 

</code></pre>
However it performs poorly if the input query differs in whitespace. For example, I would expect the query <code>bmcpumpingstation</code> or <code>bmcpumpingstation~</code> to have a similar result set, however it returns nothing.
There does not appear to be an analyzer that works on levenshtein distance.
(I also asked this question on <a href=""https://community.neo4j.com/t/handle-whitespace-in-full-text-search/47534"" rel=""nofollow noreferrer"">neo4j community</a> but didn't get a response)",neo4j
157,70190425,Why PostgreSQL doesn't block transaction 1 if both are serializable?,"I've been given this schedule:
<a href=""https://i.stack.imgur.com/NpwPn.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/NpwPn.png"" alt=""enter image description here"" /></a>
And I'm asked why Postrgre doesn't make T1 wait before executing the update.
I thought that sice both are serializable, T1 shouldn't do anything until T2 has commited since both are accessing the samne data. But apparently this isn't the case.
Can someone explain?
Thank youeen given this schedule:
<a href=""https://i.stack.imgur.com/NpwPn.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/NpwPn.png"" alt=""enter image description here"" /></a>
And I'm asked why Postrgre doesn't make T1 wait before executing the update.
I thought that sice both are serializable, T1 shouldn't do anything until T2 has commited since both are accessing the samne data. But apparently this isn't the case.
Can someone explain?
Thank youbeen given this schedule:
<a href=""https://i.stack.imgur.com/NpwPn.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/NpwPn.png"" alt=""enter image description here"" /></a>
And I'm asked why Postrgre doesn't make T1 wait before executing the update.
I thought that sice both are serializable, T1 shouldn't do anything until T2 has commited since both are accessing the samne data. But apparently this isn't the case.
Can someone explain?
Thank youeen given this schedule:
<a href=""https://i.stack.imgur.com/NpwPn.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/NpwPn.png"" alt=""enter image description here"" /></a>
And I'm asked why Postrgre doesn't make T1 wait before executing the update.
I thought that sice both are serializable, T1 shouldn't do anything until T2 has commited since both are accessing the samne data. But apparently this isn't the case.
Can someone explain?
Thank you!",sql|postgresql
158,70219387,How to get query time and space information from BigQuery API,"I'm going to build a web app and use BigQuery as a part of backend database, and I want to show the query cost information (ex. 1.8 sec elapsed, 264.9 MB processed) in the app.
I know we can check the BigQuery's query information inside GCP, but how do we I get that information from BigQuery APIing to build a web app and use BigQuery as a part of backend database, and I want to show the query cost information (ex. 1.8 sec elapsed, 264.9 MB processed) in the app.
I know we can check the BigQuery's query information inside GCP, but how do we I get that information from BigQuery APIoing to build a web app and use BigQuery as a part of backend database, and I want to show the query cost information (ex. 1.8 sec elapsed, 264.9 MB processed) in the app.
I know we can check the BigQuery's query information inside GCP, but how do we I get that information from BigQuery APIing to build a web app and use BigQuery as a part of backend database, and I want to show the query cost information (ex. 1.8 sec elapsed, 264.9 MB processed) in the app.
I know we can check the BigQuery's query information inside GCP, but how do we I get that information from BigQuery API?",google-bigquery
159,70191192,How can I structure a voting system in Neo4j?,"I have nodes and relationships like this:

<code>(t:Topic)-[r:HAS_FACT]-&gt;(t:Fact)</code>
<code>(t2:Topic)-[r2:HAS_FACT]-&gt;(t:Fact)</code>
or, simplified:
<code>(t:Topic)-[r:HAS_FACT]-&gt;(t:Fact)&lt;-[r2:HAS_FACT]-(t2:Topic)</code>
Where users can upload <code>Facts</code> and tie them to <code>Topics</code>. Because of the craziness of the internet I'd like to add a voting system that enables users to support/validate/upvote facts, but they don't just upvote the Facts, they need to upvote the combination of Topic and Fact. So really I think they'd be upvoting r and r2?
Essentially I'd like to tie <code>User</code> nodes to some sort of voting system that is somehow tied to a combination of <code>Fact</code> and <code>Topic</code> nodes. I'm not against restructuring anything at this point, happy to do it if there is a more logical solution here!
Thank you in advancee nodes and relationships like this:

<code>(t:Topic)-[r:HAS_FACT]-&gt;(t:Fact)</code>
<code>(t2:Topic)-[r2:HAS_FACT]-&gt;(t:Fact)</code>
or, simplified:
<code>(t:Topic)-[r:HAS_FACT]-&gt;(t:Fact)&lt;-[r2:HAS_FACT]-(t2:Topic)</code>
Where users can upload <code>Facts</code> and tie them to <code>Topics</code>. Because of the craziness of the internet I'd like to add a voting system that enables users to support/validate/upvote facts, but they don't just upvote the Facts, they need to upvote the combination of Topic and Fact. So really I think they'd be upvoting r and r2?
Essentially I'd like to tie <code>User</code> nodes to some sort of voting system that is somehow tied to a combination of <code>Fact</code> and <code>Topic</code> nodes. I'm not against restructuring anything at this point, happy to do it if there is a more logical solution here!
Thank you in advance!",neo4j
160,70101327,Consecutive Numbers in SQL (Leetcode),"The question is for Table: Logs

id is the primary key for this table. Write an SQL query to find all numbers that appear at least three times consecutively.
My solution is the following, which Leetcode is not accepting. Kindly help me identify the error.
<pre><code>with temp1 as
(select num, 
       id, 
       row_number () over (partition by num order by id) as r
from logs),  
temp2 as
(select (id-r) as rn, num, count(num)  
from temp1
group by rn, num
having count(num)&gt;=3)
select num as ConsecutiveNums
from temp
</code></pre>",mysql
161,70095085,How to calculate the number of messages within 10 seconds before the previous one?,"I have a table with messages and I need to find chats where were two or more messages in period of 10 seconds. table

So the result looks like
<pre><code>id
1
3
</code></pre>
I can't come up with the idea how to group by a period or maybe it can be done other way?
<pre><code>select id
from t
group by id, ?
having count(message_id) &gt; 1
</code></pre>",postgresql
162,70259328,Return all the second highest valued rows SQL,"Let's say I have a table called , containing 3 columns: <code>hotelid</code>, <code>timestampOfBooking</code>and <code>numberOfGuests</code>.
How do I return all the dates on which the <strong>second</strong> highest beds were booked (the amount of beds booked is the same as the number of guests).
In other words, I'm looking for the dates on which the <strong>second</strong> maximum number of <code>numberOfGuests</code>occur. This means that in the event of a tie (where there is more than 1 date on which the described condition applies), it should return all those dates. In the event that all the dates have exactly the same <code>numberOfGuests</code> the query should return nothing.
If possible, I would only like to have one column in the query result that contains those specific dates.
Example:

In this case two dates should be in the result: 23/11/2021 and 24/11/2021 as they both had 7 <code>numberOfGuests</code>. The max <code>numberOfGuests</code> here is 17 (occurs on 25/11/2021) and 7 is the <strong>second</strong> highest, explaining why 23/11/2021 <code>(2 + 5)</code> and 24/11/2021 <code>(7)</code> are returned. The final result should look like this:
<pre><code>dates
23/11/2021
24/11/2021
</code></pre>",sql|postgresql
163,70036200,Copying data in two tables with foreign keys,"I have two tables, reviews and grade.
Reviews table has
<blockquote>
id_review (primary key), id_lang, email, text etc.
</blockquote>
Example

Grade table has
<blockquote>
id_review (primary/foreign key), id_criterion, grade
</blockquote>
<pre><code>1, 3, 5.00
1, 1, 4.00
2, 3, 3.00
2, 1, 5.00
4, 2, 3.00
</code></pre>
I need to copy all the reviews with lang id 2, change the text and the lang id to 1 (this I can do manually).
But as the id_review changes with the copied reviews, I need to create new rows on the grade table, too. Is there a way to make sure that the foreign keys are matched with the copied reviews, too?
I tried to do it the old fashioned way with copy/paste on csv but as some reviews are removed from the reviews table and some reviews have differences in id_criterion count, it's very hard to do for a large table.
Or should I try to edit the table to allow the reviews table to have distinct values for id_lang with the same id_review?",mysql
164,70242717,casting issue on Temporary table,"I got error like:
<blockquote>
1292 Truncated incorrect datetime value: '2021-11-30T18:30:00Z' 1292 Truncated incorrect datetime value: '2021-12-31T18:29:59Z'
</blockquote>
I have just simply created one Temporary Table inside the Temporary table I have to get data from the date condition base. I have cast to date but somehow not proper work but I have replaced to <strong>'2021-12-31T18:29:59Z'</strong> to <strong>'2021-12-31'</strong> so it's working properly.
<strong>CREATED column type:</strong> <em>DateTime</em>
<strong>I want to cast this formate because I have got this formate on the front side.</strong>
Query:

<strong>Without Temprory table Query: Work Perfect</strong>
<pre><code>SELECT DISTINCT S.ID `ID`,S.name name FROM Student S
    WHERE  ( CAST(S.CREATED AS DATE) BETWEEN CAST('2021-11-30T18:30:00Z' AS DATE) AND CAST('2021-12-31T18:29:59Z' AS DATE) )
    ORDER BY  name
    asc limit 0,50
</code></pre>",mysql
165,70210904,How to use SET command in MySQL instead of SELECT statement for storing the value in STORED PROCEDURE (Version : 6.0.11-alpha-community),"I want to store the one table data row 'Id' into variable and I used the SELECT statement for that in stored procedure.
EX:

The Id value is storing successfully into the @iCID
Here My question is, can I use SET command instead of SELECT statement to store the one table id value into variable ?
I tried this way but not working ( directly assigning the value into variable )
<pre><code>  SET @IRid := 1;
  SET @iCID := 0;

 SET @iCID := Id FROM tbl_custidData WHERE RID = @IRid;
</code></pre>
And also I tried like this (declaring the variable and assigning the value) :
<pre><code>        DECLARE IRid,iCID INT;
        SET IRid =1;
        SET iCID = 0;

 SET iCID := Id FROM tbl_custidData WHERE RID = IRid;
</code></pre>
The above two ways are not working
Is there any possibility in MySQL for the use of SET command to assign the table id value, like how I used the SELECT statement.
I'm new to MYSQL .
Give me your best solution for my further good steps.",mysql
166,70037235,Can MYSQL tabulate results by the search values used within an 'IN' statement?,"Consider the below MYSQL select query:

With the above query, MYSQL will only show the software and count for matches within the database. If there are no results for value 'Version 3' in software, it won't appear in the output table.
Is there a way to have the counts for each search value in a table, even if the count is zero?
Ideal output would be:
<pre><code>+-----------+-------+
| Software  | Count |
+-----------+-------+
| Version 1 |     5 |
| Version 2 |     3 |
| Version 3 |     0 |
+-----------+-------+
</code></pre>
My real-world application is slightly more complicated than this but the example above was the simplest way I could explain what I need and I figured an answer will really help me towards reaching my goal.
Thanks",mysql
167,70115043,Update a table's foreign key that is duplicate from a specific tuple in other table with the right one,"Database :
<strong>Car table</strong>
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>id</th>
<th>serialnumber</th>
<th>plate</th>
<th>name</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>AA</td>
<td>11111</td>
<td></td>
</tr>
<tr>
<td>2</td>
<td>AA</td>
<td>11111</td>
<td>Ford</td>
</tr>
<tr>
<td>3</td>
<td>BB</td>
<td>22222</td>
<td>Tesla</td>
</tr>
<tr>
<td>4</td>
<td>BB</td>
<td>22222</td>
<td></td>
</tr>
</tbody>
</table>
</div>
<strong>User table</strong>
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>id</th>
<th>car_id</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>1 linked to a duplicate without name)</td>
</tr>
<tr>
<td>2</td>
<td>1 linked to a duplicate without name)</td>
</tr>
<tr>
<td>3</td>
<td>3</td>
</tr>
</tbody>
</table>
</div>
<strong>Expected user table after query</strong>
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>id</th>
<th>car_id</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>2 (now linked to duplicate with name)</td>
</tr>
<tr>
<td>2</td>
<td>2 (now linked to duplicate with name)</td>
</tr>
<tr>
<td>3</td>
<td>3 (linked to a duplicate but has name so doesn't change)</td>
</tr>
</tbody>
</table>
</div>
The tuple () has duplicates, and amongst those duplicates, one has a name, one doesn't.
Assume that duplicates are at a maximum of 2.
One user can only be affected to one car
I'm trying to reaffect all users that are linked to <strong>a duplicated car with no name</strong>(identified by <strong>serialnumber, plate</strong>) to the same car <strong>WITH</strong> a name.
My query :
<pre class=""lang-sql prettyprint-override""><code>    UPDATE user u
    SET car_id = c.id
    FROM car c
    WHERE EXISTS(SELECT 1
                 FROM (SELECT *,
                              count(*)
                              OVER
                                  (PARTITION BY
                                  serialnumber,
                                  plate
                                  ) AS count
                       FROM car) c2
                 WHERE c2.count &gt; 1
                   AND c2.serialnumber = c.serialnumber
                   AND c2.plate = c.plate)
    AND c.name &lt;&gt; ''; 
</code></pre>
I had only one duplicate and tested with a <code>WHERE c.id=...</code> clause and it worked, rerunning it after removing clause affected 300+ rows and messed up my data, so obviously something went wrong (unless reaffecting same value to a column counts?), any idea ?
<strong>Thanks for your help</strong
I had only one duplicate and tested with a <code>WHERE c.id=...</code> clause and it worked, rerunning it after removing clause affected 300+ rows and messed up my data, so obviously something went wrong (unless reaffecting same value to a column counts?), any idea ?
<strong>Thanks for your help</strong>",sql|postgresql
168,70245150,MySQL Row Locking with Unique Index,"I  have a users table (id, username, password, last_login) with id as primary key and username as unique index. When I use  it works as I expected (locking the row until COMMIT). But if I use <code>SELECT id FROM users WHERE username = 'Foo' FOR SHARE</code> it does not lock the row. I have to at least select one column that is not primary key or unique index to lock the row. Isn't the row supposed get locked no matter which columns are selectedve a users table (id, username, password, last_login) with id as primary key and username as unique index. When I use  it works as I expected (locking the row until COMMIT). But if I use <code>SELECT id FROM users WHERE username = 'Foo' FOR SHARE</code> it does not lock the row. I have to at least select one column that is not primary key or unique index to lock the row. Isn't the row supposed get locked no matter which columns are selected?",mysql
169,70107414,Extract Dynamic keys from json in BQ,"I have a json like :

where the keys are dynamic.
I want to extract the keys as well as their values and also the number of keys are not fixed in z. It can be 1/2/3/4/5 or even null. I have looked into other threads but they're different use cases. How to extract this via JSON_EXTRACT ?",google-bigquery
170,70099249,SQL return all rows and number of references to another table,"Given these two tables

I need to return all IDs from <code>B</code> and for each ID return if there is more than one reference to <code>A</code>.
i.e.
<pre><code>result
B.id  more_than_one_reference
-----------------------------
1     true
2     true
3     true
4     true
5     true
6     false
7     false
8     false
</code></pre>
For <code>B.id = 1,2</code> I need to return <code>true</code> because there are two rows in <code>B</code> with <code>a_id = 1</code>.
For <code>B.id = 3,4,5</code> I need to return <code>true</code> because there are three rows in <code>B</code> with <code>a_id = 2</code>.
For <code>B.id = 6</code> I need to return <code>false</code> because there is one row in <code>B</code> with <code>a_id = 3</code>.
For <code>B.id = 7,8</code> I need to return <code>false</code> because a corresponding <code>a_id</code> value is <code>NULL</code>.
I can see that for my purpose, simple <code>COUNT(B.id) &gt; 1</code> check (for a given a_id) would be enough but I am unable to join this result to a <code>SELECT B.id FROM B</code> query.
<strong>EDIT:</strong>
I am also posting my own solution, since the accepted one wasn't working correctly when used with where clause.
<pre><code>SELECT B.id, COALESCE(S1.more_than_one_reference, false)
FROM b B
         LEFT JOIN (SELECT B.a_id, COUNT(B.a_id) &gt; 1 more_than_one_reference FROM b B GROUP BY B.a_id) S1
                   ON B.a_id = S1.a_id;
</code></pre>",sql|postgresql
171,70257189,Metricbeat gcp module to capture bigquery metrics is not working as expected,"I have added bigquery metrics configuration in modules.d/gcp.yml file
But getting an error below
&quot;2021-12-06T09:51:10.206Z        ERROR   [gcp.metrics]   metrics/metricset.go:294        bigquery.googleapis.com/storage/table_count&quot; metric descriptor is empty, this metric will not be collected
Below is the code which I have used
<ul>
<li>module: gcp
region: &quot;us-central1&quot;
metricsets:
<ul>
<li>metrics
project_id: &quot;ProjectName&quot;
credentials_file_path: &quot;/root/xyz.json&quot;
exclude_labels: false
period: 1h
metrics:</li>
<li>aligner: ALIGN_NONE
service: bigquery
service_metric_prefix: bigquery.googleapis.com/
metric_types:
<ul>
<li>&quot;bigquery.googleapis.com/storage/table_count&quot;</li>
</ul>
</li>
</ul>
</li>
</ul>
Let me know if there is any changes needed in code.
I have also tried extracting compute and billing metrics . We can see the column names populating in Kibana discovery filter area , but we do not have any data available
Please find the code given below
<ul>
<li>module: gcp
region: &quot;us-central1&quot;
metricsets:
<ul>
<li>metrics
project_id: &quot;projectname&quot;
credentials_file_path: &quot;/root/xyz.json&quot;
exclude_labels: false
period: 1
metrics:</li>
<li>aligner: ALIGN_NONE
service: compute
metric_types:
<ul>
<li>&quot;instance/cpu/reserved_cores&quot;</li>
<li>&quot;instance/cpu/usage_time&quot;</li>
<li>&quot;instance/cpu/utilization&quot;</li>
<li>&quot;instance/uptime&quot;</li>
</ul>
</li>
</ul>
</li>
</ul>
Thank added bigquery metrics configuration in modules.d/gcp.yml file
But getting an error below
&quot;2021-12-06T09:51:10.206Z        ERROR   [gcp.metrics]   metrics/metricset.go:294        bigquery.googleapis.com/storage/table_count&quot; metric descriptor is empty, this metric will not be collected
Below is the code which I have used
<ul>
<li>module: gcp
region: &quot;us-central1&quot;
metricsets:
<ul>
<li>metrics
project_id: &quot;ProjectName&quot;
credentials_file_path: &quot;/root/xyz.json&quot;
exclude_labels: false
period: 1h
metrics:</li>
<li>aligner: ALIGN_NONE
service: bigquery
service_metric_prefix: bigquery.googleapis.com/
metric_types:
<ul>
<li>&quot;bigquery.googleapis.com/storage/table_count&quot;</li>
</ul>
</li>
</ul>
</li>
</ul>
Let me know if there is any changes needed in code.
I have also tried extracting compute and billing metrics . We can see the column names populating in Kibana discovery filter area , but we do not have any data available
Please find the code given below
<ul>
<li>module: gcp
region: &quot;us-central1&quot;
metricsets:
<ul>
<li>metrics
project_id: &quot;projectname&quot;
credentials_file_path: &quot;/root/xyz.json&quot;
exclude_labels: false
period: 1
metrics:</li>
<li>aligner: ALIGN_NONE
service: compute
metric_types:
<ul>
<li>&quot;instance/cpu/reserved_cores&quot;</li>
<li>&quot;instance/cpu/usage_time&quot;</li>
<li>&quot;instance/cpu/utilization&quot;</li>
<li>&quot;instance/uptime&quot;</li>
</ul>
</li>
</ul>
</li>
</ul>
Thanke added bigquery metrics configuration in modules.d/gcp.yml file
But getting an error below
&quot;2021-12-06T09:51:10.206Z        ERROR   [gcp.metrics]   metrics/metricset.go:294        bigquery.googleapis.com/storage/table_count&quot; metric descriptor is empty, this metric will not be collected
Below is the code which I have used
<ul>
<li>module: gcp
region: &quot;us-central1&quot;
metricsets:
<ul>
<li>metrics
project_id: &quot;ProjectName&quot;
credentials_file_path: &quot;/root/xyz.json&quot;
exclude_labels: false
period: 1h
metrics:</li>
<li>aligner: ALIGN_NONE
service: bigquery
service_metric_prefix: bigquery.googleapis.com/
metric_types:
<ul>
<li>&quot;bigquery.googleapis.com/storage/table_count&quot;</li>
</ul>
</li>
</ul>
</li>
</ul>
Let me know if there is any changes needed in code.
I have also tried extracting compute and billing metrics . We can see the column names populating in Kibana discovery filter area , but we do not have any data available
Please find the code given below
<ul>
<li>module: gcp
region: &quot;us-central1&quot;
metricsets:
<ul>
<li>metrics
project_id: &quot;projectname&quot;
credentials_file_path: &quot;/root/xyz.json&quot;
exclude_labels: false
period: 1
metrics:</li>
<li>aligner: ALIGN_NONE
service: compute
metric_types:
<ul>
<li>&quot;instance/cpu/reserved_cores&quot;</li>
<li>&quot;instance/cpu/usage_time&quot;</li>
<li>&quot;instance/cpu/utilization&quot;</li>
<li>&quot;instance/uptime&quot;</li>
</ul>
</li>
</ul>
</li>
</ul>
Thank added bigquery metrics configuration in modules.d/gcp.yml file
But getting an error below
&quot;2021-12-06T09:51:10.206Z        ERROR   [gcp.metrics]   metrics/metricset.go:294        bigquery.googleapis.com/storage/table_count&quot; metric descriptor is empty, this metric will not be collected
Below is the code which I have used
<ul>
<li>module: gcp
region: &quot;us-central1&quot;
metricsets:
<ul>
<li>metrics
project_id: &quot;ProjectName&quot;
credentials_file_path: &quot;/root/xyz.json&quot;
exclude_labels: false
period: 1h
metrics:</li>
<li>aligner: ALIGN_NONE
service: bigquery
service_metric_prefix: bigquery.googleapis.com/
metric_types:
<ul>
<li>&quot;bigquery.googleapis.com/storage/table_count&quot;</li>
</ul>
</li>
</ul>
</li>
</ul>
Let me know if there is any changes needed in code.
I have also tried extracting compute and billing metrics . We can see the column names populating in Kibana discovery filter area , but we do not have any data available
Please find the code given below
<ul>
<li>module: gcp
region: &quot;us-central1&quot;
metricsets:
<ul>
<li>metrics
project_id: &quot;projectname&quot;
credentials_file_path: &quot;/root/xyz.json&quot;
exclude_labels: false
period: 1
metrics:</li>
<li>aligner: ALIGN_NONE
service: compute
metric_types:
<ul>
<li>&quot;instance/cpu/reserved_cores&quot;</li>
<li>&quot;instance/cpu/usage_time&quot;</li>
<li>&quot;instance/cpu/utilization&quot;</li>
<li>&quot;instance/uptime&quot;</li>
</ul>
</li>
</ul>
</li>
</ul>
Thanks",google-bigquery
172,70333119,get time series in 8 hours of interval,"I am generating one time-series from using the below query.

and it will give me output like below.
<pre><code>2021-11-13 18:00:00.000
2021-11-14 02:00:00.000
2021-11-14 10:00:00.000
2021-11-14 18:00:00.000
2021-11-15 02:00:00.000
</code></pre>
but I need output like.
<pre><code>2021-11-13 16:00:00.000
2021-11-14 00:00:00.000
2021-11-14 08:00:00.000
2021-11-14 16:00:00.000
2021-11-15 00:00:00.000
</code></pre>
currently, the time series hours depend upon the timestamp that I pass. in above it gives me hours like 02,10,18...but I want the hours like 00,08,16...hours should not depend on the time I passed in query. I tried many things but not any success.",sql|postgresql
173,70157863,Statistics are lost after failover,"Following a failover, the statistics are reset to 0 on the new primary in the pg_stat_user_tables view.

If modifications are made on a tables (update/delete/insert) and the vacuum was not executed before the FO, the planner's statistics won't be up to date.
Is there an easy way to deal with this problem?",postgresql
174,70216235,How to aggregate across elements in list in neo4j,"I'm a complete beginner to neo4j and cypher queries. I have a scenario where two Person nodes  and <code>Karen</code> have 3 nodes in between them. The relationships between all nodes have a property called <code>weight</code>:
<a href=""https://i.stack.imgur.com/Lej5x.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/Lej5x.png"" alt=""enter image description here"" /></a>

I want to rank these people who know <code>James</code> and <code>Karen</code> using a calculated score from the property of the relationship, which is defined as <code>(x - min(x)/max(x) - min(x)</code>, some form of normalization i.e.
<pre><code>MATCH (:Person{name:'James'})-[:KNOWS]-&gt;(:Person)&lt;-[r1:KNOWS]-(:Person{name: 'Karen'})
WITH collect(r1.weight) as a
WITH  apoc.coll.min(a) as min_val, apoc.coll.max(a) as max_val
MATCH (:Person{name:'James'})-[:KNOWS]-&gt;(p:Person)&lt;-[r2:KNOWS]-(:Person{name: 'Karen'})
WITH p, r2, (r2.weight - min_val)/(max_val - min_val) as score
RETURN p, r2, score
ORDER BY score DESC


&quot;p&quot;              &quot;r2&quot;         &quot;score&quot;

{&quot;name&quot;:&quot;Emily&quot;} {&quot;weight&quot;:76}1      

{&quot;name&quot;:&quot;Xavier&quot;}{&quot;weight&quot;:2} 0      

{&quot;name&quot;:&quot;Todd&quot;}  {&quot;weight&quot;:8} 0      

</code></pre>
Is there a better way to do this without having to repeat the process of finding the matching nodes i.e.
<code>MATCH (:Person{name:'James'})-[:KNOWS]-&gt;(p:Person)&lt;-[r2:KNOWS]-(:Person{name: 'Karen'})</code>
<strong>UPDATE</strong>
This is another attempt
<pre><code>MATCH (:Person{name:'James'})-[:KNOWS]-&gt;(p:Person)&lt;-[r:KNOWS]-(:Person{name: 'Karen'})
WITH r, apoc.map.fromLists([&quot;name&quot;, &quot;r_weight&quot;],[p.name, r.weight]) as person
WITH collect(person) as people, collect(r.weight) as w
WITH people, apoc.coll.min(w) as min_val, apoc.coll.max(w) as max_val 
UNWIND people as pp
WITH pp, (pp.r_weight - min_val)/(max_val - min_val) as score
RETURN pp, score
ORDER BY score DESC


&quot;pp&quot;                          &quot;score&quot;

{&quot;name&quot;:&quot;Emily&quot;,&quot;r_weight&quot;:76}1      

{&quot;name&quot;:&quot;Xavier&quot;,&quot;r_weight&quot;:2}0      

{&quot;name&quot;:&quot;Todd&quot;,&quot;r_weight&quot;:8}  0      

</code></pre>
Any cleaner approach than my crude way?",neo4j|cypher
175,70251444,Data model and queries for rentals and customers using SQL / PostgreSQL,"I got similar data model as on picture below, and wanted to know following things (I am trying to learn PostgreSQL so I would appreciate statements in it):
<ol>
<li>customers who have a Rent starting in the last XY days</li>
<li>customers who have more than XY rent in the category category starting in the last XY months</li>
<li>For each day of June 2019, how many Rs are active on a given day ?(R is active between its start/return date). *Date Series</li>
</ol>
I am not so experienced in SQL statements but wanted to get some inputs...
Maybe solution to the 3rd:
",sql|postgresql
176,70082179,Return max value of each partition,"I have this table:

This is a sample data set:
<pre><code>insert into some_date 
values ('2021-11-17','06:39:37.7663',2),
('2021-11-17','06:39:38.7663',5),
('2021-11-17','06:39:39.7663',0),
('2021-11-17','06:39:40.7663',9),
('2021-11-17','06:39:41.7663',3),
('2021-11-17','06:39:42.7663',7),
('2021-11-17','06:39:43.7663',5),
('2021-11-17','06:39:44.7663',6),
('2021-11-17','06:39:45.7663',3),
('2021-11-17','06:39:46.7663',1),
('2021-11-17','06:39:47.7663',2),
('2021-11-17','06:39:48.7663',5),
('2021-11-17','06:39:49.7663',8),
('2021-11-17','06:39:50.7663',9),
('2021-11-17','06:39:51.7663',4),
('2021-11-17','06:39:52.7663',5),
('2021-11-17','06:39:53.7663',6),
('2021-11-17','06:39:54.7663',6),
('2021-11-17','06:39:55.7663',7),
('2021-11-17','06:39:56.7663',8),
('2021-11-17','06:39:57.7663',9),
('2021-11-17','06:39:58.7663',7),
('2021-11-17','06:39:59.7663',8),
('2021-11-17','06:40:00.7663',9),
('2021-11-17','06:40:01.7663',1),
('2021-11-17','06:40:00.7663',9),
('2021-11-17','06:40:01.7663',1),
('2021-11-17','06:40:02.7663',9),
('2021-11-17','06:40:03.7663',1),
('2021-11-17','06:40:04.7663',9),
('2021-11-17','06:40:05.7663',1),
('2021-11-17','06:40:06.7663',9),
('2021-11-17','06:40:07.7663',1),
('2021-11-17','06:40:08.7663',9),
('2021-11-17','06:40:09.7663',1),
('2021-11-17','06:40:10.7663',9),
('2021-11-17','06:40:11.7663',1),
('2021-11-17','06:40:12.7663',9),
('2021-11-17','06:40:13.7663',1),
('2021-11-17','06:40:14.7663',9),
('2021-11-17','06:40:15.7663',1),
('2021-11-17','06:40:16.7663',9),
('2021-11-17','06:40:17.7663',1),
('2021-11-17','06:40:18.7663',9),
('2021-11-17','06:40:19.7663',1),
('2021-11-17','06:40:20.7663',9),
('2021-11-17','06:40:21.7663',1),
('2021-11-17','06:40:22.7663',9),
('2021-11-17','06:40:23.7663',1),
('2021-11-17','06:40:24.7663',9),
('2021-11-17','06:40:25.7663',1),
('2021-11-17','06:40:26.7663',9),
('2021-11-17','06:40:27.7663',1),
('2021-11-17','06:40:28.7663',9),
('2021-11-17','06:40:29.7663',1),
('2021-11-17','06:40:30.7663',9),
('2021-11-17','06:40:31.7663',1),
('2021-11-17','06:40:32.7663',9),
('2021-11-17','06:40:33.7663',1),
('2021-11-17','06:40:34.7663',9),
('2021-11-17','06:40:35.7663',1);
</code></pre>
I want to query data per min like max, min ..., so I use <code>row_number()</code> and partition to set group by a minute
<pre><code>with t as (
    select * , extract(hour from t) as h,  extract(minute from t) as m
    from  price
), tt as (
select * , row_number() over(partition by h,m order by t) as t_sequence
from t)
</code></pre>
and now I want to query by this 'partition', how to do it?",postgresql
177,70111525,SQL aggregate data based on a single column,"i have to aggregate data in my SQL query (DISTINCT) based on a single column in this kind of fashion:
original table:

so i would to aggregate data based on column var_id_id having just first data fo every different values of var_id_id as in example:
result:
<pre><code>id|var_val|id_res_id|var_id_id|device_id|var_val_conv
11|126    |3864     |36       |abc123   |1.21
9 |115    |3582     |35       |abc123   |4.41
6 |12     |3364     |34       |abc123   |11.7
</code></pre>
i try this query but i don't get what i would:
<pre><code>SELECT VR.id, var_val, id_res_id, var_id_id, AR.device_id, var_val_conv
    FROM public.api_site_varsresults as VR,
    public.modbus_modbusvariable as MV,
    public.api_site_results as AR
    WHERE VR.var_id_id = MV.id AND VR.id_res_id = AR.id
    AND AR.device_id = 'abc123'
    GROUP BY VR.id, var_id_id, AR.device_id
    ORDER BY VR.id DESC;
</code></pre>
How can i group for var_id_id having just first line encountred for every result?
So many thanks in advance",sql|postgresql
178,70206680,"Creating a SQL movie database. Do I really a ""genre_linker"" table for the relationship between ""movies"" and ""genres""","I am building an sql movie database for all the dvds and blurays I own. I currently have the following tables...
movies(id(primary key), title, year, format, runtime)
people(id(primary key), gender, dob, dod, name)
credits(person_id(foreign key), movie_id(foreign key), job, role)
genres(id(primary key), genre)
movie_genres(movie_id(foreign key), genre_id(foreign key))
My question is do I need/is there a logical benefit i.e. memory management etc. to having 2 separate tables for the genres or would it be better to just have 1 say like....
genres(movie_id(foreign key), genresuilding an sql movie database for all the dvds and blurays I own. I currently have the following tables...
movies(id(primary key), title, year, format, runtime)
people(id(primary key), gender, dob, dod, name)
credits(person_id(foreign key), movie_id(foreign key), job, role)
genres(id(primary key), genre)
movie_genres(movie_id(foreign key), genre_id(foreign key))
My question is do I need/is there a logical benefit i.e. memory management etc. to having 2 separate tables for the genres or would it be better to just have 1 say like....
genres(movie_id(foreign key), genresbuilding an sql movie database for all the dvds and blurays I own. I currently have the following tables...
movies(id(primary key), title, year, format, runtime)
people(id(primary key), gender, dob, dod, name)
credits(person_id(foreign key), movie_id(foreign key), job, role)
genres(id(primary key), genre)
movie_genres(movie_id(foreign key), genre_id(foreign key))
My question is do I need/is there a logical benefit i.e. memory management etc. to having 2 separate tables for the genres or would it be better to just have 1 say like....
genres(movie_id(foreign key), genresuilding an sql movie database for all the dvds and blurays I own. I currently have the following tables...
movies(id(primary key), title, year, format, runtime)
people(id(primary key), gender, dob, dod, name)
credits(person_id(foreign key), movie_id(foreign key), job, role)
genres(id(primary key), genre)
movie_genres(movie_id(foreign key), genre_id(foreign key))
My question is do I need/is there a logical benefit i.e. memory management etc. to having 2 separate tables for the genres or would it be better to just have 1 say like....
genres(movie_id(foreign key), genres)",mysql
179,70291992,MySql count () to return 0 if no records found,"I try to do a COUNT in a table where possibly there is no record to count, LEFT JOIN, RIGHT JOIN, none of them work, what happens?
If there are no records, is it possible for COUNT to say zero?

this is the simple query I am using
<pre><code>SELECT c.cla_name, COUNT(p.cla_name)
FROM clase c
LEFT JOIN products p ON p.cla_name = c.cla_name
WHERE p.product_type = 29
GROUP BY c.cla_name




The result:
cla_name    COUNT(p.cla_name)
A                6
B                5
C                3
</code></pre>
The result expected:
<pre><code>cla_name    COUNT(p.cla_name)
A                6
B                5
C                3
D                0
</code></pre>
<a href=""https://dbfiddle.uk/?rdbms=mysql_5.5&amp;fiddle=9ff6619ebfce455fb624853e4c715451"" rel=""nofollow noreferrer"">See the Fiddle Here</a>",mysql
180,70089099,creating new table from multiple tables,"Hi I'm trying to create a new lookup tables in which I need all columns that have date values from all the tables in a particular schema. When I'm trying to UNION the column, I am getting only the result of 1st select and seems like union is not working here. How can I get all these columns in my new table?
Here's my code for reference:
",mysql
181,70368186,Transpose rows to column in postgresql,"<pre class=""lang-sql prettyprint-override""></pre>
This query gives me a list of 1222 distinct columns and I want to create one base table which has all the 1222 rows from this query as columns. fea_var% tables are just empty tables with columns.<br />
So, the output should be an empty table with those 1222 columns
This query gives me a list of 1222 distinct columns and I want to create one base table which has all the 1222 rows from this query as columns. fea_var% tables are just empty tables with columns.<br />
So, the output should be an empty table with those 1222 columns.",postgresql
182,70152849,"Postgresql 12: pg_ctl: PID file ""/var/lib/postgresql/12/main/postmaster.pid"" does not exist","after updates on our servers postgresql wont run properly (not listening, and actualy not running at all).
system: Debian 10 (4.19.0-18-amd64 #1 SMP Debian 4.19.208-1 (2021-09-29) x86_64 GNU/Linux)
pg_clusterts output:

log file:
<pre><code>postgres@franklin:/etc/postgresql/12/main$ /usr/lib/postgresql/12/bin/pg_ctl restart -D /var/lib/postgresql/12/main
pg_ctl: PID file &quot;/var/lib/postgresql/12/main/postmaster.pid&quot; does not exist
Is server running?
trying to start server anyway
waiting for server to start....2021-11-29 10:45:29.443 CET [5458] LOG:  starting PostgreSQL 12.8 (Debian 12.8-1.pgdg100+1) on x86_64-pc-linux-gnu, compiled by gcc (Debian 8.3.0-6) 8.3.0, 64-bit
2021-11-29 10:45:29.443 CET [5458] LOG:  listening on IPv4 address &quot;0.0.0.0&quot;, port 5432
2021-11-29 10:45:29.443 CET [5458] LOG:  listening on IPv6 address &quot;::&quot;, port 5432
2021-11-29 10:45:29.448 CET [5458] LOG:  listening on Unix socket &quot;/var/run/postgresql.s.PGSQL.5432&quot;
2021-11-29 10:45:29.471 CET [5459] LOG:  database system was shut down at 2021-11-25 11:28:00 CET
2021-11-29 10:45:29.471 CET [5459] LOG:  invalid primary checkpoint record
2021-11-29 10:45:29.471 CET [5459] PANIC:  could not locate a valid checkpoint record
2021-11-29 10:45:29.472 CET [5458] LOG:  startup process (PID 5459) was terminated by signal 6: Aborted
2021-11-29 10:45:29.472 CET [5458] LOG:  aborting startup due to startup process failure
2021-11-29 10:45:29.473 CET [5458] LOG:  database system is shut down
stopped waiting
pg_ctl: could not start server
Examine the log output.
</code></pre>
I'm unclear why id doesn't listen on the port (5432) or how to resolve it",postgresql
183,70211146,"Use ""json_field@>"" for greater than, is in etc (PostgreSQL)","Say I have a table in a PostgreSQL database like
<pre class=""lang-py prettyprint-override""></pre>
I can get the data for <code>json_field</code> where <code>name==&quot;foo&quot;</code> by doing
<pre class=""lang-sql prettyprint-override""><code>SELECT * from my_table where json_field@&gt;&quot;{'name':'foo'}&quot;
</code></pre>
or
<pre class=""lang-sql prettyprint-override""><code>SELECT * from my_table where (json_field-&gt;&gt;'name')='foo'&quot;
</code></pre>
Since the first query is way faster (it is indexed as far as I understand, where the second have to loop through each record and check) is there a way to do other conditons like &quot;greater than&quot;, &quot;is in&quot;, &quot;is not&quot; e.g (some pseudo-code)
<pre class=""lang-sql prettyprint-override""><code>SELECT * from my_table where json_field@&gt;&quot;{'name':is not 'foo'}&quot;
SELECT * from my_table where json_field@&gt;&quot;{'name':&gt;'foo'}&quot;
SELECT * from my_table where json_field@&gt;&quot;{'age':is in '(20,50)'}&quot;
</code></pre
I can get the data for <code>json_field</code> where <code>name==&quot;foo&quot;</code> by doing
<pre class=""lang-sql prettyprint-override""><code>SELECT * from my_table where json_field@&gt;&quot;{'name':'foo'}&quot;
</code></pre>
or
<pre class=""lang-sql prettyprint-override""><code>SELECT * from my_table where (json_field-&gt;&gt;'name')='foo'&quot;
</code></pre>
Since the first query is way faster (it is indexed as far as I understand, where the second have to loop through each record and check) is there a way to do other conditons like &quot;greater than&quot;, &quot;is in&quot;, &quot;is not&quot; e.g (some pseudo-code)
<pre class=""lang-sql prettyprint-override""><code>SELECT * from my_table where json_field@&gt;&quot;{'name':is not 'foo'}&quot;
SELECT * from my_table where json_field@&gt;&quot;{'name':&gt;'foo'}&quot;
SELECT * from my_table where json_field@&gt;&quot;{'age':is in '(20,50)'}&quot;
</code></pre>",postgresql
184,70332682,How to have parameters in property keys in Cypher?,"According to <a href=""https://neo4j.com/docs/cypher-manual/current/syntax/parameters/"" rel=""nofollow noreferrer"" title=""Parameters - Neo4j Cypher Manual"">Parameters - Neo4j Cypher Manual</a>, this is not allowed

I wonder if there is a way to overcome this?",neo4j|cypher
185,70298476,BigQuery pivot multiple rows into columns,"I have a table similar to this in BigQuery.
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>Accounts</th>
<th>ACount</th>
<th>BCount</th>
<th>Date</th>
</tr>
</thead>
<tbody>
<tr>
<td>A</td>
<td>4</td>
<td>5</td>
<td>2021-12-08</td>
</tr>
<tr>
<td>A</td>
<td>3</td>
<td>4</td>
<td>2021-12-07</td>
</tr>
<tr>
<td>B</td>
<td>2</td>
<td>3</td>
<td>2021-12-08</td>
</tr>
<tr>
<td>B</td>
<td>4</td>
<td>6</td>
<td>2021-12-07</td>
</tr>
</tbody>
</table>
</div>
I need to convert this table to something similar to below.
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>Accounts</th>
<th>ACount_12-07</th>
<th>BCount_12-07</th>
<th>ACount_12-08</th>
<th>BCount_12-08</th>
</tr>
</thead>
<tbody>
<tr>
<td>A</td>
<td>3</td>
<td>4</td>
<td>4</td>
<td>5</td>
</tr>
<tr>
<td>B</td>
<td>4</td>
<td>6</td>
<td>2</td>
<td>3</td>
</tr>
</tbody>
</table>
</div>
Can BigQuery experts help me figure out how to achieve this through BigQuery?
Thank you in advance a table similar to this in BigQuery.
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>Accounts</th>
<th>ACount</th>
<th>BCount</th>
<th>Date</th>
</tr>
</thead>
<tbody>
<tr>
<td>A</td>
<td>4</td>
<td>5</td>
<td>2021-12-08</td>
</tr>
<tr>
<td>A</td>
<td>3</td>
<td>4</td>
<td>2021-12-07</td>
</tr>
<tr>
<td>B</td>
<td>2</td>
<td>3</td>
<td>2021-12-08</td>
</tr>
<tr>
<td>B</td>
<td>4</td>
<td>6</td>
<td>2021-12-07</td>
</tr>
</tbody>
</table>
</div>
I need to convert this table to something similar to below.
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>Accounts</th>
<th>ACount_12-07</th>
<th>BCount_12-07</th>
<th>ACount_12-08</th>
<th>BCount_12-08</th>
</tr>
</thead>
<tbody>
<tr>
<td>A</td>
<td>3</td>
<td>4</td>
<td>4</td>
<td>5</td>
</tr>
<tr>
<td>B</td>
<td>4</td>
<td>6</td>
<td>2</td>
<td>3</td>
</tr>
</tbody>
</table>
</div>
Can BigQuery experts help me figure out how to achieve this through BigQuery?
Thank you in advancee a table similar to this in BigQuery.
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>Accounts</th>
<th>ACount</th>
<th>BCount</th>
<th>Date</th>
</tr>
</thead>
<tbody>
<tr>
<td>A</td>
<td>4</td>
<td>5</td>
<td>2021-12-08</td>
</tr>
<tr>
<td>A</td>
<td>3</td>
<td>4</td>
<td>2021-12-07</td>
</tr>
<tr>
<td>B</td>
<td>2</td>
<td>3</td>
<td>2021-12-08</td>
</tr>
<tr>
<td>B</td>
<td>4</td>
<td>6</td>
<td>2021-12-07</td>
</tr>
</tbody>
</table>
</div>
I need to convert this table to something similar to below.
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>Accounts</th>
<th>ACount_12-07</th>
<th>BCount_12-07</th>
<th>ACount_12-08</th>
<th>BCount_12-08</th>
</tr>
</thead>
<tbody>
<tr>
<td>A</td>
<td>3</td>
<td>4</td>
<td>4</td>
<td>5</td>
</tr>
<tr>
<td>B</td>
<td>4</td>
<td>6</td>
<td>2</td>
<td>3</td>
</tr>
</tbody>
</table>
</div>
Can BigQuery experts help me figure out how to achieve this through BigQuery?
Thank you in advance a table similar to this in BigQuery.
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>Accounts</th>
<th>ACount</th>
<th>BCount</th>
<th>Date</th>
</tr>
</thead>
<tbody>
<tr>
<td>A</td>
<td>4</td>
<td>5</td>
<td>2021-12-08</td>
</tr>
<tr>
<td>A</td>
<td>3</td>
<td>4</td>
<td>2021-12-07</td>
</tr>
<tr>
<td>B</td>
<td>2</td>
<td>3</td>
<td>2021-12-08</td>
</tr>
<tr>
<td>B</td>
<td>4</td>
<td>6</td>
<td>2021-12-07</td>
</tr>
</tbody>
</table>
</div>
I need to convert this table to something similar to below.
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>Accounts</th>
<th>ACount_12-07</th>
<th>BCount_12-07</th>
<th>ACount_12-08</th>
<th>BCount_12-08</th>
</tr>
</thead>
<tbody>
<tr>
<td>A</td>
<td>3</td>
<td>4</td>
<td>4</td>
<td>5</td>
</tr>
<tr>
<td>B</td>
<td>4</td>
<td>6</td>
<td>2</td>
<td>3</td>
</tr>
</tbody>
</table>
</div>
Can BigQuery experts help me figure out how to achieve this through BigQuery?
Thank you in advance,",google-bigquery
186,70202050,Charges for Querying Metadata tables in INFORMATION_SCHEMA in bigquery,"Does Bigquery charge for querying tables in <strong>INFORMATION_SCHEMA</strong> and also some other metadata tables like  . I tried to look for this information in the document here <a href=""https://cloud.google.com/bigquery/pricing"" rel=""nofollow noreferrer"">https://cloud.google.com/bigquery/pricing</a> but seems like there is not much information about this.
If this is chargable then whether call getTable method from java client is also chargablBigquery charge for querying tables in <strong>INFORMATION_SCHEMA</strong> and also some other metadata tables like  . I tried to look for this information in the document here <a href=""https://cloud.google.com/bigquery/pricing"" rel=""nofollow noreferrer"">https://cloud.google.com/bigquery/pricing</a> but seems like there is not much information about this.
If this is chargable then whether call getTable method from java client is also chargable",google-bigquery
187,70274285,"Postgres, order by SUM of column in child table","I have the following (simplified) tables
products -  <code>name</code>
order_products - <code>quantity</code>, <code>product_id</code>
I would like to order the rows from <code>products</code> table based on the sum of <code>quantity</code> column in <code>order_products</code> for every product
If <code>order_products</code> has these rows

I want the results to be ordered like that: <code>666, 555, 777</code>
666 has 6 quantity, 555 has 4 and 777 has 3
I ended up using slightly modified version of the answer, as my requirement was to include <code>products</code> even if they don't have any relations in <code>order_products</code> table.
<pre><code>select p.*, coalesce(sum(op.quantity), 0) quantity_sold
from products p
left outer join order_products as op on op.product_id = p.id
group by p.id
order by quantity_sold desc
</code></pre>",sql|postgresql
188,70217516,SQL to SELECT all groups belonging to a specific member ID AND all the users that belong to each group,"I have three tables, the relevant parts of which are:
users

groups
<pre><code>groups.groupID, groups.groupOwner, groups.groupName
</code></pre>
mapFriendsGroups
<pre><code>mapFriendsGroups.userID, mapFriendsGroups.groupID
</code></pre>
To be clear, the functionality is that a primary user can create new groups which appear in the groups table.  A primary user has a list of friends (secondary users, each with their own entry in the users table) that they can add to one of their groups; this is represented by that friend's users.userID value being entered into the mapFriendsGroups.userID field of the mapFriendsGroups table. I then wrote this SQL to get the data that I want to display:
<pre><code> SELECT `groups`.*, `users`.* FROM `groups` JOIN `mapFriendsGroups` ON `groups`.`groupID` = `mapFriendsGroups`.`groupID` JOIN `users` ON `users`.`userID` = `mapFriendsGroups`.`userID` WHERE `groups`.`groupOwner` = ? ORDER BY `groups`.`groupID`, `users`.`userLastName`
</code></pre>
I handle this as a prepared statement in PHP and bind the primary user's users.userID value (which is held in a session variable) to the ?
This very nearly works but I discovered one problem - if a primary user creates a group but has not assigned any members to that group, the group will not be part of the results. I am convinced I'm doing a JOIN wrong but can't seem to get it to work.
I checked several other questions on stackoverflow (e.g. <a href=""https://stackoverflow.com/questions/14983042/select-all-users-that-belong-to-a-certain-group-complicated-query"">Select all users that belong to a certain group, complicated query</a> and <a href=""https://stackoverflow.com/questions/66693042/sql-query-get-all-users-for-a-specific-group-and-each-user-with-all-groups"">SQL: query get all users for a specific group and each user with all groups</a> ) but all of those answers seem to assume that the groups are not restricted to a subset and filtered by the current user's ID.
Anyone have any suggestions?
In case it matters, here's what I'm using to parse the data after I get it:
<pre><code>if ($r-&gt;num_rows &gt; 0) { // If it ran OK.
    $data1 = $r-&gt;fetch_assoc(); 
    $myGroups = '';
    $currentGroup = '';
    do {  
        // check the value of the current group variable against the actual current group name
        if ($currentGroup == $data1['groupName']){
            // this is part of a prior group...
            $myGroups .= ', '.$data1['userFirstName'].' '.$data1['userLastName'];
        } else {
            // this is not part of a prior group. check if the current group variable is empty - if it is then just start a new row
            if ($currentGroup == ''){
                $myGroups .= '&lt;tr&gt;';
                $myGroups .= '&lt;td&gt;&lt;strong&gt;'.$data1['groupName'].'&lt;/strong&gt;&lt;/td&gt;';
                $myGroups .= '&lt;td&gt;'.$data1['userFirstName'].' '.$data1['userLastName'];             
            } else {
                // close the prior group then start a new row
                $myGroups .= '&lt;/td&gt;';
                $myGroups .= '&lt;/tr&gt;';
                $myGroups .= '&lt;tr&gt;';
                $myGroups .= '&lt;td&gt;&lt;strong&gt;'.$data1['groupName'].'&lt;/strong&gt;&lt;/td&gt;';
                $myGroups .= '&lt;td&gt;'.$data1['userFirstName'].' '.$data1['userLastName']; 
            }
        }
        // assign the current group name to the current group variable
        $currentGroup = $data1['groupName'];
    } while($data1 = mysqli_fetch_assoc($r));
    // close the final row
    $myGroups .= '&lt;/td&gt;&lt;/tr&gt;';
</code></pre>
It ain't pretty, but it outputs a table of data where the users sees all of his groups (that have members in them) and who are the members (note that the creator of a group is NOT part of the group - this is important for later functionality).  Again, I just need a tweak that will let this show empty groups. It's not an error in the PHP code - I've tested the SQL directly in phpMyAdmin's SQL tool and even there I'm not seeing the groups with zero members.
I wish I could just add the creator of the group to the group - that would enable my current code to do the job - but again that's not an option for this project.
<em><strong><strong>EDIT 01</strong></strong></em>
Here's a sample of the data:
from the users table
userID = 5 is the primary user (the value of ? in the test query)
other userID values are 1,2,3,4,8,10,11,12
from the groups table, only those groups whose groups.groupOwner value = 5
<pre><code>groupID = 11 | groupName = BFFs
groupID = 12 | groupName = Car
groupID = 13 | groupName = Shopping
groupID = 14 | groupName = Travel
groupID = 15 | groupName = Test
groupID = 18 | groupName = Gamers
</code></pre>
from the mapFriendsGroups table, the relevant rows
<pre><code>userID = 1 | groupID 11
userID = 2 | groupID 11
userID = 3 | groupID 11
userID = 1 | groupID 12
userID = 2 | groupID 13
userID = 3 | groupID 13
userID = 1 | groupID 14
userID = 3 | groupID 14
userID = 1 | groupID 15
userID = 2 | groupID 15
</code></pre>
<em><strong><strong>EDIT 02</strong></strong></em>
I took the csv export option from phpMySQL and dumped it into a text editor, removed the irrelevant columns, and am pasting it here. Note there's 10 rows.
<pre><code>11,5,BFFs,3,Alex,Smith
11,5,BFFs,2,Ben,Smith
11,5,BFFs,1,Allison,Smith
12,5,Car,1,Allison,Smith
13,5,Shopping,3,Alex,Smith
13,5,Shopping,2,Ben,Smith
14,5,Travel,3,Alex,Smith
14,5,Travel,1,Allison,Smith
15,5,Test,2,Ben,Smith
15,5,Test,1,Allison,Smith
</code></pre>
I'm trying to get this same type of output, but with an 11th row that would be:
<pre><code>18,5,Gamers,,,
</code></pre>
That is, the group that has no members in it.
<em><strong><strong>EDIT 03 - FINAL EDIT</strong></strong></em>
I've got it working. The trick seems to be to make both of the joins into LEFT JOIN - that gives me the needed output of 11 rows, i.e. 10 rows with associated members of a group and 1 row for a group that has no members (and which has null values for the fields of userID and userName so I'll need to handle that in the PHP code that parses it... but that's trivial).
Thank you very much to all of you that contributed. I will mark as the correct answer the contribution which helped me the most to find the correct answer.",mysql
189,70201455,How to perform graph traversal along multiple paths,"<h3>Problem Introduction</h3>
I have a list of graph edges with fromNodes, toNodes, and the edge properties (edgeType and edgeLength) in a SQL table.
My goal is to find all yellow edges and then build paths through the graph consisting of all connected blue edges (starting with each yellow edge).
I implemented the following for this discussion:
<a href=""https://i.stack.imgur.com/q9BrW.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/q9BrW.png"" alt=""Example Graph"" /></a>
<strong>STEP 1</strong> So first I want to find all yellow edges, that's easy:
<pre class=""lang-sql prettyprint-override""></pre>
Now we have all of the yellow edges 1,4,6,9,15<br />
<a href=""https://i.stack.imgur.com/kr3yk.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/kr3yk.png"" alt=""Query To Find All Yellow Edges"" /></a>
<strong>STEP 2</strong>
Find all the blue edges, okay no problem
<pre class=""lang-sql prettyprint-override""><code>WITH
  YellowEdges AS
  (SELECT EdgeId, FromNodeID, ToNodeID,EdgeType,EdgeLength,array_append(GraphNetwork.EDGES,GraphNetwork.EdgeId) AS EdgePathArray
     FROM GraphNetwork
  WHERE EdgeType = 3
  ),
  BlueEdges AS 
  (SELECT *
  FROM GraphNetwork
  WHERE EdgeType = 2
  )

SELECT *
FROM BlueEdges
</code></pre>
<a href=""https://i.stack.imgur.com/njbA5.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/njbA5.png"" alt=""Blue Edges"" /></a>
<strong>STEP 3</strong> Find all blue edges that lead to yellow edges and perform a left join, adding both yellow edges and blue edges to a column of arrays called edge path array
<pre class=""lang-sql prettyprint-override""><code>WITH
  YellowEdges AS
  (SELECT EdgeId, FromNodeID, ToNodeID,EdgeType,EdgeLength,array_append(GraphNetwork.EDGES,GraphNetwork.EdgeId) AS EdgePathArray
     FROM GraphNetwork
  WHERE EdgeType = 3
  ),
  BlueEdges AS 
  (SELECT *
  FROM GraphNetwork
  WHERE EdgeType = 2
  ),
  EdgePathTable AS
  (SELECT *
  FROM (
    SELECT BlueEdges.EdgeId, BlueEdges.FromNodeID, BlueEdges.ToNodeID,BlueEdges.EdgeType,BlueEdges.EdgeLength,array_append(YellowEdges.EdgePathArray,BlueEdges.EdgeId) AS EdgePathArray
    FROM YellowEdges
    LEFT JOIN BlueEdges
    ON YellowEdges.EdgeId &lt;&gt; BlueEdges.EdgeId 
    AND YellowEdges.FromNodeID = BlueEdges.ToNodeID 
       ) AS unnamedTable
  )
  
SELECT * 
FROM EdgePathTable
</code></pre>
<a href=""https://i.stack.imgur.com/U3xrX.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/U3xrX.png"" alt=""First Iteration On Path"" /></a>
<strong>Step 4</strong> Now find all blue edges that connect to the blue edges we identified previously and add these to the path (Make sure that new edges have not been previously traversed as part of this path (to avoid circular paths)
<pre class=""lang-sql prettyprint-override""><code>WITH
  YellowEdges AS
  (SELECT EdgeId, FromNodeID, ToNodeID,EdgeType,EdgeLength,array_append(GraphNetwork.EDGES,GraphNetwork.EdgeId) AS EdgePathArray
     FROM GraphNetwork
  WHERE EdgeType = 3
  ),
  BlueEdges AS 
  (SELECT *
  FROM GraphNetwork
  WHERE EdgeType = 2
  ),
  EdgePathTable AS
  (SELECT *
  FROM (
    SELECT BlueEdges.EdgeId, BlueEdges.FromNodeID, BlueEdges.ToNodeID,BlueEdges.EdgeType,BlueEdges.EdgeLength,array_append(YellowEdges.EdgePathArray,BlueEdges.EdgeId) AS EdgePathArray
    FROM YellowEdges
    LEFT JOIN BlueEdges
    ON YellowEdges.EdgeId &lt;&gt; BlueEdges.EdgeId 
    AND YellowEdges.FromNodeID = BlueEdges.ToNodeID 
       ) AS unnamedTable
  )

SELECT *
FROM (SELECT EdgePathTable_iteration2.EdgeId, EdgePathTable_iteration2.FromNodeID, EdgePathTable_iteration2.ToNodeID,EdgePathTable_iteration2.EdgeType,EdgePathTable_iteration2.EdgeLength,array_append(EdgePathTable.EdgePathArray,EdgePathTable_iteration2.EdgeId) AS EdgePathArray
FROM EdgePathTable
LEFT JOIN BlueEdges AS EdgePathTable_iteration2
ON EdgePathTable_iteration2.EdgeId &lt;&gt; any(EdgePathTable.EdgePathArray) 
AND EdgePathTable.FromNodeID = EdgePathTable_iteration2.ToNodeID) AS EdgePathTable
</code></pre>
<a href=""https://i.stack.imgur.com/krWyg.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/krWyg.png"" alt=""Add Next Set of Blue Edges"" /></a>
<strong>STEP 5</strong> Repeat step 4 until some condition is met i(e perform x iterations, or you have reached the end of each path).
<em><strong>Okay so here is where I am stuck.</strong></em> I've looked into a few potential options, Recursive CTE, recursive function call, function call in a while loop, or maybe just repeating this query in a while loop.
I'm not sure which of these if any would allow me to do what I want:
<ol>
<li>The recursive CTE I'm not sure would work since it relies on union and it seems to not be possible to implement with left join. I did find some tree traversal examples, but in each case it was limited to starting with a single edge, I'm assuming that is a limitation of that method since union expands the number of rows not the number of columns. I need a method that allows me to traverse multiple edges like what I've started to do here. When I eventually get this working I will port this to our actual database which probably has 100,000-1,000,000 of these edges
</li>
<li>The functional call options seem tricky because it seems like you can't pass a table to a function (but you can pass a table like thing or something but still I haven't been able to figure that out)
</li>
<li>I like the idea of just repeating this query in a while loop but I haven't been able to find understandable documentation on how to do a while loop in a PostgreSQL query. I haven't been able to implement even a basic while loop in a query on SQL fiddle.
</li>
</ol>
Here's the fiddle link to the example up to step 4:
<a href=""http://sqlfiddle.com/#!17/2a341d/1"" rel=""nofollow noreferrer"">http://sqlfiddle.com/#!17/2a341d/1</a>
Or else you can find the example code below. I've been stuck on this for a bit now and would really appreciate some help.
<pre class=""lang-sql prettyprint-override""><code>CREATE TABLE GraphNetwork 
(
    EdgeId INT primary key,
    FromNodeID INT,  
    ToNodeID INT,
    EdgeType INT,
    EdgeLength INT,
    EDGES INT[]
);

INSERT INTO GraphNetwork (EdgeId, FromNodeID, ToNodeID, EdgeType, EdgeLength)
VALUES
    (1,2,1,3,10),
    (2,3,2,2,50),
    (3,4,3,2,40),
    (4,5,4,3,15),
    (5,5,16,2,60),
    (6,4,5,3,20),
    (7,3,4,2,80),
    (8,2,3,2,25),
    (9,7,6,3,5),
    (10,8,7,2,20),
    (11,9,8,2,35),
    (12,7,9,2,10),
    (13,10,9,2,10),
    (14,11,10,1,15),
    (15,13,12,3,25),
    (16,14,13,2,25),
    (17,15,14,1,30)
;
</code></pre>
<pre class=""lang-sql prettyprint-override""><code>WITH YellowEdges AS
(
    SELECT 
        EdgeId, FromNodeID, ToNodeID, EdgeType, EdgeLength,
        array_append(GraphNetwork.EDGES, GraphNetwork.EdgeId) AS EdgePathArray
    FROM 
        GraphNetwork
    WHERE 
        EdgeType = 3
),
BlueEdges AS 
(
    SELECT *
    FROM GraphNetwork
    WHERE EdgeType = 2
),
EdgePathTable AS
( 
    SELECT *
    FROM 
        (SELECT 
             BlueEdges.EdgeId, BlueEdges.FromNodeID, BlueEdges.ToNodeID,
             BlueEdges.EdgeType, BlueEdges.EdgeLength,
             array_append(YellowEdges.EdgePathArray, BlueEdges.EdgeId) AS EdgePathArray
         FROM 
             YellowEdges
         LEFT JOIN 
             BlueEdges ON YellowEdges.EdgeId &lt;&gt; BlueEdges.EdgeId 
                       AND YellowEdges.FromNodeID = BlueEdges.ToNodeID 
        ) AS unnamedTable
)
SELECT *
FROM 
    (SELECT 
         EdgePathTable_iteration2.EdgeId, 
         EdgePathTable_iteration2.FromNodeID, 
         EdgePathTable_iteration2.ToNodeID,
         EdgePathTable_iteration2.EdgeType,
         EdgePathTable_iteration2.EdgeLength,
         array_append(EdgePathTable.EdgePathArray, EdgePathTable_iteration2.EdgeId) AS EdgePathArray
     FROM 
         EdgePathTable
     LEFT JOIN 
         BlueEdges AS EdgePathTable_iteration2 ON EdgePathTable_iteration2.EdgeId &lt;&gt; ANY(EdgePathTable.EdgePathArray) 

                                               AND EdgePathTable.FromNodeID = EdgePathTable_iteration2.ToNodeID) AS EdgePathTable
</code></pre
Now we have all of the yellow edges 1,4,6,9,15<br />
<a href=""https://i.stack.imgur.com/kr3yk.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/kr3yk.png"" alt=""Query To Find All Yellow Edges"" /></a>
<strong>STEP 2</strong>
Find all the blue edges, okay no problem
<pre class=""lang-sql prettyprint-override""><code>WITH
  YellowEdges AS
  (SELECT EdgeId, FromNodeID, ToNodeID,EdgeType,EdgeLength,array_append(GraphNetwork.EDGES,GraphNetwork.EdgeId) AS EdgePathArray
     FROM GraphNetwork
  WHERE EdgeType = 3
  ),
  BlueEdges AS 
  (SELECT *
  FROM GraphNetwork
  WHERE EdgeType = 2
  )

SELECT *
FROM BlueEdges
</code></pre>
<a href=""https://i.stack.imgur.com/njbA5.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/njbA5.png"" alt=""Blue Edges"" /></a>
<strong>STEP 3</strong> Find all blue edges that lead to yellow edges and perform a left join, adding both yellow edges and blue edges to a column of arrays called edge path array
<pre class=""lang-sql prettyprint-override""><code>WITH
  YellowEdges AS
  (SELECT EdgeId, FromNodeID, ToNodeID,EdgeType,EdgeLength,array_append(GraphNetwork.EDGES,GraphNetwork.EdgeId) AS EdgePathArray
     FROM GraphNetwork
  WHERE EdgeType = 3
  ),
  BlueEdges AS 
  (SELECT *
  FROM GraphNetwork
  WHERE EdgeType = 2
  ),
  EdgePathTable AS
  (SELECT *
  FROM (
    SELECT BlueEdges.EdgeId, BlueEdges.FromNodeID, BlueEdges.ToNodeID,BlueEdges.EdgeType,BlueEdges.EdgeLength,array_append(YellowEdges.EdgePathArray,BlueEdges.EdgeId) AS EdgePathArray
    FROM YellowEdges
    LEFT JOIN BlueEdges
    ON YellowEdges.EdgeId &lt;&gt; BlueEdges.EdgeId 
    AND YellowEdges.FromNodeID = BlueEdges.ToNodeID 
       ) AS unnamedTable
  )
  
SELECT * 
FROM EdgePathTable
</code></pre>
<a href=""https://i.stack.imgur.com/U3xrX.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/U3xrX.png"" alt=""First Iteration On Path"" /></a>
<strong>Step 4</strong> Now find all blue edges that connect to the blue edges we identified previously and add these to the path (Make sure that new edges have not been previously traversed as part of this path (to avoid circular paths)
<pre class=""lang-sql prettyprint-override""><code>WITH
  YellowEdges AS
  (SELECT EdgeId, FromNodeID, ToNodeID,EdgeType,EdgeLength,array_append(GraphNetwork.EDGES,GraphNetwork.EdgeId) AS EdgePathArray
     FROM GraphNetwork
  WHERE EdgeType = 3
  ),
  BlueEdges AS 
  (SELECT *
  FROM GraphNetwork
  WHERE EdgeType = 2
  ),
  EdgePathTable AS
  (SELECT *
  FROM (
    SELECT BlueEdges.EdgeId, BlueEdges.FromNodeID, BlueEdges.ToNodeID,BlueEdges.EdgeType,BlueEdges.EdgeLength,array_append(YellowEdges.EdgePathArray,BlueEdges.EdgeId) AS EdgePathArray
    FROM YellowEdges
    LEFT JOIN BlueEdges
    ON YellowEdges.EdgeId &lt;&gt; BlueEdges.EdgeId 
    AND YellowEdges.FromNodeID = BlueEdges.ToNodeID 
       ) AS unnamedTable
  )

SELECT *
FROM (SELECT EdgePathTable_iteration2.EdgeId, EdgePathTable_iteration2.FromNodeID, EdgePathTable_iteration2.ToNodeID,EdgePathTable_iteration2.EdgeType,EdgePathTable_iteration2.EdgeLength,array_append(EdgePathTable.EdgePathArray,EdgePathTable_iteration2.EdgeId) AS EdgePathArray
FROM EdgePathTable
LEFT JOIN BlueEdges AS EdgePathTable_iteration2
ON EdgePathTable_iteration2.EdgeId &lt;&gt; any(EdgePathTable.EdgePathArray) 
AND EdgePathTable.FromNodeID = EdgePathTable_iteration2.ToNodeID) AS EdgePathTable
</code></pre>
<a href=""https://i.stack.imgur.com/krWyg.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/krWyg.png"" alt=""Add Next Set of Blue Edges"" /></a>
<strong>STEP 5</strong> Repeat step 4 until some condition is met i(e perform x iterations, or you have reached the end of each path).
<em><strong>Okay so here is where I am stuck.</strong></em> I've looked into a few potential options, Recursive CTE, recursive function call, function call in a while loop, or maybe just repeating this query in a while loop.
I'm not sure which of these if any would allow me to do what I want:
<ol>
<li>The recursive CTE I'm not sure would work since it relies on union and it seems to not be possible to implement with left join. I did find some tree traversal examples, but in each case it was limited to starting with a single edge, I'm assuming that is a limitation of that method since union expands the number of rows not the number of columns. I need a method that allows me to traverse multiple edges like what I've started to do here. When I eventually get this working I will port this to our actual database which probably has 100,000-1,000,000 of these edges
</li>
<li>The functional call options seem tricky because it seems like you can't pass a table to a function (but you can pass a table like thing or something but still I haven't been able to figure that out)
</li>
<li>I like the idea of just repeating this query in a while loop but I haven't been able to find understandable documentation on how to do a while loop in a PostgreSQL query. I haven't been able to implement even a basic while loop in a query on SQL fiddle.
</li>
</ol>
Here's the fiddle link to the example up to step 4:
<a href=""http://sqlfiddle.com/#!17/2a341d/1"" rel=""nofollow noreferrer"">http://sqlfiddle.com/#!17/2a341d/1</a>
Or else you can find the example code below. I've been stuck on this for a bit now and would really appreciate some help.
<pre class=""lang-sql prettyprint-override""><code>CREATE TABLE GraphNetwork 
(
    EdgeId INT primary key,
    FromNodeID INT,  
    ToNodeID INT,
    EdgeType INT,
    EdgeLength INT,
    EDGES INT[]
);

INSERT INTO GraphNetwork (EdgeId, FromNodeID, ToNodeID, EdgeType, EdgeLength)
VALUES
    (1,2,1,3,10),
    (2,3,2,2,50),
    (3,4,3,2,40),
    (4,5,4,3,15),
    (5,5,16,2,60),
    (6,4,5,3,20),
    (7,3,4,2,80),
    (8,2,3,2,25),
    (9,7,6,3,5),
    (10,8,7,2,20),
    (11,9,8,2,35),
    (12,7,9,2,10),
    (13,10,9,2,10),
    (14,11,10,1,15),
    (15,13,12,3,25),
    (16,14,13,2,25),
    (17,15,14,1,30)
;
</code></pre>
<pre class=""lang-sql prettyprint-override""><code>WITH YellowEdges AS
(
    SELECT 
        EdgeId, FromNodeID, ToNodeID, EdgeType, EdgeLength,
        array_append(GraphNetwork.EDGES, GraphNetwork.EdgeId) AS EdgePathArray
    FROM 
        GraphNetwork
    WHERE 
        EdgeType = 3
),
BlueEdges AS 
(
    SELECT *
    FROM GraphNetwork
    WHERE EdgeType = 2
),
EdgePathTable AS
( 
    SELECT *
    FROM 
        (SELECT 
             BlueEdges.EdgeId, BlueEdges.FromNodeID, BlueEdges.ToNodeID,
             BlueEdges.EdgeType, BlueEdges.EdgeLength,
             array_append(YellowEdges.EdgePathArray, BlueEdges.EdgeId) AS EdgePathArray
         FROM 
             YellowEdges
         LEFT JOIN 
             BlueEdges ON YellowEdges.EdgeId &lt;&gt; BlueEdges.EdgeId 
                       AND YellowEdges.FromNodeID = BlueEdges.ToNodeID 
        ) AS unnamedTable
)
SELECT *
FROM 
    (SELECT 
         EdgePathTable_iteration2.EdgeId, 
         EdgePathTable_iteration2.FromNodeID, 
         EdgePathTable_iteration2.ToNodeID,
         EdgePathTable_iteration2.EdgeType,
         EdgePathTable_iteration2.EdgeLength,
         array_append(EdgePathTable.EdgePathArray, EdgePathTable_iteration2.EdgeId) AS EdgePathArray
     FROM 
         EdgePathTable
     LEFT JOIN 
         BlueEdges AS EdgePathTable_iteration2 ON EdgePathTable_iteration2.EdgeId &lt;&gt; ANY(EdgePathTable.EdgePathArray) 

                                               AND EdgePathTable.FromNodeID = EdgePathTable_iteration2.ToNodeID) AS EdgePathTable
</code></pre>",sql|postgresql
190,70230858,I have issue with CREATE TABLE and then INSERT you table,"I have issue width CREATE TABLE and then INSERT you table.
This is what I want to do. CREATE TABLE LIKE and then INSERT SELECT * FROM.
I be creating multiple tables at the same time. I will be using a table like sample table to create the tables. Then editing the new tables in the future.
This Sample table.
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th style=""text-align: left;"">id</th>
<th style=""text-align: center;"">old_data</th>
<th style=""text-align: right;"">new_data</th>
</tr>
</thead>
<tbody>
<tr>
<td style=""text-align: left;"">1</td>
<td style=""text-align: center;"">pool_00</td>
<td style=""text-align: right;"">pool_01</td>
</tr>
<tr>
<td style=""text-align: left;"">2</td>
<td style=""text-align: center;"">pool_00</td>
<td style=""text-align: right;"">pool_02</td>
</tr>
</tbody>
</table>
</div>
This is MySQL code Im having issues with.

This is the error I get.
Error
SQL query:
CREATE TABLE <code>new_data</code> LIKE <code>old_data</code>
MySQL said: Documentation
#1146 - Table 'oerpn_survivor_us.old_data' doesn't exist.
<strong>I run this MySQL code and it works.</strong>
<pre><code>CREATE TABLE pool_01 LIKE pool_00; 
INSERT pool_01 SELECT * FROM pool_00;

CREATE TABLE pool_02 LIKE pool_00; 
INSERT pool_02 SELECT * FROM pool_00;
</code></pre>
Thank you for your help.",mysql
191,70120416,enable replication in another aws region using terraform for postgresql db,"currently we have PostgreSQL and we need to enable the setting of  &quot;enable replication in another AWS region&quot; in rds which means RDS cross region backup not a read replica.
Currently in terraform rds module there no argument to enable this setting.
could someone help on how to enable this setting.
Thanks In advancetly we have PostgreSQL and we need to enable the setting of  &quot;enable replication in another AWS region&quot; in rds which means RDS cross region backup not a read replica.
Currently in terraform rds module there no argument to enable this setting.
could someone help on how to enable this setting.
Thanks In advancently we have PostgreSQL and we need to enable the setting of  &quot;enable replication in another AWS region&quot; in rds which means RDS cross region backup not a read replica.
Currently in terraform rds module there no argument to enable this setting.
could someone help on how to enable this setting.
Thanks In advancetly we have PostgreSQL and we need to enable the setting of  &quot;enable replication in another AWS region&quot; in rds which means RDS cross region backup not a read replica.
Currently in terraform rds module there no argument to enable this setting.
could someone help on how to enable this setting.
Thanks In advance.",postgresql
192,70298854,MYSQL create unique id according to another column (which is a foreign key),"In a DB there's a table called  which looks like this:

And then another table called <code>words</code> which should look like this
<pre><code>Deck ID | Word ID | Text
-------------------------------
1       | 1       | Cat
2       | 1       | Elephant
1       | 2       | Dog
1       | 3       | Elephant
3       | 1       | Shark
</code></pre>
So basically this table should have a Foreign Key which points to the deck and then a key which is set to auto-increment according to the foreign key. Also, note that the ID of this table would be the combination of <code>Deck Id</code> and <code>Word Id</code>. Is this possible in MYSQL 8?
Basically what I have is this:
<pre><code>CREATE TABLE my_db.words (
    deck_id INT,
    text VARCHAR(100),
    FOREIGN KEY(deck_id) REFERENCES decks(id)
);
</code></pre>
But no idea how to create this auto-increment field.
Not sure if it's important but the text column should have no effect whatsoever in the result of this generated ID.",mysql
193,70108680,how to use MySQL key_len in explain statement to defined whether a sql is fast or not?,"<blockquote>
The key_len column indicates the length of the key that MySQL decided to use.
</blockquote>
MySQL's docs mantion this. but i don't figure out how to use this statement to defined a sql is fast or not. the smaller key_len, the faster sql it is(please forgive my english grammarT_T)? and how it works?
expect for your answerquote>
The key_len column indicates the length of the key that MySQL decided to use.
</blockquote>
MySQL's docs mantion this. but i don't figure out how to use this statement to defined a sql is fast or not. the smaller key_len, the faster sql it is(please forgive my english grammarT_T)? and how it works?
expect for your answerkquote>
The key_len column indicates the length of the key that MySQL decided to use.
</blockquote>
MySQL's docs mantion this. but i don't figure out how to use this statement to defined a sql is fast or not. the smaller key_len, the faster sql it is(please forgive my english grammarT_T)? and how it works?
expect for your answerquote>
The key_len column indicates the length of the key that MySQL decided to use.
</blockquote>
MySQL's docs mantion this. but i don't figure out how to use this statement to defined a sql is fast or not. the smaller key_len, the faster sql it is(please forgive my english grammarT_T)? and how it works?
expect for your answer.",mysql
194,70115341,Number of Accounts That Did Not Stream (MYSQL via Leetcode),"Question

In table Subscriptions, account_id is the primary key column for this table.
Each row of this table indicates the start and end dates of an account's subscription.
Note that always start_date &lt; end_date.
<pre><code>+-------------+------+
| Column Name | Type |
+-------------+------+
| session_id  | int  |
| account_id  | int  |
| stream_date | date |
+-------------+------+
</code></pre>
In table streams, session_id is the primary key column for this table.
account_id is a foreign key from the Subscriptions table.
Each row of this table contains information about the account and the date associated with a stream session.
Write an SQL query to report the number of accounts that bought a subscription in 2021 but did not have any stream session.
Can someone please help me to identify what is wrong with my following code? I don't wish to use year = 2021 but want to use exact dates. Please help.
<pre><code>with temp1 as
(
select account_id
from Subscriptions sb
where start_date &gt;= 2021-01-01 and end_date &lt;= 2021-12-31
and account_id not in (select distinct(account_id)
                              from streams
                              where stream_date &gt;= 2021-01-01 and stream_date &lt;= 2021-12-31 ))
select count(account_id) as accounts_count
from temp1;
</code></pre>",mysql
195,70090246,Get the most recent record by date in mysql,"I have a table in which I store a code, a price, and a date.
Code is type varchar,
price is type float (yes, I know it is better to store it as Double),
date is type date

so,
<pre><code>insert into prices (code,price,date) values
('ADV000001','2.1','2021-02-03'),
('ADV000001','0.3','2021-11-22'),
('ADV000001','20.0','2021-11-23'),
('ADV000001','31.4','2017-01-11'),
('ADV000001','99.99','2012-12-09'),
('ADV000123','31.4','2017-04-21'),
('ADV000123','0.4','2016-12-02'),
('ADV000123','31','2012-11-06'),
('ADV000991','3','2000-01-15'),
('ADV000991','1.4','2004-01-13'),
('ADV000991','0.9','2011-01-30'),
('ADV000991','12','2017-01-23'),
('ADV000991','854.82','2004-04-30'),
('ADV000991','231.11','2009-04-15'),
('ADV000991','242.66','2021-04-09'),
('ADV000912','111.1','2021-01-11'),
('ADV000912','1.4','2020-01-11'),
('ADV031242','75.48','2019-03-11'),
('ADV031242','231.42','2019-07-11'),
('ADV011912','1324.11','1994-11-11'),
('ADV000112','685.04','1993-06-11'),
('ADV000777','757.54','2001-06-11'),
('ADV000777','221.74','2002-09-11'),
('ADV000777','1352.12','2012-04-11'),
('ADV000215','856.81','2011-12-11'),
('ADV000202','511.99','2011-11-11')
</code></pre>
I try to make this select, but it doesn't work very well, it brings the correct date, however it brings me any price, not the correct one!!!!
<pre><code>SELECT 
code, price, date 
FROM 
prices 
WHERE 
date = (SELECT MAX(date) FROM prices) 
</code></pre>
the result:
<pre><code>code       price    date
ADV000001   0.3    2021-11-23
</code></pre>
Ideally, it should show each code with its respective prices and the most recent date.
<pre><code>code           price    date
ADV000001      20       2021-11-23
ADV000123      31.4     2017-04-21
ADV000991    242.66     2021-04-09
...          ...          ... 
</code></pre>
Any ideas? maybe a sub-consult? a group by sentence not work!
The MYSQL MAX() function doesn't seem to work, it doesn't group by codes and only brings me one record.
Here is the link where you can quickly ask your queries, I would appreciate it.
<a href=""https://dbfiddle.uk/?rdbms=mysql_8.0&amp;fiddle=e1a1805934099cfbaed5b421e7021ad7"" rel=""nofollow noreferrer"">dbfiddle.uk</a>",mysql
196,70144182,Return nodes with only one specified relationship,"i have a graph like this:
<a href=""https://i.stack.imgur.com/YkZLK.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/YkZLK.png"" alt=""enter image description here"" /></a>
What i wanna do, is to return actors, which only played in one specified film.
So for example if I  pass an Iron Man 2 id, it should  return only Robert Downey. Scarlett Johansson is skipped because she has played in 3 films, and also she has a &quot;IS_FRIEND_WITH&quot; relationship.
This code which i wrote, return all the actors that played in film of 

If Iron Man 2 would be of Id = 11 it would return Scarlett and Robert Downey. I just want it to return only Robert Downey.",neo4j|cypher
197,70279005,Get bytes queried for entire BigQuery project history,"In our <strong>Project History</strong> tab, we have hundreds of queries from our daily analytics pipelines. I am working on a review of our BigQuery billing and analyzing the cost of queries here seems like the place to start.
<a href=""https://i.stack.imgur.com/mvBkO.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/mvBkO.png"" alt=""enter image description here"" /></a>
However, there is no column for bytes processed or for cost. We can click the ... to show job details with billing, but this is not efficient or useful for assessing costs of hundreds of queries.
The accepted answer <a href=""https://stackoverflow.com/questions/60570745/is-it-possible-to-retrieve-full-query-history-and-correlate-its-cost-in-google-b"">Is it possible to retrieve full query history and correlate its cost in google bigquery?</a>, which is:

This is not so helpful. I've run this query for our project and for some reason it only shows a handful of queries for the last month, despite our pipelines running hundreds of queries daily. I've even removed the <code>project_id</code> and <code>email</code> filters to ensure that I was not filtering away results, and still only a handful of queries...
How can I get the cost / bytes queried for all queries in the Project History tab? Any why might the majority of our queries be missing from the <code>JOB_BY_PROJECT</code> query?",google-bigquery
198,70290076,Select all values for given key from JSON array column,"I have a  array column, <code>foo</code>:

I would like to select into an array all <code>a</code> values for each JSON element in the column. For instance:
<pre><code>['my_key_type']
['my_other_key_type']
[]
['my_key_type','my_other_key_type']
</code></pre>
I was initially pursuing <code>json_object_keys</code>, but that doesn't seem to accomplish what I'm actually after, and it doesn't work on an array type. I have not found a function in <a href=""https://www.postgresql.org/docs/9.5/functions-json.html"" rel=""nofollow noreferrer"">the documentation</a> that seems to accomplish what I'm after.",postgresql
199,70179189,postgres is not in the sudoers file. This incident will be reported,"If the error occurs when trying to create PostgreSql Role This error occurs because you are inside the postgresql.
You need to change to root user, for that you need to type in the terminal,
<strong>su root</strong>
Next run the command,
<strong>sudo -u postgres createuser --interactive</strong error occurs when trying to create PostgreSql Role This error occurs because you are inside the postgresql.
You need to change to root user, for that you need to type in the terminal,
<strong>su root</strong>
Next run the command,
<strong>sudo -u postgres createuser --interactive</stronge error occurs when trying to create PostgreSql Role This error occurs because you are inside the postgresql.
You need to change to root user, for that you need to type in the terminal,
<strong>su root</strong>
Next run the command,
<strong>sudo -u postgres createuser --interactive</strong error occurs when trying to create PostgreSql Role This error occurs because you are inside the postgresql.
You need to change to root user, for that you need to type in the terminal,
<strong>su root</strong>
Next run the command,
<strong>sudo -u postgres createuser --interactive</strong>",postgresql
200,70375795,Postgres conversion rate,"I want to get conversion rate in postgresql. My data look like below:
input:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>id</th>
<th>count</th>
<th>type</th>
<th>converted</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>30</td>
<td>A</td>
<td>true</td>
</tr>
<tr>
<td>2</td>
<td>20</td>
<td>A</td>
<td>false</td>
</tr>
<tr>
<td>3</td>
<td>13</td>
<td>B</td>
<td>false</td>
</tr>
<tr>
<td>4</td>
<td>7</td>
<td>B</td>
<td>true</td>
</tr>
</tbody>
</table>
</div>
As first step, I would like to get a sum of counts for each type with associated count field. I tried with different variations of  but couldn't get it. This middle step would look like:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>id</th>
<th>count</th>
<th>type</th>
<th>converted</th>
<th>sum</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>30</td>
<td>A</td>
<td>true</td>
<td>50</td>
</tr>
<tr>
<td>2</td>
<td>7</td>
<td>B</td>
<td>true</td>
<td>20</td>
</tr>
</tbody>
</table>
</div>
I expect the following output:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>id</th>
<th>conversion_rate</th>
<th>type</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>60%</td>
<td>A</td>
</tr>
<tr>
<td>2</td>
<td>35%</td>
<td>B</td>
</tr>
</tbody>
</table>
</div>
but my problem is to write proper SQL to get to the middle stept to get conversion rate in postgresql. My data look like below:
input:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>id</th>
<th>count</th>
<th>type</th>
<th>converted</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>30</td>
<td>A</td>
<td>true</td>
</tr>
<tr>
<td>2</td>
<td>20</td>
<td>A</td>
<td>false</td>
</tr>
<tr>
<td>3</td>
<td>13</td>
<td>B</td>
<td>false</td>
</tr>
<tr>
<td>4</td>
<td>7</td>
<td>B</td>
<td>true</td>
</tr>
</tbody>
</table>
</div>
As first step, I would like to get a sum of counts for each type with associated count field. I tried with different variations of  but couldn't get it. This middle step would look like:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>id</th>
<th>count</th>
<th>type</th>
<th>converted</th>
<th>sum</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>30</td>
<td>A</td>
<td>true</td>
<td>50</td>
</tr>
<tr>
<td>2</td>
<td>7</td>
<td>B</td>
<td>true</td>
<td>20</td>
</tr>
</tbody>
</table>
</div>
I expect the following output:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>id</th>
<th>conversion_rate</th>
<th>type</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>60%</td>
<td>A</td>
</tr>
<tr>
<td>2</td>
<td>35%</td>
<td>B</td>
</tr>
</tbody>
</table>
</div>
but my problem is to write proper SQL to get to the middle step.",sql|postgresql
201,70304541,How to compare same period of different date ranges in columns in BigQuery standard SQL,"i have a hard time figuring out how to compare the same period (e.g. iso week 48) from different years for a certain metric in different columns. I am new to SQL and haven't fully understand how PARTITION BY works but guess that i'll need it for my desired output.
How can i sum the data from column &quot;metric&quot; and compare same periods of different date ranges (e.g. YEAR) in a table?
<strong>current table</strong>

<strong>desired output</strong>
<pre><code>iso_week          metric_thisYear        metric_prevYear       metric_prev2Year
48                     1850                   1750                   1520
...
</code></pre>",google-bigquery
202,70336666,Sum of cummulative difference within group in postgres,"I have a table that looks like the one below. I will like to find the sum of the cumulative difference between the target value daily actual value.

This is similar to this <a href=""https://stackoverflow.com/questions/22841206/calculating-cumulative-sum-in-postgresql"">Calculating Cumulative Sum in PostgreSQL</a> but not exactly the same.",sql|postgresql
203,70302004,How to find inactive users,Is it possible to find inactive PostgreSQL users? Does it have any activity log or something like this? My main goal is to find users that have not logged for a long timepossible to find inactive PostgreSQL users? Does it have any activity log or something like this? My main goal is to find users that have not logged for a long time possible to find inactive PostgreSQL users? Does it have any activity log or something like this? My main goal is to find users that have not logged for a long timepossible to find inactive PostgreSQL users? Does it have any activity log or something like this? My main goal is to find users that have not logged for a long time?,postgresql
204,70262470,All unique combinations of a column based on another one,"I have a table with the following columns:

I want to get all the combinations for each value of col2 with everything else but itself group by col1, i.e. achieve the following output:
<pre><code>col1 col2 col2_combo
1    1    2
3    3    2
3    3    1
3    3    4
3    2    1
3    2    4
3    1    4
</code></pre>
I have tried using self join of the table but I can't get a unique result, i.e. a single line for every two values combined.",sql|postgresql
205,70238420,Update sum with trigger,"I want to sum basket item price values and insert it into a payment as total price. I am trying to use a trigger for this but I am getting error near . Error msg: Expected expression, got 'select'. How do I deal with this?
<pre class=""lang-sql prettyprint-override""><code>CREATE FUNCTION make_sum() RETURNS TRIGGER
AS $$
    BEGIN
        UPDATE payment
            SET total_price = select sum(price) from basket where basket_id = new.basket_id;
        RETURN NULL;
END;$$ LANGUAGE plpgsql;
CREATE TRIGGER make_sum AFTER INSERT ON basket FOR EACH ROW EXECUTE make_sum()
</code></pre",sql|postgresql
206,70092638,In which table can I find the parameters of an uncommitted transaction in postgres,"If I start a transaction in a Postgres database
I can find it in the table  pg_stat_activity.
To retrieve the uncommitted transaction I use the following query:

This gives something like this:
<pre><code>datid            | 16397
datname          | msmith
pid              | 39437
leader_pid       | 
usesysid         | 16396
usename          | msmith
application_name | PostgreSQL JDBC Driver
client_addr      | 127.0.0.1
client_hostname  | 
client_port      | 58411
backend_start    | 2021-11-24 09:07:06.571559+01
xact_start       | 2021-11-24 09:07:22.584942+01
query_start      | 2021-11-24 09:07:31.82002+01
state_change     | 2021-11-24 09:07:31.820198+01
wait_event_type  | Client
wait_event       | ClientRead
state            | idle in transaction
backend_xid      | 3446
backend_xmin     | 
query            | update students set address_id=$1, age=$2, first_name=$3, last_name=$4 where student_id=$5
backend_type     | client backend
</code></pre>
In which table can I find the parameters for the prepared statement (update students set address_id=$1, age=$2, first_name=$3, last_name=$4 where student_id=$5)?",postgresql
207,70257757,Fill in null values using previous value using FIRST_VALUE or LAST_VALUE,"I am having a problem with filling in blank values using previous not null values.
I have tried using the FIRST_VALUE and LAST_VALUE formula, but I dont quite manage to get the desired results.
Here is an query with example data and what I have been trying to do.

And this produces this result
<a href=""https://i.stack.imgur.com/wBZt8.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/wBZt8.png"" alt=""enter image description here"" /></a>
And this is what I would like to get
<a href=""https://i.stack.imgur.com/chhHI.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/chhHI.png"" alt=""enter image description here"" /></a>
The problem is that I cant seem to find a way where it will fill in just the blanks with the previous or first value, and not overwrite every field.",google-bigquery
208,70149803,MySQL - Filter records using SUM,"I've a student table like below -

I want to find the student whose <strong>sum of marks</strong> is greater than 500, but I am not able to filter the records, however I develop below query.
<pre><code>mysql&gt; select * from student;
+------------+---------------+
| student_id | student_marks |
+------------+---------------+
|          1 |           220 |
|          2 |           100 |
|          3 |           280 |
|          2 |           430 |
|          1 |           300 |
+------------+---------------+
5 rows in set (0.00 sec)

mysql&gt; select student_id, sum(student_marks) from student group by student_id;
+------------+--------------------+
| student_id | sum(student_marks) |
+------------+--------------------+
|          1 |                520 |
|          2 |                530 |
|          3 |                280 |
+------------+--------------------+
3 rows in set (0.00 sec)
</code></pre>",mysql
209,70194526,"springboot,Can't connect to my database java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: YES)","<pre class=""lang-java prettyprint-override""></pre>
my test
<pre class=""lang-java prettyprint-override""><code>@SpringBootTest
class Springboot04DataApplicationTests {

    @Autowired
    DataSource dataSource;
    @Test
    void contextLoads() throws SQLException {
        System.out.println(dataSource.getClass());

        Connection connection = dataSource.getConnection();
        System.out.println(connection);

    }

}
</code></pre>
here is my application.yml
<pre class=""lang-yaml prettyprint-override""><code>spring:
  datasource:
    username: root
    password: 011575
    url: jdbc:mysql://localhost:3306/mybatis?useSSL=false&amp;useUnicode=true&amp;characterEncoding=UTF-8&amp;allowPublicKeyRetrieval=true
    driver-class-name: com.mysql.cj.jdbc.Driver

</code></pre>
I confirmed that my username is root and my pwd is 011575.And also open the mysql service, please help me!
my test
<pre class=""lang-java prettyprint-override""><code>@SpringBootTest
class Springboot04DataApplicationTests {

    @Autowired
    DataSource dataSource;
    @Test
    void contextLoads() throws SQLException {
        System.out.println(dataSource.getClass());

        Connection connection = dataSource.getConnection();
        System.out.println(connection);

    }

}
</code></pre>
here is my application.yml
<pre class=""lang-yaml prettyprint-override""><code>spring:
  datasource:
    username: root
    password: 011575
    url: jdbc:mysql://localhost:3306/mybatis?useSSL=false&amp;useUnicode=true&amp;characterEncoding=UTF-8&amp;allowPublicKeyRetrieval=true
    driver-class-name: com.mysql.cj.jdbc.Driver

</code></pre>
I confirmed that my username is root and my pwd is 011575.And also open the mysql service, please help me!!",mysql
210,70350559,Group By weeks between two dates,"I have a table of  and it has a <code>created_at</code> field that stores the current date it's something like

I have a range of dates that is <code>2021-11-01</code> to <code>2021-11-30</code> and I'd like to calculate the count of logins on week bases within that date range.
I have tried a lot in mysql but no luck, I can easily write multiple queries to achieve my result but was thinking if there is a way to do this in just one query.
Expected result:
<pre><code>count, date
3, 2021-11-01
4, 2021-11-08
46, 2021-11-15
</code></pre>
I wrote a simple query but couldn't get how would I iterate to get weeks
<pre><code>SELECT count(id), CONCAT('Week ',WEEK('2021-11-30')) week
FROM logins
</code></pre>",mysql
211,70315455,Count sum with trigger for delete/update/insert,"I want to create trigger that updates price in a row. However this works fine whenever I am adding an amount, but it doesn't work whenever I am deleting the item or updating with smaller value. How can I make this trigger to work for all the 3 needs? I don't want to write multiple of triggers to handle this.
<pre class=""lang-sql prettyprint-override""></pre",sql|postgresql
212,70083613,dynamic dblink in postgresql,"i have this piece of code :

But when i run it, it says that my 'toto' connection does not exists when trying to disconnect it.
I've tried multiple things but nothing worked. I think there is something wrong with my dblink_connect, somehow it does not create the connection.
thanks for your help.",postgresql
213,70282803,How return a value with mysql query depending on condition?,"I have the next mysql table:

Id like a sql to return '1':
<ol>
<li>If I found at least one &quot;med_id&quot; having a &quot;conv_id&quot;.</li>
<li>If the table is empty</li>
</ol>
otherwise return '0'
I have tried something as:
<pre><code>select IFNULL( (select '1' from cl_convenios_do_medico CC where 
    CC.med_id=&lt;my_med_id&gt; and CC.conv_id=&lt;my_conv_id&gt; ) 
    and  exists(select '1' from cl_convenios_do_medico CC where CC.med_id=&lt;my_med_id&gt; limit 1),'0') as result
</code></pre>
If seems to work when the table is not empty, but fail if table is empty.
Maybe someone has a simpler solution.",mysql
214,70365702,How to map column name into query response if there is data present in column?,"So lets say I have table like this with unknown number of columns. I would like to know if there is a way to map  struct properties into columns.

My desired output from this table would be like this
<pre><code>ID | env 
1  | foo 
2  | foo 
2  | bar 
3  | xyz
</code></pre>",google-bigquery
215,70325309,grouping by parameters in postgres sql function and returning column name identical to the parameter,"I have a query

which I want to wrap in a function where usertype is a parameter
<pre><code>create or replace function myfun(facet text)
RETURNS TABLE(total_accounts bigint, facet text)

LANGUAGE plpgsql
AS $$
    select count(distinct id), facet from mytable group by facet;
$$;
select * from myfun('usertype');
</code></pre>
so that output column name also depends on the parameter I send.
But it shows an error 'parameter facet is used more than once'.
how do I make the output identical to the original query when I pass 'usertype' as a parameter?",sql|postgresql
216,70235449,"Using WITH Clause and ""RETURN QUERY SELECT"" Together","I have a problem using WITH clause and &quot;RETURN QUERY SELECT&quot; together.
I tried the following &quot;simplified&quot; function, but got an error.  How can I return result-set from WITH clause statement?
",postgresql
217,70280580,SQL query to get values by the calendar month,"I have the following schema:

and i want to get a return object that has the industry id along with the number of items but based on the calendar month for the previous two months, not including the current. So i want the number of items in October and the number in November.
What i have, that is not working
<pre><code>SELECT industry_id,
    sum(
        CASE
            WHEN start_date &gt;= (date_trunc('month', start_date) - interval '1 month')::date AND start_date &lt; (date_trunc('month', start_date) - interval '2 month')::date THEN 1
            ELSE 0
        END) AS last_month,
    sum(
        CASE
            WHEN start_date &gt;= (date_trunc('month', start_date) - interval '2 month')::date AND start_date &lt;= (date_trunc('month', start_date) - interval '3 month')::date THEN 1
            ELSE 0
        END) AS prev_month
   FROM phone_clicks
   Group by industry_id
</code></pre>
What i am currently getting from the above :
<pre><code>industry_id last_month  prev_month
     4          0           0
     1          0           0
     3          0           0
     2          0           0
</code></pre>
What i am expecting:
<pre><code>industry_id last_month  prev_month
     4          1           0
     1          1           2
     3          1           1
     2          1           1
</code></pre>
So industry 1, it has two items with start_date in October and 1 in November.",sql|postgresql
218,70356737,MySQL JSON_INSERT() of an Array into Object creates Escape characters,"MySQL v8.
The line of code below:

Will insert a JSON array into a JSON object. However, it is also introducing escape characters when doing so.

I have read through this documentation several times and I cannot see what/where I am going wrong:
<a href=""https://dev.mysql.com/doc/refman/5.7/en/json-modification-functions.html#function_json-set"" rel=""nofollow noreferrer"">https://dev.mysql.com/doc/refman/5.7/en/json-modification-functions.html#function_json-set</a>
<a href=""https://dev.mysql.com/doc/refman/8.0/en/json.html#json-normalization"" rel=""nofollow noreferrer"">https://dev.mysql.com/doc/refman/8.0/en/json.html#json-normalization</a>",mysql
219,70325974,BigQuery streaming insert with a function applied to another column,"When using client libraries I can pass a list of objects to be inserted into BigQuery, like this one in Go <a href=""https://cloud.google.com/bigquery/docs/samples/bigquery-table-insert-rows#bigquery_table_insert_rows-go"" rel=""nofollow noreferrer"">https://cloud.google.com/bigquery/docs/samples/bigquery-table-insert-rows#bigquery_table_insert_rows-go</a>
But what if I want to do something like this:
<pre class=""lang-sql prettyprint-override""></pre>
i.e. providing only values &quot;a&quot;, &quot;bcd&quot; insert into both columns where one is just a function of another.
How to do this using streaming insert in Go library, for example? Like this pseudo-code:
<pre class=""lang-golang prettyprint-override""><code>...
inserter := client.Dataset(datasetID).Table(tableID).Inserter()
items := []*Item{
        // Item implements the ValueSaver interface.
        {Name: &quot;Phred Phlyntstone&quot;, Age: 32, SomeColumn: 'CALL_ME(&quot;Phred Phlyntstone&quot;)'},
        {Name: &quot;Wylma Phlyntstone&quot;, Age: 29, SomeColumn: 'CALL_ME(&quot;Wylma Phlyntstone&quot;)'}},
}
...
</code></pre>
One possibility is to re-implement the function in Go code and insert in explicitly, but it's not ideal. Or with simple INSERT INTO I can hit DML limits. Is there a better solution
i.e. providing only values &quot;a&quot;, &quot;bcd&quot; insert into both columns where one is just a function of another.
How to do this using streaming insert in Go library, for example? Like this pseudo-code:
<pre class=""lang-golang prettyprint-override""><code>...
inserter := client.Dataset(datasetID).Table(tableID).Inserter()
items := []*Item{
        // Item implements the ValueSaver interface.
        {Name: &quot;Phred Phlyntstone&quot;, Age: 32, SomeColumn: 'CALL_ME(&quot;Phred Phlyntstone&quot;)'},
        {Name: &quot;Wylma Phlyntstone&quot;, Age: 29, SomeColumn: 'CALL_ME(&quot;Wylma Phlyntstone&quot;)'}},
}
...
</code></pre>
One possibility is to re-implement the function in Go code and insert in explicitly, but it's not ideal. Or with simple INSERT INTO I can hit DML limits. Is there a better solution?",google-bigquery
220,70108558,How to disambiguate PostgreSQL column references from table references in projections?,"Assuming I have a schema like this:
<pre class=""lang-sql prettyprint-override""></pre>
Now in PostgreSQL, I can conveniently project table references to create nested rows in the result:
<pre class=""lang-sql prettyprint-override""><code>select x from x;
</code></pre>
Producing:
<pre class=""lang-none prettyprint-override""><code>|x     |
|------|
|[1, 2]|
</code></pre>
But this doesn't work if there's a conflict between tables and columns:
<pre class=""lang-sql prettyprint-override""><code>select t1 from t1;
</code></pre>
That just translates to an unqualified column reference:
<pre class=""lang-none prettyprint-override""><code>|t1 |
|---|
|1  |
</code></pre>
Now, as I'm maintaining a SQL generator, let's assume I cannot alias the table (because I might not know what column names it contains, and any alias could still conflict with actual columns).
Is there any syntax which allows for disambiguating between table reference and column reference, such as e.g. a hypothetical syntax below?
<pre class=""lang-sql prettyprint-override""><code>select t1::the_table_not_the_column from t1
</code></pre
Now in PostgreSQL, I can conveniently project table references to create nested rows in the result:
<pre class=""lang-sql prettyprint-override""><code>select x from x;
</code></pre>
Producing:
<pre class=""lang-none prettyprint-override""><code>|x     |
|------|
|[1, 2]|
</code></pre>
But this doesn't work if there's a conflict between tables and columns:
<pre class=""lang-sql prettyprint-override""><code>select t1 from t1;
</code></pre>
That just translates to an unqualified column reference:
<pre class=""lang-none prettyprint-override""><code>|t1 |
|---|
|1  |
</code></pre>
Now, as I'm maintaining a SQL generator, let's assume I cannot alias the table (because I might not know what column names it contains, and any alias could still conflict with actual columns).
Is there any syntax which allows for disambiguating between table reference and column reference, such as e.g. a hypothetical syntax below?
<pre class=""lang-sql prettyprint-override""><code>select t1::the_table_not_the_column from t1
</code></pre>",sql|postgresql
221,70210429,How to get the project Name and project Number through audit logs or through API's in google bigquery,"I am trying to retrieve the project details such as  and <code>projectNumber</code> in <a href=""https://cloud.google.com/resource-manager/docs/cloud-platform-resource-hierarchy#projects"" rel=""nofollow noreferrer"">bigquery</a>, but anywhere I can see only the <code>projectId</code> but not other details. I have explored the <a href=""https://console.cloud.google.com/logs/"" rel=""nofollow noreferrer"">audit logs</a> in my project when I ran a query and seen all the types of audit logs whether anywhere I can be able to find those details, but I was able to see the <code>projectId</code> only. I also explored the API's like is there any API serving my purpose, I have found one <a href=""https://cloud.google.com/bigquery/docs/reference/rest/v2/projects/list"" rel=""nofollow noreferrer"">API</a> which gives the list of projects but there also they are not providing the <code>projectName</code> and <code>projectNumber</code> details. So is there any other way I can get those details, please let me know.
EDIT: Looking for the JAVA API clientrying to retrieve the project details such as  and <code>projectNumber</code> in <a href=""https://cloud.google.com/resource-manager/docs/cloud-platform-resource-hierarchy#projects"" rel=""nofollow noreferrer"">bigquery</a>, but anywhere I can see only the <code>projectId</code> but not other details. I have explored the <a href=""https://console.cloud.google.com/logs/"" rel=""nofollow noreferrer"">audit logs</a> in my project when I ran a query and seen all the types of audit logs whether anywhere I can be able to find those details, but I was able to see the <code>projectId</code> only. I also explored the API's like is there any API serving my purpose, I have found one <a href=""https://cloud.google.com/bigquery/docs/reference/rest/v2/projects/list"" rel=""nofollow noreferrer"">API</a> which gives the list of projects but there also they are not providing the <code>projectName</code> and <code>projectNumber</code> details. So is there any other way I can get those details, please let me know.
EDIT: Looking for the JAVA API client",google-bigquery
222,70065834,How to Start PostgreSQL in Windows,"I would like to configure PosgreSQL in Windows machine.
Every time we have to recall the configuration process.
Please find the process belowd like to configure PosgreSQL in Windows machine.
Every time we have to recall the configuration process.
Please find the process belowld like to configure PosgreSQL in Windows machine.
Every time we have to recall the configuration process.
Please find the process belowd like to configure PosgreSQL in Windows machine.
Every time we have to recall the configuration process.
Please find the process below.",postgresql
223,70085091,Using dense_rank to find the 2nd highest salary in MYSQL,"I am trying to do this Leetcode question where we try to find the 2nd highest salary from the EMPLOYEE TABLE.
INPUT :

id is the primary key column for this table.
Each row of this table contains information about the salary of an employee.
My answer is the following. But leetcode is not accepting this answer. What if I don't want to use the offset clause and use the dense function? Can it be done? Kindly help.
<pre><code>with temp1 as
(select id, salary, dense_rank() over (order by salary desc) as salary_order
from employee)
select coalesce(salary, null) as SecondHighestSalary
from temp1
where salary_order=2;
</code></pre>
Question Link: <a href=""https://leetcode.com/problems/second-highest-salary/"" rel=""nofollow noreferrer"">https://leetcode.com/problems/second-highest-salary/</a>",mysql
224,70246581,On conflict do nothing with a custom constraint,"I need to do the following:

Nevermind the operation of my where condition it could be anything except a simple equal. in mycase I'm using a custom ip range field soI I want to check that one ip address is not in the range of the other ip adderss when I'm inserting a new row.
Is there a way I can do this with <code>on conflict</code> or with another query?",sql|postgresql
225,70174092,Like vs Similar to vs rLike,"I am trying to understand the differences between <strong>like</strong>, <strong>rlike</strong> and <strong>similar to</strong> in postgres and whether there are specific use cases for each operator.
Being familiar with TSQL I generally used the <strong>like</strong> operator to do things like

But in postgres the same statement would not yield the same results.
My questions are:
<ol>
<li>What, if any, operator in postgres (<strong>like</strong>, rlike, <strong>similar to</strong>, ...) most closely mimics the functionality/usability of the <strong>like</strong> operator in tsql?</li>
<li>Is there a general rule of thumb when deciding which operator to use in postgress?</li>
</ol>
Thanks!",sql|postgresql
226,70200560,How to use KEYS.KEYSET_CHAIN in BigQuery,"I'm trying to use KEYS.KEYSET_CHAIN to obtain the a key from the KMS but I haven't figured out how to generate the first_level_keyset correctly. I'm getting the following message:
<strong>AEAD.ENCRYPT failed: Keyset deserialization failed: Error reading keyset data: Could not parse the input stream as a Keyset-proto.</strong>
I'm following the doc:
<ul>
<li><a href=""https://cloud.google.com/bigquery/docs/reference/standard-sql/aead_encryption_functions#keyskeyset_chain"" rel=""nofollow noreferrer"">https://cloud.google.com/bigquery/docs/reference/standard-sql/aead_encryption_functions#keyskeyset_chain</a></li>
</ul>
My code:
",google-bigquery
227,70252748,replace null values in subsequent rows from previous row,"I have this table about foods and rating and facing this scenario.

<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>food_type</th>
<th>country</th>
<th>rating</th>
</tr>
</thead>
<tbody>
<tr>
<td>Pizza</td>
<td>Italy</td>
<td>8</td>
</tr>
<tr>
<td>Pizza</td>
<td>Italy</td>
<td>null</td>
</tr>
<tr>
<td>Pizza</td>
<td>Italy</td>
<td>null</td>
</tr>
<tr>
<td>Pizza</td>
<td>Sweden</td>
<td>6</td>
</tr>
<tr>
<td>Pizza</td>
<td>Sweden</td>
<td>null</td>
</tr>
<tr>
<td>Pizza</td>
<td>Sweden</td>
<td>null</td>
</tr>
<tr>
<td>Calzone</td>
<td>France</td>
<td>7</td>
</tr>
<tr>
<td>Calzone</td>
<td>France</td>
<td>null</td>
</tr>
<tr>
<td>Calzone</td>
<td>France</td>
<td>null</td>
</tr>
<tr>
<td>Hero Sub</td>
<td>USA</td>
<td>10</td>
</tr>
<tr>
<td>Hero Sub</td>
<td>USA</td>
<td>null</td>
</tr>
<tr>
<td>Hero Sub</td>
<td>USA</td>
<td>null</td>
</tr>
<tr>
<td>Hero Sub</td>
<td>USA</td>
<td>null</td>
</tr>
</tbody>
</table>
</div>
How can I replace the <strong>nulls</strong> with the rating value of the same food_type and same country from the previous not null rating value? e.g. <strong>new_rating column</strong>
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>food_type</th>
<th>country</th>
<th>rating</th>
<th>new_rating</th>
</tr>
</thead>
<tbody>
<tr>
<td>Pizza</td>
<td>Italy</td>
<td>8</td>
<td>8</td>
</tr>
<tr>
<td>Pizza</td>
<td>Italy</td>
<td>null</td>
<td>8</td>
</tr>
<tr>
<td>Pizza</td>
<td>Italy</td>
<td>null</td>
<td>8</td>
</tr>
<tr>
<td>Pizza</td>
<td>Sweden</td>
<td>6</td>
<td>6</td>
</tr>
<tr>
<td>Pizza</td>
<td>Sweden</td>
<td>null</td>
<td>6</td>
</tr>
<tr>
<td>Pizza</td>
<td>Sweden</td>
<td>null</td>
<td>6</td>
</tr>
<tr>
<td>Calzone</td>
<td>France</td>
<td>7</td>
<td>7</td>
</tr>
<tr>
<td>Calzone</td>
<td>France</td>
<td>null</td>
<td>7</td>
</tr>
<tr>
<td>Calzone</td>
<td>France</td>
<td>null</td>
<td>7</td>
</tr>
<tr>
<td>Hero Sub</td>
<td>USA</td>
<td>10</td>
<td>10</td>
</tr>
<tr>
<td>Hero Sub</td>
<td>USA</td>
<td>null</td>
<td>10</td>
</tr>
<tr>
<td>Hero Sub</td>
<td>USA</td>
<td>null</td>
<td>10</td>
</tr>
<tr>
<td>Hero Sub</td>
<td>USA</td>
<td>null</td>
<td>10</td>
</tr>
</tbody>
</table>
</div>
I am using postgreSQL 11.4!",sql|postgresql
228,70343139,Does PERFORM inside of a trigger execute a function in the same transaction as the caller?,"I have come across a postgres trigger that is defined like so...
<pre class=""lang-sql prettyprint-override""></pre>
From what this <a href=""https://stackoverflow.com/a/10727471/4227700"">other post's answer</a> says (I cannot find it explicitly stated in the postgres documentation):
<blockquote>
All PostgreSQL triggers execute in the same transaction as the transaction that has triggered them.
</blockquote>
However, does the function <code>my_other_func</code>, called with <code>PERFORM</code>, get run in the same transaction as well?  Or what is its behavior in this context?
Postgres version:

From what this <a href=""https://stackoverflow.com/a/10727471/4227700"">other post's answer</a> says (I cannot find it explicitly stated in the postgres documentation):
<blockquote>
All PostgreSQL triggers execute in the same transaction as the transaction that has triggered them.
</blockquote>
However, does the function <code>my_other_func</code>, called with <code>PERFORM</code>, get run in the same transaction as well?  Or what is its behavior in this context?
Postgres version:
<pre><code>select version();
                                                     version                                                      
------------------------------------------------------------------------------------------------------------------
 PostgreSQL 12.7 (Debian 12.7-1.pgdg100+1) on x86_64-pc-linux-gnu, compiled by gcc (Debian 8.3.0-6) 8.3.0, 64-bit
</code></pre>",postgresql
229,70351010,Why does bigquery show the number (1) behind some tables,"After loading data with batch processing to Google BigQuery i'm expecting tables that are partitioned based on their date (I know, have to rename the column of date as it's reserved).
However, when receiving some new tables they have a different icon and show the number 1 behind the table in this format <em><strong>(1)</strong></em>. See the image below.
What is happening here? I would expect them to be normal partitioned tables.<br />
I can't find this anywhere in their documentation or the wider web.
// if you give a -1 at least tell me why? What is wrong with this question?
<a href=""https://i.stack.imgur.com/CiqfQ.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/CiqfQ.png"" alt=""enter image description here"" /></aloading data with batch processing to Google BigQuery i'm expecting tables that are partitioned based on their date (I know, have to rename the column of date as it's reserved).
However, when receiving some new tables they have a different icon and show the number 1 behind the table in this format <em><strong>(1)</strong></em>. See the image below.
What is happening here? I would expect them to be normal partitioned tables.<br />
I can't find this anywhere in their documentation or the wider web.
// if you give a -1 at least tell me why? What is wrong with this question?
<a href=""https://i.stack.imgur.com/CiqfQ.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/CiqfQ.png"" alt=""enter image description here"" /></a loading data with batch processing to Google BigQuery i'm expecting tables that are partitioned based on their date (I know, have to rename the column of date as it's reserved).
However, when receiving some new tables they have a different icon and show the number 1 behind the table in this format <em><strong>(1)</strong></em>. See the image below.
What is happening here? I would expect them to be normal partitioned tables.<br />
I can't find this anywhere in their documentation or the wider web.
// if you give a -1 at least tell me why? What is wrong with this question?
<a href=""https://i.stack.imgur.com/CiqfQ.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/CiqfQ.png"" alt=""enter image description here"" /></aloading data with batch processing to Google BigQuery i'm expecting tables that are partitioned based on their date (I know, have to rename the column of date as it's reserved).
However, when receiving some new tables they have a different icon and show the number 1 behind the table in this format <em><strong>(1)</strong></em>. See the image below.
What is happening here? I would expect them to be normal partitioned tables.<br />
I can't find this anywhere in their documentation or the wider web.
// if you give a -1 at least tell me why? What is wrong with this question?
<a href=""https://i.stack.imgur.com/CiqfQ.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/CiqfQ.png"" alt=""enter image description here"" /></a>",google-bigquery
230,70063912,BigQuery - default expiration time,"How to update the default expiration time for a dataset to never.
Here is an example how it is set to 60 days,
but I would like the dataset to never expired.
ALTER SCHEMA mydataset
SET OPTIONS(default_table_expiration_days=60 update the default expiration time for a dataset to never.
Here is an example how it is set to 60 days,
but I would like the dataset to never expired.
ALTER SCHEMA mydataset
SET OPTIONS(default_table_expiration_days=60o update the default expiration time for a dataset to never.
Here is an example how it is set to 60 days,
but I would like the dataset to never expired.
ALTER SCHEMA mydataset
SET OPTIONS(default_table_expiration_days=60 update the default expiration time for a dataset to never.
Here is an example how it is set to 60 days,
but I would like the dataset to never expired.
ALTER SCHEMA mydataset
SET OPTIONS(default_table_expiration_days=60)",google-bigquery
231,70089488,How to activate table preview menu in Bigquery Console?,"I started BigQuery trial account just before
and created sample table using a source with Drive URI &amp; CSV.
When I clicked my uploaded table, it shows table information like schema and details.
I remember that there was a  menu but I can't find it now. <a href=""https://i.stack.imgur.com/lmxBQ.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/lmxBQ.png"" alt=""enter image description here"" /></a>
Is there anyway to activate table preview menurted BigQuery trial account just before
and created sample table using a source with Drive URI &amp; CSV.
When I clicked my uploaded table, it shows table information like schema and details.
I remember that there was a  menu but I can't find it now. <a href=""https://i.stack.imgur.com/lmxBQ.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/lmxBQ.png"" alt=""enter image description here"" /></a>
Is there anyway to activate table preview menu?",google-bigquery
232,70191081,getting this error when running rails db:seed,"
so far I have tried <code>brew services start postgresql</code> and I get back <code>Error: Formula postgresql is not installed</code> but I have version 12.8 installed",postgresql
233,70174694,Behavior difference between TIMESTAMP_DIFF and TIMESTAMP_SUB in BigQuery,"I tested two ways of finding if the difference between two events expires a given threshold and found out that the second one (using ) seems to be more consistent.
<code>TIMESTAMP_SUB(finished_at, INTERVAL 24 HOUR) &lt; created_at</code>
<code>TIMESTAMP_DIFF(finished_at, created_at, HOUR) &gt; 24</code>
But I don't understand why <code>TIMESTAMP_SUB</code> doesn't give the same resultted two ways of finding if the difference between two events expires a given threshold and found out that the second one (using ) seems to be more consistent.
<code>TIMESTAMP_SUB(finished_at, INTERVAL 24 HOUR) &lt; created_at</code>
<code>TIMESTAMP_DIFF(finished_at, created_at, HOUR) &gt; 24</code>
But I don't understand why <code>TIMESTAMP_SUB</code> doesn't give the same result.",google-bigquery
234,70151076,How to select rows in every day between two dates using MySQL,"I want to keep track of users logged in every day between two dates.
Let's say I have a table  like this:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>user_id</th>
<th>login_datetime</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>2021-10-02 10:00:00</td>
</tr>
<tr>
<td>1</td>
<td>2021-10-02 12:00:00</td>
</tr>
<tr>
<td>2</td>
<td>2021-10-02 12:20:00</td>
</tr>
<tr>
<td>1</td>
<td>2021-10-03 17:00:00</td>
</tr>
<tr>
<td>1</td>
<td>2021-10-04 22:00:00</td>
</tr>
<tr>
<td>2</td>
<td>2021-10-04 23:00:00</td>
</tr>
</tbody>
</table>
</div>
and given date range is from '2021-10-02' to '2021-10-04'.
I want to get user_id = 1 in this case, because user_id = 2 is not logged in at '2021-10-03'
result
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>user_id</th>
<th>login_date</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>2021-10-02</td>
</tr>
<tr>
<td>1</td>
<td>2021-10-03</td>
</tr>
<tr>
<td>1</td>
<td>2021-10-04</td>
</tr>
</tbody>
</table>
</div>
Is there any solution for thist to keep track of users logged in every day between two dates.
Let's say I have a table  like this:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>user_id</th>
<th>login_datetime</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>2021-10-02 10:00:00</td>
</tr>
<tr>
<td>1</td>
<td>2021-10-02 12:00:00</td>
</tr>
<tr>
<td>2</td>
<td>2021-10-02 12:20:00</td>
</tr>
<tr>
<td>1</td>
<td>2021-10-03 17:00:00</td>
</tr>
<tr>
<td>1</td>
<td>2021-10-04 22:00:00</td>
</tr>
<tr>
<td>2</td>
<td>2021-10-04 23:00:00</td>
</tr>
</tbody>
</table>
</div>
and given date range is from '2021-10-02' to '2021-10-04'.
I want to get user_id = 1 in this case, because user_id = 2 is not logged in at '2021-10-03'
result
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>user_id</th>
<th>login_date</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>2021-10-02</td>
</tr>
<tr>
<td>1</td>
<td>2021-10-03</td>
</tr>
<tr>
<td>1</td>
<td>2021-10-04</td>
</tr>
</tbody>
</table>
</div>
Is there any solution for this?",mysql
235,70153120,BigQuery view not allowing to add policy tag to column,BigQuery shows option to add policy tag to Table by editing schema. Unable to do the same for BigQuery viewry shows option to add policy tag to Table by editing schema. Unable to do the same for BigQuery viewery shows option to add policy tag to Table by editing schema. Unable to do the same for BigQuery viewry shows option to add policy tag to Table by editing schema. Unable to do the same for BigQuery view.,google-bigquery
236,70196519,Postgres override system function,"Is it possible to override a Postgres system function with user-defined function?
I have created a user-defined function 'substr' but it works only if I specify the schema name, else it uses the system function 'substr'.
Is there a way to override the system function 'substr' and use my user-defined function 'substr' without having to use schema name?
The reason is I want the same functionality of Oracle substr in PG for the existing code basepossible to override a Postgres system function with user-defined function?
I have created a user-defined function 'substr' but it works only if I specify the schema name, else it uses the system function 'substr'.
Is there a way to override the system function 'substr' and use my user-defined function 'substr' without having to use schema name?
The reason is I want the same functionality of Oracle substr in PG for the existing code base possible to override a Postgres system function with user-defined function?
I have created a user-defined function 'substr' but it works only if I specify the schema name, else it uses the system function 'substr'.
Is there a way to override the system function 'substr' and use my user-defined function 'substr' without having to use schema name?
The reason is I want the same functionality of Oracle substr in PG for the existing code basepossible to override a Postgres system function with user-defined function?
I have created a user-defined function 'substr' but it works only if I specify the schema name, else it uses the system function 'substr'.
Is there a way to override the system function 'substr' and use my user-defined function 'substr' without having to use schema name?
The reason is I want the same functionality of Oracle substr in PG for the existing code base.",postgresql
237,70201022,Cypher virtual nodes to aggregate many to many relationships,"I have 8000 Authors nodes and 2000 book nodes. Each author has a country property and each book can be co-authored by many authors.
I am trying to show which countries have collaborated on books by grouping all authors from a country into a single virtualNode called Country. Then I would need to create a virtual relationship between countries based on the number of times each author in CountryA has published something with an Author from CountryB.
I have a few queries that are doing stuff, but can't get it quite to what I want. Here is what I have tried and the outcome:

This shows many duplicate countries ( I assume 1 for each author rather than aggregating authors ) and the numCollabs on each relationship is always 1.
I also tried this one:
<pre><code>MATCH (a: Author)
WITH a.country as country, count(*) as count
RETURN apoc.create.vNode(['Country'], {name: country, authors: count}) as countries
</code></pre>
This gives me the proper number of countries and shows the number of authors in that country... however, I cannot figure out how to then create the vRelationship which will show how many times each country has worked with each other country.",neo4j|cypher
238,70350269,Run a Big Query Schedule everytime a table is updated,"So I have this schedule that gets data from some tables and aggregate then into a single table, that I use as a source in a data studio dash, one of these tables (table 1), is updated daily, sometimes more than once, I wanted to know if there is a way to automatically run the schedule every time this table (table1) is updatedave this schedule that gets data from some tables and aggregate then into a single table, that I use as a source in a data studio dash, one of these tables (table 1), is updated daily, sometimes more than once, I wanted to know if there is a way to automatically run the schedule every time this table (table1) is updatedhave this schedule that gets data from some tables and aggregate then into a single table, that I use as a source in a data studio dash, one of these tables (table 1), is updated daily, sometimes more than once, I wanted to know if there is a way to automatically run the schedule every time this table (table1) is updatedave this schedule that gets data from some tables and aggregate then into a single table, that I use as a source in a data studio dash, one of these tables (table 1), is updated daily, sometimes more than once, I wanted to know if there is a way to automatically run the schedule every time this table (table1) is updated.",google-bigquery
239,70119158,SQL Calculate Jaccard Similarity (IoU),"I have 2 Postgres tables:
Table :
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>uuid</th>
<th>user</th>
<th>item</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>1</td>
<td>item1</td>
</tr>
<tr>
<td>2</td>
<td>1</td>
<td>item2</td>
</tr>
<tr>
<td>3</td>
<td>1</td>
<td>item3</td>
</tr>
<tr>
<td>4</td>
<td>2</td>
<td>item1</td>
</tr>
<tr>
<td>4</td>
<td>2</td>
<td>item2</td>
</tr>
<tr>
<td>5</td>
<td>2</td>
<td>item4</td>
</tr>
<tr>
<td>6</td>
<td>3</td>
<td>item2</td>
</tr>
<tr>
<td>7</td>
<td>3</td>
<td>item5</td>
</tr>
<tr>
<td>8</td>
<td>4</td>
<td>item1</td>
</tr>
<tr>
<td>9</td>
<td>4</td>
<td>item5</td>
</tr>
</tbody>
</table>
</div>
Table <code>Items</code>
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>item</th>
<th>feature1</th>
<th>feature2</th>
<th>feature3</th>
</tr>
</thead>
<tbody>
<tr>
<td>item1</td>
<td>val_11</td>
<td>val_12</td>
<td>val_13</td>
</tr>
<tr>
<td>item2</td>
<td>val_21</td>
<td>val_22</td>
<td>val_23</td>
</tr>
<tr>
<td>item3</td>
<td>val_31</td>
<td>val_32</td>
<td>val_33</td>
</tr>
<tr>
<td>item4</td>
<td>val_41</td>
<td>val_42</td>
<td>val_43</td>
</tr>
<tr>
<td>item4</td>
<td>val_51</td>
<td>val_52</td>
<td>val_53</td>
</tr>
</tbody>
</table>
</div>
I'd like to calculate the Jaccard similarity given some input X. So for example, if the input X is <code>item1</code>, I'd like to find every user which has purchased <code>item1</code>, then calculate the Intersection Over Union (IOU) for every other item which any of those users have purchased. The output would then be:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>item</th>
<th>feature1</th>
<th>feature2</th>
<th>feature3</th>
<th>jaccard</th>
</tr>
</thead>
<tbody>
<tr>
<td>item2</td>
<td>val_21</td>
<td>val_22</td>
<td>val_23</td>
<td>0.67</td>
</tr>
<tr>
<td>item3</td>
<td>val_31</td>
<td>val_32</td>
<td>val_33</td>
<td>0.33</td>
</tr>
<tr>
<td>item4</td>
<td>val_41</td>
<td>val_42</td>
<td>val_43</td>
<td>0.33</td>
</tr>
<tr>
<td>item5</td>
<td>val_51</td>
<td>val_52</td>
<td>val_53</td>
<td>0.33</td>
</tr>
</tbody>
</table>
</div>
My approach so far is

Then the idea was that I could count the total number of times that each item occurs divided by the total number of groups ... But I'm stumped on how to count the total number of times that each item occurs
<pre><code></code></pre>",sql|postgresql
240,70034054,How to get the row access policy related metadata using bigquery sql in Google Big Query?,"Google Big Query has well documented ways to get the metadata about other objects <a href=""https://cloud.google.com/bigquery/docs/information-schema-intro"" rel=""nofollow noreferrer"">(Table, Datasets, Routine, etc)</a> using SQL like queries. I am using Python driver to execute those queries and getting expected result.
But I didn't found any query which can list the metadata about row access policies.

I have gone through the documentation and found the same can be displayed using bq command line tool.
<pre><code>bq ls --row_access_policies example_dataset.my_base_table3
</code></pre>
Is there a way to get metadata related to row access policy via Python driver?",google-bigquery
241,70124814,How to convert binary string to integer in BigQuery,"I would need to convert a binary string (actually string) column to its integer representation:

In my case the values are 16 bit max.
It's the equivalent to javascript code: <code>parseInt('0111111001001010', 2)</code>
Thanks",google-bigquery
242,70374514,How to remove \n from a sentence in bigquery,"I want to remove \n from a sentence in biquery. I have used the following query  REGEXP_REPLACE(Sentence, r'([^\p{ASCII}]+)', '')  AS Senetnce. It is removing only the question marks. How do I remove \n also? Thanks to remove \n from a sentence in biquery. I have used the following query  REGEXP_REPLACE(Sentence, r'([^\p{ASCII}]+)', '')  AS Senetnce. It is removing only the question marks. How do I remove \n also? Thankst to remove \n from a sentence in biquery. I have used the following query  REGEXP_REPLACE(Sentence, r'([^\p{ASCII}]+)', '')  AS Senetnce. It is removing only the question marks. How do I remove \n also? Thanks to remove \n from a sentence in biquery. I have used the following query  REGEXP_REPLACE(Sentence, r'([^\p{ASCII}]+)', '')  AS Senetnce. It is removing only the question marks. How do I remove \n also? Thanks.",google-bigquery
243,70280298,Select odd or even values from text array,"How to select odd or even values from a text array in Postgres?
You can select by index (starts at 1)

There is not a native function for this: <a href=""https://www.postgresql.org/docs/13/functions-array.html"" rel=""nofollow noreferrer"">https://www.postgresql.org/docs/13/functions-array.html</a>. I see Postgres supports modulo math (<a href=""https://www.postgresql.org/docs/13/functions-math.html"" rel=""nofollow noreferrer"">https://www.postgresql.org/docs/13/functions-math.html</a>) but I'm not sure how to apply that here as the below is invalid:
<pre><code>select
text_array[%2] as odd
from (
  select '{a,1,b,2,c,3}'::text[] as text_array
) as x
</code></pre>
The goal is to get <code>{a,1,b,2,c,3}</code> -&gt; <code>{a,b,c}</code>. Likewise for even, <code>{a,1,b,2,c,3}</code> -&gt; <code>{1,2,3}</code>.
Any guidance would be greatly appreciated!",sql|postgresql
244,70107190,Unable to save a view in a different BigQuery project,"I have my big query table <em><strong>Tab1</strong></em> in GCP Project A. I have created a new GCP Project B. I have written a query that retrieves data stored in <em><strong>Tab1</strong></em> and I want to store this as view in Project B.
I am getting an error like this:
<em>Not found: Dataset Project A:Tab1 not found</em>
Both projects are under the same organization. How do I create views in new projects based on data stored in another project my big query table <em><strong>Tab1</strong></em> in GCP Project A. I have created a new GCP Project B. I have written a query that retrieves data stored in <em><strong>Tab1</strong></em> and I want to store this as view in Project B.
I am getting an error like this:
<em>Not found: Dataset Project A:Tab1 not found</em>
Both projects are under the same organization. How do I create views in new projects based on data stored in another projecte my big query table <em><strong>Tab1</strong></em> in GCP Project A. I have created a new GCP Project B. I have written a query that retrieves data stored in <em><strong>Tab1</strong></em> and I want to store this as view in Project B.
I am getting an error like this:
<em>Not found: Dataset Project A:Tab1 not found</em>
Both projects are under the same organization. How do I create views in new projects based on data stored in another project my big query table <em><strong>Tab1</strong></em> in GCP Project A. I have created a new GCP Project B. I have written a query that retrieves data stored in <em><strong>Tab1</strong></em> and I want to store this as view in Project B.
I am getting an error like this:
<em>Not found: Dataset Project A:Tab1 not found</em>
Both projects are under the same organization. How do I create views in new projects based on data stored in another project.",google-bigquery
245,70225627,How in Cypher do I output a row number,"Given a query like this

How do I output a resultset like this, with row_number being the row number?
<pre><code>
&quot;row_number&quot;&quot;u&quot;              &quot;p&quot;               

&quot;x&quot;         {&quot;name&quot;:&quot;Martin&quot;}{&quot;name&quot;:&quot;Martin2&quot;}

&quot;x&quot;         {&quot;name&quot;:&quot;Martin&quot;}{&quot;name&quot;:&quot;Martin1&quot;}

&quot;x&quot;         {&quot;name&quot;:&quot;Bob&quot;}   {&quot;name&quot;:&quot;Bob2&quot;}   

&quot;x&quot;         {&quot;name&quot;:&quot;Bob&quot;}   {&quot;name&quot;:&quot;Bob1&quot;}   

</code></pre>",neo4j|cypher
246,70366936,"Illegal mix of collations (utf8mb4_unicode_ci,COERCIBLE) and (latin1_swedish_ci,IMPLICIT) for operation '='","
the problem is here DOCOUT.tabDoc=MOV.tabDoc because it's a &quot;latin1_swedish_ci&quot;
I have tried solution as:
<ul>
<li>... (DOCOUT.tabDoc COLLATE latin1_swedish_ci) = MOV.tabDoc ... but I have an error as: COLLATION 'latin1_swedish_ci' is not valid for CHARACTER SET 'utf8mb4'</li>
<li>... DOCOUT.tabDoc = (MOV.tabDoc COLLATE utf8mb4_unicode_ci) ... but I have an error as: COLLATION 'utf8mb4_unicode_ci' is not valid for CHARACTER SET 'latin1'</li>
</ul>
I wouldn't like to change the charset on my dbase because I'm afraid to broke something in some other parts in my code... any suggestions?",mysql
247,70322047,Need proper query to filter according to date which is a relationship property in neo4j,"I have a User label and a Follows relationship. Follows relationship has a property .
I want to get all the users that followed a particular user before a specific date.
However the query is not returning any records.
Get all followers

Output:
<blockquote>
&quot;2021-12-10T00:00:00&quot;
</blockquote>
Get all followers where ts is less than or equal to the date, 11th December, 2021
<pre><code>MATCH (b) WHERE id(b) = 172  MATCH (a)-[f:Follows]-&gt;(b) WHERE f.ts &lt;= &quot;DateTime({year:2021, month:12, day:11})&quot; RETURN f.ts
</code></pre>
Output:
<blockquote>
(no changes, no records)
</blockquote>
In actuality, I want to compare the whole timestamp",neo4j|cypher
248,70294474,how to retrieve data from multiple tables (postgresql),"I have 4 different tables that are linked to each other in the following way (I only kept the essential columns in each table to emphasise the relationships between them):

I want to get the data in the following way: for each client order line to show the product_id, quantity and country_name(corresponding to that client order line).
I tried this so far:
<pre><code>SELECT country_name FROM public.country WHERE country_code = (
    SELECT country_code FROM public.address WHERE id = (
        SELECT address_id FROM public.client_order WHERE  id= 5
    )
)
</code></pre>
to get the country name given a client_order_id from client_order_line table. I don't know how to change this to get all the information mentioned above, from client_order_line table which looks like this:
<pre><code>id  client_order_id. product_id.   status. quantity
1   1                122           0       1000
2   2                122           0       3000
3   2                125           0       3000
4   3                445           0       2000
</code></pre>
Thanks a lot!",postgresql
249,70086109,Count the amount of times a word appears in BigQuery column,"I have a column with some long strings and need to count the most used words in it.
I need something that works like this <a href=""https://towardsdatascience.com/very-simple-python-script-for-extracting-most-common-words-from-a-story-1e3570d0b9d0"" rel=""nofollow noreferrer"">https://towardsdatascience.com/very-simple-python-script-for-extracting-most-common-words-from-a-story-1e3570d0b9d0</a>. The word counting part at least...
And it is very important that i have the option to blacklist some words so they dont count a column with some long strings and need to count the most used words in it.
I need something that works like this <a href=""https://towardsdatascience.com/very-simple-python-script-for-extracting-most-common-words-from-a-story-1e3570d0b9d0"" rel=""nofollow noreferrer"">https://towardsdatascience.com/very-simple-python-script-for-extracting-most-common-words-from-a-story-1e3570d0b9d0</a>. The word counting part at least...
And it is very important that i have the option to blacklist some words so they dont counte a column with some long strings and need to count the most used words in it.
I need something that works like this <a href=""https://towardsdatascience.com/very-simple-python-script-for-extracting-most-common-words-from-a-story-1e3570d0b9d0"" rel=""nofollow noreferrer"">https://towardsdatascience.com/very-simple-python-script-for-extracting-most-common-words-from-a-story-1e3570d0b9d0</a>. The word counting part at least...
And it is very important that i have the option to blacklist some words so they dont count a column with some long strings and need to count the most used words in it.
I need something that works like this <a href=""https://towardsdatascience.com/very-simple-python-script-for-extracting-most-common-words-from-a-story-1e3570d0b9d0"" rel=""nofollow noreferrer"">https://towardsdatascience.com/very-simple-python-script-for-extracting-most-common-words-from-a-story-1e3570d0b9d0</a>. The word counting part at least...
And it is very important that i have the option to blacklist some words so they dont count.",google-bigquery
250,70353978,Mysql SUM with case statement and multiple conditions,"
I would like to exclude orders when orders_amount = ItemsAmount .
So i have to add another conditions and the first line should be excluded
My two table are ( orders and items ).
table: items
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>Item_id</th>
<th>orders_id</th>
<th>items_amount</th>
<th>items_staus</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>1</td>
<td>10500</td>
<td>1</td>
</tr>
<tr>
<td>2</td>
<td>2</td>
<td>100</td>
<td>1</td>
</tr>
<tr>
<td>3</td>
<td>2</td>
<td>1200</td>
<td>1</td>
</tr>
<tr>
<td>4</td>
<td>2</td>
<td>200</td>
<td>2</td>
</tr>
<tr>
<td>5</td>
<td>3</td>
<td>5000</td>
<td>1</td>
</tr>
</tbody>
</table>
</div>
Table : orders
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>orders_id</th>
<th>orders_status</th>
<th>orders_amount</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>1</td>
<td>10500</td>
</tr>
<tr>
<td>2</td>
<td>2</td>
<td>2500</td>
</tr>
<tr>
<td>3</td>
<td>2</td>
<td>7000</td>
</tr>
</tbody>
</table>
</div>",mysql
251,70126705,How do I convert postgreSQL results to JSON?,"I have this sql
<pre class=""lang-sql prettyprint-override""></pre>
It gives this results.
<a href=""https://i.stack.imgur.com/vRgDs.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/vRgDs.png"" alt=""enter image description here"" /></a>
How do i get the results to look like this?
<pre class=""lang-json prettyprint-override""><code>{
   &quot;Politics&quot;: [&quot;1e4fd2c5-c32e-4e3f-91b3-45478bcf0185&quot;],
   &quot;Technology&quot;: [
      &quot;1e4fd2c5-c32e-4e3f-91b3-45478bcf0185&quot;,
      &quot;1e4fd2c5-c32e-4e3f-91b3-45478bcf0189&quot;,
      &quot;1e4fd2c5-c32e-4e3f-91b3-45478bcf0186&quot;,
   ]
}
</code></pre>
I have been trying different combinations of <code>json_build_object</code> and <code>json_agg</code> like this

It gives this results.
<a href=""https://i.stack.imgur.com/vRgDs.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/vRgDs.png"" alt=""enter image description here"" /></a>
How do i get the results to look like this?
<pre class=""lang-json prettyprint-override""><code>{
   &quot;Politics&quot;: [&quot;1e4fd2c5-c32e-4e3f-91b3-45478bcf0185&quot;],
   &quot;Technology&quot;: [
      &quot;1e4fd2c5-c32e-4e3f-91b3-45478bcf0185&quot;,
      &quot;1e4fd2c5-c32e-4e3f-91b3-45478bcf0189&quot;,
      &quot;1e4fd2c5-c32e-4e3f-91b3-45478bcf0186&quot;,
   ]
}
</code></pre>
I have been trying different combinations of <code>json_build_object</code> and <code>json_agg</code> like this
<pre><code>select json_build_object(tag, json_agg(post_id))
from finalcache
group by tag, post_rank
order by tag, post_rank desc
</code></pre>
But I am just not getting the correct response. Any help will be very appreciated.",sql|postgresql
252,70032938,Delete tables in BigQuery Cloud Console,"I am trying to delete data from Bigquery tables and facing a challenge. At the moment only one date partitioned table drops/deletes at a time. Based on some research and docs on google, I understand I need to use DML operations.
Below are the commands that I used for deletion and it doesnt work
1.delete from 
2.drop table <code>bigquery-project.dataset1.table1_*</code>;
3.delete from <code>bigquery-project.dataset1.table1_*</code> where _table_suffix='20211117';
The third query works for me and it deletes only for that particular date.
For the 1 and 2 queries, Ive got a exception saying <strong>Illegal operation (write) on meta-table bigquery-project.dataset1.table1_</strong>
How would I go about deleting over 300 date partitioned tables in one go?
Thanks in advancetrying to delete data from Bigquery tables and facing a challenge. At the moment only one date partitioned table drops/deletes at a time. Based on some research and docs on google, I understand I need to use DML operations.
Below are the commands that I used for deletion and it doesnt work
1.delete from 
2.drop table <code>bigquery-project.dataset1.table1_*</code>;
3.delete from <code>bigquery-project.dataset1.table1_*</code> where _table_suffix='20211117';
The third query works for me and it deletes only for that particular date.
For the 1 and 2 queries, Ive got a exception saying <strong>Illegal operation (write) on meta-table bigquery-project.dataset1.table1_</strong>
How would I go about deleting over 300 date partitioned tables in one go?
Thanks in advance.",google-bigquery
253,70074415,Return type matched from multiple relationships in Neo4j with Cypher,"I know that you can match on multiple relationships in Neo4j, like this example in the docs:

which returns nodes with an ACTED_IN or DIRECTED relationship to 'Wall Street'.
However, is there a way to get the type of the relationship in this query? That is, I would like to return not only the name, but also <em>which relationship applies to him/her</em>, in order to see if it was the ACTED_IN, or the DIRECTED relationship that caused the result to be output.
You can do the equivalent here:
<pre><code>MATCH (:Person {name: 'Oliver Stone'})-[r]-&gt;(movie)
RETURN type(r)
</code></pre>
but that's just matching on any relationship. I would like to do this, but only with the two relationships specified in the clause.
Thanks",neo4j|cypher
254,70304704,PostgreSQL: How to combine multiple columns from 2 tables?,"I am very new to PostgreSQL and I can't combine two tables.
I have the table  and table <code>movie_info</code>. In both tables I have the column <code>id</code>.
From the table <code>title</code> I want the column <code>kind_id</code> where <code>kind_id = 6</code> and from the table <code>movie_info</code> I want the column <code>info</code> where <code>info = Netherlands</code> and the column <code>info-id</code> where <code>info_type_id = 8</code>.

How to combine above with this
<pre><code>and where mi.info_type_id = 8
and mi.info = 'Netherlands'
</code></pre>
Can someone please help? Thanks!",postgresql
255,70253193,PostgreSQL ANALYZE statisticts & Replication,"On my primary I ran a VACUUM then an ANALYZE on all databases, then when I check , the <code>last_analyze</code> column shows a current timestamp which is great.
When I check my replication instance, there are no values in the <code>last_analyze</code> column.  I was assuming this timestamp would also eventually populate?  Is this known behaviour?
The reason I ask is that after that VACUUM/ANALYZE on the primary, I'm running into some extremely slow queries on the replication instance.  I ran an EXPLAIN plan prior to the VACUUM/ANALYZE on a query and it ran in 5 seconds... now it's taking 65 seconds.  The EXPLAIN shows it's not using a lot of indexes that it should be primary I ran a VACUUM then an ANALYZE on all databases, then when I check , the <code>last_analyze</code> column shows a current timestamp which is great.
When I check my replication instance, there are no values in the <code>last_analyze</code> column.  I was assuming this timestamp would also eventually populate?  Is this known behaviour?
The reason I ask is that after that VACUUM/ANALYZE on the primary, I'm running into some extremely slow queries on the replication instance.  I ran an EXPLAIN plan prior to the VACUUM/ANALYZE on a query and it ran in 5 seconds... now it's taking 65 seconds.  The EXPLAIN shows it's not using a lot of indexes that it should be.",postgresql
256,70123567,"Index row size 2712 exceeds btree version 4 maximum 2704 for index, while doing DB restore","I am trying to restore a database backup of a Postgresql version 9.2 onto Postgresql 13.5, but while restoring I am getting this message:
<blockquote>
index row size 2712 exceeds btree version 4 maximum 2704 for index
</blockquote>
DB restore shows successfull but data is not available once restore is donerying to restore a database backup of a Postgresql version 9.2 onto Postgresql 13.5, but while restoring I am getting this message:
<blockquote>
index row size 2712 exceeds btree version 4 maximum 2704 for index
</blockquote>
DB restore shows successfull but data is not available once restore is donetrying to restore a database backup of a Postgresql version 9.2 onto Postgresql 13.5, but while restoring I am getting this message:
<blockquote>
index row size 2712 exceeds btree version 4 maximum 2704 for index
</blockquote>
DB restore shows successfull but data is not available once restore is donerying to restore a database backup of a Postgresql version 9.2 onto Postgresql 13.5, but while restoring I am getting this message:
<blockquote>
index row size 2712 exceeds btree version 4 maximum 2704 for index
</blockquote>
DB restore shows successfull but data is not available once restore is done.",postgresql
257,70128181,Limited access for postgreSQL user,"is it possible to create PostgreSQL user so that he can connect and see only  one specific database? So that he could only see one database (he couldn't see the others). Ideally, I could also set the visibility of the tables in the database.
I create user like this:

although I have given the user connect privilege to only one database, he can see all other databases :(",postgresql
258,70124021,is there an easy way to collect all the dependent cells form a table and concatenate themagainst the independent cell in mySQL?,"for example if the table looks like
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>c1</th>
<th>c2</th>
</tr>
</thead>
<tbody>
<tr>
<td>x</td>
<td>a</td>
</tr>
<tr>
<td>x</td>
<td>b</td>
</tr>
<tr>
<td>x</td>
<td>c</td>
</tr>
</tbody>
</table>
</div>
the result should look like
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>c1</th>
<th>c2</th>
</tr>
</thead>
<tbody>
<tr>
<td>x</td>
<td>abc</td>
</tr>
</tbody>
</table>
</divample if the table looks like
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>c1</th>
<th>c2</th>
</tr>
</thead>
<tbody>
<tr>
<td>x</td>
<td>a</td>
</tr>
<tr>
<td>x</td>
<td>b</td>
</tr>
<tr>
<td>x</td>
<td>c</td>
</tr>
</tbody>
</table>
</div>
the result should look like
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>c1</th>
<th>c2</th>
</tr>
</thead>
<tbody>
<tr>
<td>x</td>
<td>abc</td>
</tr>
</tbody>
</table>
</divxample if the table looks like
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>c1</th>
<th>c2</th>
</tr>
</thead>
<tbody>
<tr>
<td>x</td>
<td>a</td>
</tr>
<tr>
<td>x</td>
<td>b</td>
</tr>
<tr>
<td>x</td>
<td>c</td>
</tr>
</tbody>
</table>
</div>
the result should look like
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>c1</th>
<th>c2</th>
</tr>
</thead>
<tbody>
<tr>
<td>x</td>
<td>abc</td>
</tr>
</tbody>
</table>
</divample if the table looks like
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>c1</th>
<th>c2</th>
</tr>
</thead>
<tbody>
<tr>
<td>x</td>
<td>a</td>
</tr>
<tr>
<td>x</td>
<td>b</td>
</tr>
<tr>
<td>x</td>
<td>c</td>
</tr>
</tbody>
</table>
</div>
the result should look like
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>c1</th>
<th>c2</th>
</tr>
</thead>
<tbody>
<tr>
<td>x</td>
<td>abc</td>
</tr>
</tbody>
</table>
</div>",mysql
259,70317114,"Check, for every year, how many objects of a table display a relationship with another table in mySQL","Hi I have this small database of 2 entities (artwork and museum) and one relationship (exposed).
The relationship assign for each artwork the exposition time in a given museum:
<ol>
<li>artowrk(ID, name)</li>
<li>museum(ID,name, nation)</li>
<li>exposed(ID_artwork, ID_museum, start_date, end_date)</li>
</ol>
What I managed to do so far is to obtain the artworks exposed in french museums given a specific year, here it is the query

What I need now is to iterate my variable @year_check and for each year display artworks in french museums.
Please, share the solution in mySQL format if it's not a problem",mysql
260,70110343,Saving a data on a table and registering them per batch,"I am having trouble designing my web app database.
I want to save every item the user will input but each item must be registered to a transaction id.
It is possible to do this on a single user only but when there are multiple users, the items are jumbled.
Below is my table design.
<strong>User_Table</strong>
<hr />
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>User_id</th>
<th>Name</th>
</tr>
</thead>
<tbody>
<tr>
<td>3</td>
<td>John</td>
</tr>
<tr>
<td>4</td>
<td>Mary</td>
</tr>
</tbody>
</table>
</div>
Items_Table
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>Items_id</th>
<th>User_Id</th>
<th>Item Name</th>
<th>Price</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>3</td>
<td>Car</td>
<td>10.00</td>
</tr>
<tr>
<td>---------------</td>
<td>---------------</td>
<td>--------------------</td>
<td>------------------</td>
</tr>
<tr>
<td>2</td>
<td>3</td>
<td>Bike</td>
<td>5.00</td>
</tr>
<tr>
<td>---------------</td>
<td>---------------</td>
<td>--------------------</td>
<td>------------------</td>
</tr>
<tr>
<td>3</td>
<td>4</td>
<td>Strawbery</td>
<td>20.00</td>
</tr>
<tr>
<td>---------------</td>
<td>---------------</td>
<td>--------------------</td>
<td>------------------</td>
</tr>
</tbody>
</table>
</div>
So to sum it up:
John had made a (first)transaction  with a total price of : 15.00
My problem is that what if I want to create another transaction but the system will just add up the last transaction I made.
Solutions taken:
Create a logs id of each transaction id and load it in the form so that when the user adds an item the system will log that the new item entered by John will be a new transaction. But what if some technical error happens like Johns computer freezes, and the transaction is not saved and Mary took the id that was supposed to be Johns. My main problem here is how to make my data reliable and accurate when keeping records. I hope someone helps meaving trouble designing my web app database.
I want to save every item the user will input but each item must be registered to a transaction id.
It is possible to do this on a single user only but when there are multiple users, the items are jumbled.
Below is my table design.
<strong>User_Table</strong>
<hr />
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>User_id</th>
<th>Name</th>
</tr>
</thead>
<tbody>
<tr>
<td>3</td>
<td>John</td>
</tr>
<tr>
<td>4</td>
<td>Mary</td>
</tr>
</tbody>
</table>
</div>
Items_Table
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>Items_id</th>
<th>User_Id</th>
<th>Item Name</th>
<th>Price</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>3</td>
<td>Car</td>
<td>10.00</td>
</tr>
<tr>
<td>---------------</td>
<td>---------------</td>
<td>--------------------</td>
<td>------------------</td>
</tr>
<tr>
<td>2</td>
<td>3</td>
<td>Bike</td>
<td>5.00</td>
</tr>
<tr>
<td>---------------</td>
<td>---------------</td>
<td>--------------------</td>
<td>------------------</td>
</tr>
<tr>
<td>3</td>
<td>4</td>
<td>Strawbery</td>
<td>20.00</td>
</tr>
<tr>
<td>---------------</td>
<td>---------------</td>
<td>--------------------</td>
<td>------------------</td>
</tr>
</tbody>
</table>
</div>
So to sum it up:
John had made a (first)transaction  with a total price of : 15.00
My problem is that what if I want to create another transaction but the system will just add up the last transaction I made.
Solutions taken:
Create a logs id of each transaction id and load it in the form so that when the user adds an item the system will log that the new item entered by John will be a new transaction. But what if some technical error happens like Johns computer freezes, and the transaction is not saved and Mary took the id that was supposed to be Johns. My main problem here is how to make my data reliable and accurate when keeping records. I hope someone helps mehaving trouble designing my web app database.
I want to save every item the user will input but each item must be registered to a transaction id.
It is possible to do this on a single user only but when there are multiple users, the items are jumbled.
Below is my table design.
<strong>User_Table</strong>
<hr />
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>User_id</th>
<th>Name</th>
</tr>
</thead>
<tbody>
<tr>
<td>3</td>
<td>John</td>
</tr>
<tr>
<td>4</td>
<td>Mary</td>
</tr>
</tbody>
</table>
</div>
Items_Table
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>Items_id</th>
<th>User_Id</th>
<th>Item Name</th>
<th>Price</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>3</td>
<td>Car</td>
<td>10.00</td>
</tr>
<tr>
<td>---------------</td>
<td>---------------</td>
<td>--------------------</td>
<td>------------------</td>
</tr>
<tr>
<td>2</td>
<td>3</td>
<td>Bike</td>
<td>5.00</td>
</tr>
<tr>
<td>---------------</td>
<td>---------------</td>
<td>--------------------</td>
<td>------------------</td>
</tr>
<tr>
<td>3</td>
<td>4</td>
<td>Strawbery</td>
<td>20.00</td>
</tr>
<tr>
<td>---------------</td>
<td>---------------</td>
<td>--------------------</td>
<td>------------------</td>
</tr>
</tbody>
</table>
</div>
So to sum it up:
John had made a (first)transaction  with a total price of : 15.00
My problem is that what if I want to create another transaction but the system will just add up the last transaction I made.
Solutions taken:
Create a logs id of each transaction id and load it in the form so that when the user adds an item the system will log that the new item entered by John will be a new transaction. But what if some technical error happens like Johns computer freezes, and the transaction is not saved and Mary took the id that was supposed to be Johns. My main problem here is how to make my data reliable and accurate when keeping records. I hope someone helps meaving trouble designing my web app database.
I want to save every item the user will input but each item must be registered to a transaction id.
It is possible to do this on a single user only but when there are multiple users, the items are jumbled.
Below is my table design.
<strong>User_Table</strong>
<hr />
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>User_id</th>
<th>Name</th>
</tr>
</thead>
<tbody>
<tr>
<td>3</td>
<td>John</td>
</tr>
<tr>
<td>4</td>
<td>Mary</td>
</tr>
</tbody>
</table>
</div>
Items_Table
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>Items_id</th>
<th>User_Id</th>
<th>Item Name</th>
<th>Price</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>3</td>
<td>Car</td>
<td>10.00</td>
</tr>
<tr>
<td>---------------</td>
<td>---------------</td>
<td>--------------------</td>
<td>------------------</td>
</tr>
<tr>
<td>2</td>
<td>3</td>
<td>Bike</td>
<td>5.00</td>
</tr>
<tr>
<td>---------------</td>
<td>---------------</td>
<td>--------------------</td>
<td>------------------</td>
</tr>
<tr>
<td>3</td>
<td>4</td>
<td>Strawbery</td>
<td>20.00</td>
</tr>
<tr>
<td>---------------</td>
<td>---------------</td>
<td>--------------------</td>
<td>------------------</td>
</tr>
</tbody>
</table>
</div>
So to sum it up:
John had made a (first)transaction  with a total price of : 15.00
My problem is that what if I want to create another transaction but the system will just add up the last transaction I made.
Solutions taken:
Create a logs id of each transaction id and load it in the form so that when the user adds an item the system will log that the new item entered by John will be a new transaction. But what if some technical error happens like Johns computer freezes, and the transaction is not saved and Mary took the id that was supposed to be Johns. My main problem here is how to make my data reliable and accurate when keeping records. I hope someone helps me.",mysql
261,70190562,Postgresql - Update Query - How To Set Column Value To Be The Name Of The Last Column That Is Not null,"I have some data similar to that listed below:

The column <em>rejected_at_stage</em> is a new column that is to be backfilled to set the name of the stages column (stage1...stage5) that is the last instance (left to right) that is not null. For example, in row 2 the rejected_at_stage value is stage2. This is because stage1 is not null and stage2 is not null. However, stage3 has a null value. So the <em>rejected_at_stage</em> column = last non null value from stages columns (left to right) =&gt; stage 2.
Is it possible to do the following in postgresql to update the rejected_at_stage column for each row in a select statement?
<ul>
<li>find the last column that is not null from the given set of columns (e.g.[stage1, stage2...., stage5]</li>
<li>Update the rejected_at_stage column with the name of the column that was found</li>
</ul>",postgresql
262,70306977,how to query a list of values names in a column of PostgresSQL,"I'm fairly new to SQL, and am having trouble with a relatively simple query, but for some odd reason I cannot get it to work.
I am trying to pull a dataset based on values within that dataset meeting certain criteria. In python, it's relatively simple, but I cannot import the dataset of 20 million rows, and only need about 20 thousand.
Logically, I'd think you can pass a list of values to SQL to filter based on columns, but it doesn't seem to work.
My code is below:

However, that returns syntax error messages.
My though process was that since I can query by saying <code>WHERE column_1 = value_in_column_1</code>, I should be able to add additional values to it, but it seems it's not the case.
Any help is appreciated.",sql|postgresql
263,70328572,Find the book/books with the lowest average rating. Select book title and average rating,"You are given three tables:

data
<pre><code>insert into books (id, title, year, author) values (101,    &quot;A Tale Of Two Cities&quot;, 1859,   &quot;Charles Dickens&quot;);
insert into books (id, title, year, author) values (102,    &quot;The Lord of the Rings&quot;,    1955,   &quot;J. R. R. Tolkien&quot;);
insert into books (id, title, year, author) values (103,    &quot;The Hobbit&quot;,   1937,   &quot;J. R. R. Tolkien&quot;);
insert into books (id, title, year, author) values (104,    &quot;The Little Prince&quot;,    1943,   &quot;Antoine de Saint-Exupry&quot;);
insert into books (id, title, year, author) values (105,    &quot;Harry Potter and the Philosopher's Stone&quot;, 1997,   &quot;J. K. Rowling&quot;);
insert into books (id, title, year, author) values (106,    &quot;And Then There Were None&quot;, 1939,   &quot;Agatha Christie&quot;);
insert into books (id, title, year, author) values (107,    &quot;Dream of the Red Chamber&quot;, 1791,   null);
insert into books (id, title, year, author) values (108,    &quot;She: A History of Adventure&quot;,  1887,   &quot;H. Rider Haggard&quot;);
</code></pre>
Reviewers
<pre><code>insert into reviewers (id, name) values (15201, &quot;Joe Martinez&quot;);
insert into reviewers (id, name) values (53202, &quot;Alice Lewis&quot;);
insert into reviewers (id, name) values (44203, &quot;John Smith&quot;);
insert into reviewers (id, name) values (41204, &quot;Mike Anderson&quot;);
insert into reviewers (id, name) values (66205, &quot;Chris Thomas&quot;);
insert into reviewers (id, name) values (23206, &quot;Elizabeth Black&quot;);
insert into reviewers (id, name) values (24407, &quot;Jack Green&quot;);
insert into reviewers (id, name) values (25208, &quot;Mike White&quot;);
</code></pre>
Ratings
<pre><code>insert into ratings (reviewer_id, book_id, rating, rating_date) values (15201,  101,    2,  2015-02-11);
insert into ratings (reviewer_id, book_id, rating, rating_date) values (15201,  101,    4,  2015-06-16);
insert into ratings (reviewer_id, book_id, rating, rating_date) values (53202,  106,    4,  null);
insert into ratings (reviewer_id, book_id, rating, rating_date) values (44203,  103,    2,  2015-01-12);
insert into ratings (reviewer_id, book_id, rating, rating_date) values (44203,  108,    4,  2015-04-03);
insert into ratings (reviewer_id, book_id, rating, rating_date) values (44203,  108,    2,  2015-01-23);
insert into ratings (reviewer_id, book_id, rating, rating_date) values (41204,  101,    3,  2015-02-09);
insert into ratings (reviewer_id, book_id, rating, rating_date) values (66205,  103,    3,  2015-01-26);
insert into ratings (reviewer_id, book_id, rating, rating_date) values (66205,  104,    2,  2015-03-22);
insert into ratings (reviewer_id, book_id, rating, rating_date) values (66205,  108,    4,  null);
insert into ratings (reviewer_id, book_id, rating, rating_date) values (23206,  107,    3,  2015-01-15);
insert into ratings (reviewer_id, book_id, rating, rating_date) values (23206,  106,    5,  2015-03-19);
insert into ratings (reviewer_id, book_id, rating, rating_date) values (24407,  107,    5,  2015-05-20);
insert into ratings (reviewer_id, book_id, rating, rating_date) values (25208,  104,    3,  2015-09-02);
</code></pre>
Find the book/books with the lowest average rating. Select book title and average rating.
Expected results
<pre><code>The Hobbit          2.5000
The Little Prince   2.5000
</code></pre>
but my query is:
<pre><code>select books.title, avg(ratings.rating) as avg_rating from ratings join books on ratings.book_id = books.id
group by books.title
order by avg_rating desc;
</code></pre>
<a href=""https://i.stack.imgur.com/x917d.png"" rel=""nofollow noreferrer"">My result, but is wrong</a>
what's wrong in my query,
the lowest rating is:
Expected results
<a href=""https://i.stack.imgur.com/ME6z1.png"" rel=""nofollow noreferrer"">Expected results</a>",mysql
264,70219277,MySQL: Getting a row from another table that has a column value over the current one,"Apologies for the weird title phrasing, but I honestly don't know how to explain this any better. The query in itself with the context might be clearer, though:

I have log entries that have tiers depending on their value. So for instance, a log entry could have a value of 50 and have Tier 1 which is for values over 25. I could have Tier 2 which is 100, so as long as a value is between 50 and 100, it'll be Tier 1... You get the idea.<br />
So basically, the idea here is that I have a trigger that's being run when a new tier is being inserted. As you can see in the query above, I want to update the existing log entries with the new tier that's being added. I have no issues updating all the entries whose values are over the newly added tier's threshold, however, I do not know how to prevent entries that are above the next existing tier from being updated (because they're not included in the [new tier; next tier] interval). The &quot;1000&quot; that I wrote in the query is what should be the value of the next tier, and I just don't know how to retrieve that.<br />
Thanks for the help and sorry for the messy explanation!",mysql
265,70266262,Find rows in MySQL table with duplicate Employee No and expose the fields within those rows that differ,"I can find the duplicate Employee No and then identify of the 2 (or more) rows which fields differ but need a query which tell me the fields that differ.
i.e.<br>
ID|EmployeeNo|Name|Job|Salary|Country<br>
1 | 1234|Fred|Analyst|50,000|UK<br>
2|1234|Fred|Engineer|50,000|UK<br>
3|2345|John|Typist|25,000|UK<br>
4|5678|Rose|Florist|10,000|UK<br>
5|5678|Rose|Actress|60,000|UK<br>
6|9999|Sid|Driver|10,000|UK<br>
7|9999|Sid|Driver|20,000|Germany<br>
8|9999|Sid|Driver|20,000|UK<br>
So, I'm trying to develop a query that tells me I have duplicate EmployeeNo records and what fields differ
i.e. 1234 occurs twice and the Job field differs<br>
5678 occurs twice and the Job field and the Salary field differ<br>
9999 occurs 3 times and the Salary and Country fields have differences
My table is much wider and longer than this, so looking for the differences is not that easy, having to scan across the adjacent rows to spot the fields that diffefind the duplicate Employee No and then identify of the 2 (or more) rows which fields differ but need a query which tell me the fields that differ.
i.e.<br>
ID|EmployeeNo|Name|Job|Salary|Country<br>
1 | 1234|Fred|Analyst|50,000|UK<br>
2|1234|Fred|Engineer|50,000|UK<br>
3|2345|John|Typist|25,000|UK<br>
4|5678|Rose|Florist|10,000|UK<br>
5|5678|Rose|Actress|60,000|UK<br>
6|9999|Sid|Driver|10,000|UK<br>
7|9999|Sid|Driver|20,000|Germany<br>
8|9999|Sid|Driver|20,000|UK<br>
So, I'm trying to develop a query that tells me I have duplicate EmployeeNo records and what fields differ
i.e. 1234 occurs twice and the Job field differs<br>
5678 occurs twice and the Job field and the Salary field differ<br>
9999 occurs 3 times and the Salary and Country fields have differences
My table is much wider and longer than this, so looking for the differences is not that easy, having to scan across the adjacent rows to spot the fields that diffe find the duplicate Employee No and then identify of the 2 (or more) rows which fields differ but need a query which tell me the fields that differ.
i.e.<br>
ID|EmployeeNo|Name|Job|Salary|Country<br>
1 | 1234|Fred|Analyst|50,000|UK<br>
2|1234|Fred|Engineer|50,000|UK<br>
3|2345|John|Typist|25,000|UK<br>
4|5678|Rose|Florist|10,000|UK<br>
5|5678|Rose|Actress|60,000|UK<br>
6|9999|Sid|Driver|10,000|UK<br>
7|9999|Sid|Driver|20,000|Germany<br>
8|9999|Sid|Driver|20,000|UK<br>
So, I'm trying to develop a query that tells me I have duplicate EmployeeNo records and what fields differ
i.e. 1234 occurs twice and the Job field differs<br>
5678 occurs twice and the Job field and the Salary field differ<br>
9999 occurs 3 times and the Salary and Country fields have differences
My table is much wider and longer than this, so looking for the differences is not that easy, having to scan across the adjacent rows to spot the fields that diffefind the duplicate Employee No and then identify of the 2 (or more) rows which fields differ but need a query which tell me the fields that differ.
i.e.<br>
ID|EmployeeNo|Name|Job|Salary|Country<br>
1 | 1234|Fred|Analyst|50,000|UK<br>
2|1234|Fred|Engineer|50,000|UK<br>
3|2345|John|Typist|25,000|UK<br>
4|5678|Rose|Florist|10,000|UK<br>
5|5678|Rose|Actress|60,000|UK<br>
6|9999|Sid|Driver|10,000|UK<br>
7|9999|Sid|Driver|20,000|Germany<br>
8|9999|Sid|Driver|20,000|UK<br>
So, I'm trying to develop a query that tells me I have duplicate EmployeeNo records and what fields differ
i.e. 1234 occurs twice and the Job field differs<br>
5678 occurs twice and the Job field and the Salary field differ<br>
9999 occurs 3 times and the Salary and Country fields have differences
My table is much wider and longer than this, so looking for the differences is not that easy, having to scan across the adjacent rows to spot the fields that differ",mysql
266,70204523,Trying create multuple table using LIKE from multiple tables as source using arrays,"I have two base tables 
and I am trying to create two new tables from these tables as <code>&quot;tutorials_tb2_new&quot;,&quot;tutorials_tbl_new&quot;</code>
So <code>tutorials_tb2</code> will be source to <code>tutorials_tb2_new</code> and similarly <code>tutorials_tbl</code> to <code>tutorials_tbl_new</code>
I am trying by creating a MySQL function with new and orig tables as array by using <code>JSON_*</code> methods
<pre class=""lang-sql prettyprint-override""><code>DELIMITER //
CREATE FUNCTION example()
BEGIN
  
DECLARE _counter INT DEFAULT 0;
DECLARE _value varchar(50);

SET @origTables = '[&quot;tutorials_tb2&quot;,&quot;tutorials_tbl&quot;]';
SET @newTables = '[&quot;tutorials_tb2_new&quot;,&quot;tutorials_tbl_new&quot;]';

WHILE _counter &lt; JSON_LENGTH(@origTables) DO

CREATE TABLE JSON_VALUE(@newTables, CONCAT('$[',_counter,']')) LIKE JSON_VALUE(@origTables, CONCAT('$[',_counter,']'))
SET _counter = _counter + 1;

END WHILE;
END //

DELIMITER ;

SELECT example();
</code></pre>
And while executing I am getting below error

And while executing I am getting below error
<pre><code>ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'BEGIN

DECLARE _counter INT DEFAULT 0;
DECLARE _value varchar(50);

SET @origT' at line 2
MySQL&gt;
</code></pre>",mysql
267,70359565,Unique Query By Date with highest ID taking precidence,"I am trying to get the newest unique dates, returning the date and the item.  I have made a example here, but its not giving me unique dates only.

See there are three items on the 16th, where I should only have the Pie on that day.  Any suggestions please.  MYSQL v8.  dinner_id is primary key.
<a href=""https://i.stack.imgur.com/NtQBu.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/NtQBu.png"" alt=""enter image description here"" /></a>",mysql
268,70030214,how to case when statistics data row in mysql,"I am writing a statistic query.
The case when statement is showing the total count according to the user's department position information.
When a date condition is added If there is no position updated or added on the date
The position does not show in the data row,
How can I display the positions in the CASE WHEN condition even if I do not have a position?
ex) position is counted as 0.
<div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""></pre>
</div>
</div>
</div>
</div>
",mysql
269,70057590,Update current record field after update has been made on it,"I have a table called . With fields <code>id, end_date, status</code>. Whenever the payment status is updated to <code>true</code> I want to automatically add an <code>end_date</code> of CURRENT_DATE. I am trying to write a trigger for this but can't get it to work.
<pre class=""lang-sql prettyprint-override""><code>create function update_date() returns trigger
as $$
    BEGIN
        update payment
        SET end_date = CURRENT_DATE
        END; $$ LANGUAGE plpgsql;
CREATE TRIGGER update_date AFTER UDATE ON payment
FOR EACH ROW EXECUTE FUNCTION update_date()
</code></pre",sql|postgresql
270,70035972,"MySQL, Formatting additional entries into columns","Not sure i am explaining it well in the title,
I am trying to create a few views, but i am wondering if what i am wanting to accomplish is even possible.
I have a table:

The Unique of the table on this is Column1, Column2, Column3.
When querying this data in a view, because of the type of join i am getting, i am getting Column1, and Column 2 showing multiple times because of the multiple entries in Column 3. This is what i expected.
But is there any way or query in sql that can do something like:
for-each column 3, assigning it to column4, column5, column5.
For example:
<pre><code>|Column1|Column2|Column3|  Column4  |  Column3a |  Column3b |  Column3c |
|  1    |1234   | Foo   | 19/11/2021|   Foo     |   Bar     |   Baz     | 
|  2    |1234   | Foo   | 19/11/2021|   Foo     |   Bar     |   Baz     | 
|  3    |1234   | Foo   | 19/11/2021|   Foo     |   Bar     |   Baz     | 
</code></pre>
The number of unique in Column3 can be be any, so it would have to be programmable like a foreach column+1
This is working with existing data, so its not possible to reformat how its already present, i am working with a poorly designed database and trying to create views to make it more readable and workable for a API Endpoint",mysql
271,70034682,Eliminate zero values and put values in two different columns in one row,"<a href=""https://dbfiddle.uk/?rdbms=postgres_13&amp;fiddle=d36c040c667a974fd5ad813832562fd0"" rel=""nofollow noreferrer"">DB-Fiddle</a>

Expected result:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>product</th>
<th>inbound_type</th>
<th style=""text-align: right;"">quantity_data_source_01</th>
<th style=""text-align: right;"">quantity_data_source_02</th>
</tr>
</thead>
<tbody>
<tr>
<td>product_a</td>
<td>type_01</td>
<td style=""text-align: right;"">500</td>
<td style=""text-align: right;"">980</td>
</tr>
<tr>
<td>product_a</td>
<td>type_02</td>
<td style=""text-align: right;"">200</td>
<td style=""text-align: right;"">315</td>
</tr>
<tr>
<td>product_b</td>
<td>type_01</td>
<td style=""text-align: right;"">130</td>
<td style=""text-align: right;"">760</td>
</tr>
<tr>
<td>product_b</td>
<td>type_02</td>
<td style=""text-align: right;"">320</td>
<td style=""text-align: right;"">512</td>
</tr>
<tr>
<td>product_c</td>
<td>type_01</td>
<td style=""text-align: right;"">700</td>
<td style=""text-align: right;"">125</td>
</tr>
<tr>
<td>product_c</td>
<td>type_02</td>
<td style=""text-align: right;"">850</td>
<td style=""text-align: right;"">720</td>
</tr>
</tbody>
</table>
</div>
I want to compare the <code>quantity</code> per <code>product</code> and <code>inbound_type</code> in two different <code>data_sources</code>.
I was able to come close to the result with this query:
<pre><code>SELECT
    i.data_source AS date_source,
    i.product AS product,
    i.inbound_type AS inbound_type,
    (CASE WHEN i.data_source = 'data_source_01' THEN SUM(i.quantity) ELSE 0 END) AS quantity_data_source_01,
    (CASE WHEN i.data_source = 'data_source_02' THEN SUM(i.quantity) ELSE 0 END) AS quantity_data_source_02
FROM 
    check_inbound i
GROUP BY 
    1, 2, 3
ORDER BY 2,1
</code></pre>
However, I could not figure out how I can get rid of the rows with the zero values and put the quantities on the same line as in the expected result.
Do you have any idea what I need to change to make it work?",sql|postgresql
272,70210631,Mysql compare different rows,"i have the following table
id | user | date | value. I need to find users that have values on eg October month but they dont have on November month.
I ve tried the following code around.
",mysql
273,70047481,How to split one table into multiple tables with different columns (PostgreSQL)?,"I have one single table with 25 columns and I want to split it into 3 or 4 tables with a smaller column count. Below is a simplified example as a reference:
This is the big table
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>supplier</th>
<th>brand</th>
<th>sku</th>
<th>product_class</th>
<th>size</th>
<th>sales</th>
<th>trans_id</th>
</tr>
</thead>
<tbody>
<tr>
<td>supplier_1</td>
<td>brand_1</td>
<td>sku_1</td>
<td>class_1</td>
<td>3.5</td>
<td>100</td>
<td>1</td>
</tr>
<tr>
<td>supplier_1</td>
<td>brand_2</td>
<td>sku_2</td>
<td>class_1</td>
<td>3.5</td>
<td>200</td>
<td>2</td>
</tr>
</tbody>
</table>
</div>
I need something like this:
product_info
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>sku</th>
<th>product_class</th>
<th>size</th>
<th>trans_id</th>
</tr>
</thead>
<tbody>
<tr>
<td>sku_1</td>
<td>class_1</td>
<td>3.5</td>
<td>1</td>
</tr>
<tr>
<td>sku_2</td>
<td>class_1</td>
<td>3.5</td>
<td>2</td>
</tr>
</tbody>
</table>
</div>
product_sales
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>supplier</th>
<th>brand</th>
<th>sales</th>
<th>trans_id</th>
</tr>
</thead>
<tbody>
<tr>
<td>supplier_1</td>
<td>brand_1</td>
<td>100</td>
<td>1</td>
</tr>
<tr>
<td>supplier_1</td>
<td>brand_2</td>
<td>200</td>
<td>2</td>
</tr>
</tbody>
</table>
</div>
In this case, trans_id from the product_info table would be my PRIMARY KEY one single table with 25 columns and I want to split it into 3 or 4 tables with a smaller column count. Below is a simplified example as a reference:
This is the big table
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>supplier</th>
<th>brand</th>
<th>sku</th>
<th>product_class</th>
<th>size</th>
<th>sales</th>
<th>trans_id</th>
</tr>
</thead>
<tbody>
<tr>
<td>supplier_1</td>
<td>brand_1</td>
<td>sku_1</td>
<td>class_1</td>
<td>3.5</td>
<td>100</td>
<td>1</td>
</tr>
<tr>
<td>supplier_1</td>
<td>brand_2</td>
<td>sku_2</td>
<td>class_1</td>
<td>3.5</td>
<td>200</td>
<td>2</td>
</tr>
</tbody>
</table>
</div>
I need something like this:
product_info
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>sku</th>
<th>product_class</th>
<th>size</th>
<th>trans_id</th>
</tr>
</thead>
<tbody>
<tr>
<td>sku_1</td>
<td>class_1</td>
<td>3.5</td>
<td>1</td>
</tr>
<tr>
<td>sku_2</td>
<td>class_1</td>
<td>3.5</td>
<td>2</td>
</tr>
</tbody>
</table>
</div>
product_sales
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>supplier</th>
<th>brand</th>
<th>sales</th>
<th>trans_id</th>
</tr>
</thead>
<tbody>
<tr>
<td>supplier_1</td>
<td>brand_1</td>
<td>100</td>
<td>1</td>
</tr>
<tr>
<td>supplier_1</td>
<td>brand_2</td>
<td>200</td>
<td>2</td>
</tr>
</tbody>
</table>
</div>
In this case, trans_id from the product_info table would be my PRIMARY KEYe one single table with 25 columns and I want to split it into 3 or 4 tables with a smaller column count. Below is a simplified example as a reference:
This is the big table
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>supplier</th>
<th>brand</th>
<th>sku</th>
<th>product_class</th>
<th>size</th>
<th>sales</th>
<th>trans_id</th>
</tr>
</thead>
<tbody>
<tr>
<td>supplier_1</td>
<td>brand_1</td>
<td>sku_1</td>
<td>class_1</td>
<td>3.5</td>
<td>100</td>
<td>1</td>
</tr>
<tr>
<td>supplier_1</td>
<td>brand_2</td>
<td>sku_2</td>
<td>class_1</td>
<td>3.5</td>
<td>200</td>
<td>2</td>
</tr>
</tbody>
</table>
</div>
I need something like this:
product_info
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>sku</th>
<th>product_class</th>
<th>size</th>
<th>trans_id</th>
</tr>
</thead>
<tbody>
<tr>
<td>sku_1</td>
<td>class_1</td>
<td>3.5</td>
<td>1</td>
</tr>
<tr>
<td>sku_2</td>
<td>class_1</td>
<td>3.5</td>
<td>2</td>
</tr>
</tbody>
</table>
</div>
product_sales
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>supplier</th>
<th>brand</th>
<th>sales</th>
<th>trans_id</th>
</tr>
</thead>
<tbody>
<tr>
<td>supplier_1</td>
<td>brand_1</td>
<td>100</td>
<td>1</td>
</tr>
<tr>
<td>supplier_1</td>
<td>brand_2</td>
<td>200</td>
<td>2</td>
</tr>
</tbody>
</table>
</div>
In this case, trans_id from the product_info table would be my PRIMARY KEY one single table with 25 columns and I want to split it into 3 or 4 tables with a smaller column count. Below is a simplified example as a reference:
This is the big table
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>supplier</th>
<th>brand</th>
<th>sku</th>
<th>product_class</th>
<th>size</th>
<th>sales</th>
<th>trans_id</th>
</tr>
</thead>
<tbody>
<tr>
<td>supplier_1</td>
<td>brand_1</td>
<td>sku_1</td>
<td>class_1</td>
<td>3.5</td>
<td>100</td>
<td>1</td>
</tr>
<tr>
<td>supplier_1</td>
<td>brand_2</td>
<td>sku_2</td>
<td>class_1</td>
<td>3.5</td>
<td>200</td>
<td>2</td>
</tr>
</tbody>
</table>
</div>
I need something like this:
product_info
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>sku</th>
<th>product_class</th>
<th>size</th>
<th>trans_id</th>
</tr>
</thead>
<tbody>
<tr>
<td>sku_1</td>
<td>class_1</td>
<td>3.5</td>
<td>1</td>
</tr>
<tr>
<td>sku_2</td>
<td>class_1</td>
<td>3.5</td>
<td>2</td>
</tr>
</tbody>
</table>
</div>
product_sales
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>supplier</th>
<th>brand</th>
<th>sales</th>
<th>trans_id</th>
</tr>
</thead>
<tbody>
<tr>
<td>supplier_1</td>
<td>brand_1</td>
<td>100</td>
<td>1</td>
</tr>
<tr>
<td>supplier_1</td>
<td>brand_2</td>
<td>200</td>
<td>2</td>
</tr>
</tbody>
</table>
</div>
In this case, trans_id from the product_info table would be my PRIMARY KEY.",sql|postgresql
274,70168926,is there any way in mysql to rollup and merge columns at the same time?,"if there is a table of the format
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th style=""text-align: center;"">continent</th>
<th style=""text-align: right;"">country</th>
<th style=""text-align: right;"">val</th>
</tr>
</thead>
<tbody>
<tr>
<td style=""text-align: center;"">A</td>
<td style=""text-align: right;"">X</td>
<td style=""text-align: right;"">10</td>
</tr>
<tr>
<td style=""text-align: center;"">A</td>
<td style=""text-align: right;"">Y</td>
<td style=""text-align: right;"">20</td>
</tr>
<tr>
<td style=""text-align: center;"">B</td>
<td style=""text-align: right;"">Z</td>
<td style=""text-align: right;"">30</td>
</tr>
</tbody>
</table>
</div>
the output should look like
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>region</th>
<th>val</th>
</tr>
</thead>
<tbody>
<tr>
<td>A</td>
<td>30</td>
</tr>
<tr>
<td>B</td>
<td>30</td>
</tr>
<tr>
<td>X</td>
<td>10</td>
</tr>
<tr>
<td>Y</td>
<td>20</td>
</tr>
<tr>
<td>Z</td>
<td>30</td>
</tr>
</tbody>
</table>
</divre is a table of the format
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th style=""text-align: center;"">continent</th>
<th style=""text-align: right;"">country</th>
<th style=""text-align: right;"">val</th>
</tr>
</thead>
<tbody>
<tr>
<td style=""text-align: center;"">A</td>
<td style=""text-align: right;"">X</td>
<td style=""text-align: right;"">10</td>
</tr>
<tr>
<td style=""text-align: center;"">A</td>
<td style=""text-align: right;"">Y</td>
<td style=""text-align: right;"">20</td>
</tr>
<tr>
<td style=""text-align: center;"">B</td>
<td style=""text-align: right;"">Z</td>
<td style=""text-align: right;"">30</td>
</tr>
</tbody>
</table>
</div>
the output should look like
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>region</th>
<th>val</th>
</tr>
</thead>
<tbody>
<tr>
<td>A</td>
<td>30</td>
</tr>
<tr>
<td>B</td>
<td>30</td>
</tr>
<tr>
<td>X</td>
<td>10</td>
</tr>
<tr>
<td>Y</td>
<td>20</td>
</tr>
<tr>
<td>Z</td>
<td>30</td>
</tr>
</tbody>
</table>
</divere is a table of the format
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th style=""text-align: center;"">continent</th>
<th style=""text-align: right;"">country</th>
<th style=""text-align: right;"">val</th>
</tr>
</thead>
<tbody>
<tr>
<td style=""text-align: center;"">A</td>
<td style=""text-align: right;"">X</td>
<td style=""text-align: right;"">10</td>
</tr>
<tr>
<td style=""text-align: center;"">A</td>
<td style=""text-align: right;"">Y</td>
<td style=""text-align: right;"">20</td>
</tr>
<tr>
<td style=""text-align: center;"">B</td>
<td style=""text-align: right;"">Z</td>
<td style=""text-align: right;"">30</td>
</tr>
</tbody>
</table>
</div>
the output should look like
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>region</th>
<th>val</th>
</tr>
</thead>
<tbody>
<tr>
<td>A</td>
<td>30</td>
</tr>
<tr>
<td>B</td>
<td>30</td>
</tr>
<tr>
<td>X</td>
<td>10</td>
</tr>
<tr>
<td>Y</td>
<td>20</td>
</tr>
<tr>
<td>Z</td>
<td>30</td>
</tr>
</tbody>
</table>
</divre is a table of the format
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th style=""text-align: center;"">continent</th>
<th style=""text-align: right;"">country</th>
<th style=""text-align: right;"">val</th>
</tr>
</thead>
<tbody>
<tr>
<td style=""text-align: center;"">A</td>
<td style=""text-align: right;"">X</td>
<td style=""text-align: right;"">10</td>
</tr>
<tr>
<td style=""text-align: center;"">A</td>
<td style=""text-align: right;"">Y</td>
<td style=""text-align: right;"">20</td>
</tr>
<tr>
<td style=""text-align: center;"">B</td>
<td style=""text-align: right;"">Z</td>
<td style=""text-align: right;"">30</td>
</tr>
</tbody>
</table>
</div>
the output should look like
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>region</th>
<th>val</th>
</tr>
</thead>
<tbody>
<tr>
<td>A</td>
<td>30</td>
</tr>
<tr>
<td>B</td>
<td>30</td>
</tr>
<tr>
<td>X</td>
<td>10</td>
</tr>
<tr>
<td>Y</td>
<td>20</td>
</tr>
<tr>
<td>Z</td>
<td>30</td>
</tr>
</tbody>
</table>
</div>",mysql
275,70065092,agregate sales totals per years per customer in one transaction,"i have a normal turnover table with 3 columns &quot;customer&quot; , &quot;year&quot;, &quot;amount&quot;
(for example)
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>customer</th>
<th>year</th>
<th>amount</th>
</tr>
</thead>
<tbody>
<tr>
<td>anton</td>
<td>2020</td>
<td>$5</td>
</tr>
<tr>
<td>paul</td>
<td>2019</td>
<td>$12</td>
</tr>
<tr>
<td>anton</td>
<td>2021</td>
<td>$5</td>
</tr>
<tr>
<td>paul</td>
<td>2019</td>
<td>$10</td>
</tr>
<tr>
<td>felicia</td>
<td>2021</td>
<td>$5</td>
</tr>
<tr>
<td>anton</td>
<td>2019</td>
<td>$12</td>
</tr>
<tr>
<td>felipe</td>
<td>2019</td>
<td>$12</td>
</tr>
</tbody>
</table>
</div>
and i have the following mysql query
<pre class=""lang-sql prettyprint-override""></pre>
This transaction gives me a nice Paretto table with the sales of each customer in descending order
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>name</th>
<th>sales all years</th>
</tr>
</thead>
<tbody>
<tr>
<td>customer1</td>
<td>sum of all transactions of customer1</td>
</tr>
<tr>
<td>customer2</td>
<td>sum of all transactions of customer2</td>
</tr>
<tr>
<td>customer3</td>
<td>sum of all transactions of customer3</td>
</tr>
</tbody>
</table>
</div>
so far so good, i want to go one step further and i want to create the following table
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>Name</th>
<th>Sales all years</th>
<th>Sales 2021</th>
<th>Sales2020</th>
<th>Sales2019</th>
</tr>
</thead>
<tbody>
<tr>
<td>customer1</td>
<td>sum1</td>
<td>sum2021 from customer1</td>
<td>sum2020 from customer1</td>
<td>sum2019 from customer1</td>
</tr>
<tr>
<td>customer2</td>
<td>sum2</td>
<td>sum2021 from customer2</td>
<td>sum2020 from customer2</td>
<td>sum2019 from customer2</td>
</tr>
<tr>
<td>customer3</td>
<td>sum3</td>
<td>sum2021 from customer3</td>
<td>sum2020 from customer3</td>
<td>sum2019 from customer3</td>
</tr>
</tbody>
</table>
</div>
but i want to do it in only one transaction, because the initial table is very huge.
can someone give a hint ?
p.S. feel free to edit the title since I am not very inspired toda
This transaction gives me a nice Paretto table with the sales of each customer in descending order
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>name</th>
<th>sales all years</th>
</tr>
</thead>
<tbody>
<tr>
<td>customer1</td>
<td>sum of all transactions of customer1</td>
</tr>
<tr>
<td>customer2</td>
<td>sum of all transactions of customer2</td>
</tr>
<tr>
<td>customer3</td>
<td>sum of all transactions of customer3</td>
</tr>
</tbody>
</table>
</div>
so far so good, i want to go one step further and i want to create the following table
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>Name</th>
<th>Sales all years</th>
<th>Sales 2021</th>
<th>Sales2020</th>
<th>Sales2019</th>
</tr>
</thead>
<tbody>
<tr>
<td>customer1</td>
<td>sum1</td>
<td>sum2021 from customer1</td>
<td>sum2020 from customer1</td>
<td>sum2019 from customer1</td>
</tr>
<tr>
<td>customer2</td>
<td>sum2</td>
<td>sum2021 from customer2</td>
<td>sum2020 from customer2</td>
<td>sum2019 from customer2</td>
</tr>
<tr>
<td>customer3</td>
<td>sum3</td>
<td>sum2021 from customer3</td>
<td>sum2020 from customer3</td>
<td>sum2019 from customer3</td>
</tr>
</tbody>
</table>
</div>
but i want to do it in only one transaction, because the initial table is very huge.
can someone give a hint ?
p.S. feel free to edit the title since I am not very inspired today",mysql
276,70074124,How do I perform aggregate query which returns 'grouping criteria' as a table header?,"I am having , which has many <code>Task</code> objects are linked by <code>id</code> of Project , each <code>Task</code> has a status. I want to do an aggregate query that summarize all status of Tasks in Projects. I do a query

But the result return each status of each project in one line.
<pre><code>name   status   size
-----  -------  -----
t1     foo      1
t1     bar      2
t2     foo      3
t2     bar      4
</code></pre>
I want to to the result like this:
<pre><code>name   foo   bar
-----  ----  ----
t1     1     1
t2     3     4
</code></pre>
How can I do that in SQL (I am using Postgres) ? Thanks.",sql|postgresql
277,70270136,Query with multiple AND conditions,"I have my query like below
<pre class=""lang-sql prettyprint-override""></pre>
It's giving me expected output like below
<a href=""https://i.stack.imgur.com/oiZQW.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/oiZQW.png"" alt=""enter image description here"" /></a>
But I want add one more condition called link_order_id ='abcde', so I am trying like below
<pre class=""lang-sql prettyprint-override""><code>SELECT dates,
       COUNT(link_data_id) as TotalClicks,
       sum(case when link_redirect_status = 1 then 1 else 0 end) AS GoodClicks, 
       sum(case when link_redirect_status != 1 then 1 else 0 end) AS BadClicks 
FROM tbl_calendar 
LEFT JOIN tbl_links_data ON dates = CAST(link_data_time AS DATE) 
WHERE link_order_id = 'abcde' 
  AND (`dates` BETWEEN '2021-11-28' AND DATE_ADD('2021-11-28', INTERVAL 7 DAY)) 
GROUP BY dates
</code></pre>
But it's giving me only two rows like below
<a href=""https://i.stack.imgur.com/OLTqT.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/OLTqT.png"" alt=""enter image description here"" /></a>
Why I am getting only two rows instead of 8 rows like first picture
It's giving me expected output like below
<a href=""https://i.stack.imgur.com/oiZQW.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/oiZQW.png"" alt=""enter image description here"" /></a>
But I want add one more condition called link_order_id ='abcde', so I am trying like below
<pre class=""lang-sql prettyprint-override""><code>SELECT dates,
       COUNT(link_data_id) as TotalClicks,
       sum(case when link_redirect_status = 1 then 1 else 0 end) AS GoodClicks, 
       sum(case when link_redirect_status != 1 then 1 else 0 end) AS BadClicks 
FROM tbl_calendar 
LEFT JOIN tbl_links_data ON dates = CAST(link_data_time AS DATE) 
WHERE link_order_id = 'abcde' 
  AND (`dates` BETWEEN '2021-11-28' AND DATE_ADD('2021-11-28', INTERVAL 7 DAY)) 
GROUP BY dates
</code></pre>
But it's giving me only two rows like below
<a href=""https://i.stack.imgur.com/OLTqT.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/OLTqT.png"" alt=""enter image description here"" /></a>
Why I am getting only two rows instead of 8 rows like first picture?",mysql
278,70252400,Postgres: How to find rows in which a specific column has 'empty' values?,"I need to find rows which have a empty values in a column after a CSV import.
The column is an  column, hence the
<pre class=""lang-sql prettyprint-override""><code>...
where col = ''
</code></pre>
doesn't work for me
doesn't work for me.",sql|postgresql
279,70089246,Delete rows with a matching column - MySQL,"I am not sure what to title this, so feel free to edit it if you have a better one.
I currently have the following table in my database (It has many more rows than this):

I want to delete all columns that have a Group ID (<code>group_id</code>) of &quot;5532&quot; using a MySQL command within PHP MyAdmin. Is there a MySQL command that can delete all rows with a Group ID of &quot;5532&quot;?
What I want the table to look like after the command is run:
<pre><code>|-----------------|
|Account |Group ID|
|--------|--------|
|HDayGrp |  2212  |
|awesome |  4422  |
</code></pre>
Thanks in advance.",mysql
280,70125824,Looking to select only first of set,"In my query I am able to successfully extract the mass data, however it would be very helpful if I am able to drill down to only selecting the first project start date of the data set.
I've tried adding a (MIN) to my query but it errors out, any suggestions ?
For clarification, I am looking to select the first project start date on a particular contract. Any contract can have (n) # of projects. My goal is to detect the first of them.
Here is my query :
",mysql
281,70206299,Extract String between string and character,"I have a column that brings me several pieces of information. They are all like:

But the character lenght of the information is not fixed, and sometimes user id comes after employee, there's no set order.
How can I create columns with each specific value?",mysql
282,70110810,How to Get data from Index Key in MySQL?,"I have 2 tables. One  and one <code>logs</code>.
In <code>users</code> we have these columns:

and in <code>logs</code>:
<pre><code>ID | Player | Admin
</code></pre>
Player and Admin are index keys which are related to <code>users</code> table. I want to use a simple sql query to return Player and Admin name. I'm using this:
<pre class=""lang-sql prettyprint-override""><code>SELECT users.ID, users.Name, (SELECT users.Name FROM users WHERE users.ID = logs.Admin) AS Admin FROM users INNER JOIN logs ON users.Log = logs.ID
</code></pre>
I'm not familiar with MySQL... So can you guys help me with better query?",mysql
283,70142186,How to find the number of daily active users on an app for a given date range?,"I have this table in MySQL.
*<em>user_id  event_date_time  Event</em>
7494212  1535308430      Opened app
7494212  1535308433      Closed app
1475185  1535308444      Registered
6946725  1535308475      Opened app
6946725  1535308476      Made a purchase
6946725  1535308477      Closed app
This has millions of rows where event date time is in unix timestamp format.
I need to find the number of daily active users and monthly active users for the month of July-19. I tried the below mentioned query but it is not working in MySQL. Please help.
",mysql
284,70045476,How to create table with all combinations of values,"I want to create a table of all combinations of values so that I could left join another table(t2) on it (I do this for vizualization in Tableua). This table(t2) should have 6 columns, 4 of them I can select from one table(t1),but other 2 are flags calculated in t2. So I came up only with solution where I have to create table(t3) with two columns (first and second flag) insert there all combinations

And only then cross join them with other 4 columns in t1
<pre><code>select distinct flg1,flg2,...
from t1
cross join t3
</code></pre>
But this looks comlicated. Maybe there is a way to do this without inserting values into new table?",postgresql
285,70101435,"SQL, How do I add a column which needs to be a primary key, unique and auto-incrementing? Error says syntax error at or near ""IDENTITY""",,sql|postgresql
286,70154614,"How can we cast a string, 21 Jul 2016 23:38:01, into date and time format?","How can we cast a column named DateEventRecorded with strings like this 21 Jul 2016 23:38:01 into DATETIME format? The table name is patients_observations.
I tried to cast it using the cast function, but there is an &quot;invalid date&quot; errorn we cast a column named DateEventRecorded with strings like this 21 Jul 2016 23:38:01 into DATETIME format? The table name is patients_observations.
I tried to cast it using the cast function, but there is an &quot;invalid date&quot; erroran we cast a column named DateEventRecorded with strings like this 21 Jul 2016 23:38:01 into DATETIME format? The table name is patients_observations.
I tried to cast it using the cast function, but there is an &quot;invalid date&quot; errorn we cast a column named DateEventRecorded with strings like this 21 Jul 2016 23:38:01 into DATETIME format? The table name is patients_observations.
I tried to cast it using the cast function, but there is an &quot;invalid date&quot; error.",google-bigquery
287,70315215,Select subquery slow down the execution how to fix it,"
tr10_project_payment table has 400000 records. This whole query will take approx 35s to execute any Anyone know how can i fix the performance issue.",mysql
288,70225125,HOW to avoid completely showing data which is in another MySQL table?,"I am trying to avoid some data which is already in two tables... which means... I used the select statement to get an advertisement which is stored in MySql database using Member Id and I use JOIN tables... there is no problem... all advertisements are showing perfectly which are belong to the member package...
Now the problem is... after the member clicks on an advertisement... it's stored in a table which is called &quot;view&quot; with the date of click, ad_id, and member id. And again the same member should not be able to click that advertisement till the next day... I need to avoid showing that advertisement data using select statements with the condition...
can anyone help me, please? I paste my query below
",mysql
289,70315990,mysql error 1442 trigger when inserting a new record from table A to table B and vice versa,"I have these two triggers, which trigger A inserts from table A to table B, and vice-versa :

and this second trigger
<pre><code>DELIMITER //    
CREATE TRIGGER insert_user_ibu
BEFORE INSERT ON ibu FOR EACH ROW
    BEGIN
        INSERT into user (name, username, email, password, dob, phone, level_id, is_active,created_at, updated_at) 
        VALUES (new.nama_ibu, new.email, new.email, md5('qwerty'), new.tgl_lahir, new.no_hp, '3', '1', NOW(), NOW());
    END; //
</code></pre>
But after I create both trigger insert regardless before or after, I execute this :
<pre><code>insert into user(id, name, username, phone, dob, email, password, level_id, is_active, created_at, updated_at) values 
('30', 'Janice', 'janice123@yahoo.com', '087769958123', '2001-01-01', 'janice123@yahoo.com', md5('admin123'), '3', '1', NOW(), NOW());
</code></pre>
or this
<pre><code>insert into ibu(id, nama_ibu, tempat_lahir, tgl_lahir, gol_dar, pendidikan, pekerjaan, alamat, city_id, province_id, no_hp, email, created_by, updated_by, created_at, updated_at) values 
('5', 'Jessica', '1201', '2000-01-01', 'O', 'Tidak Sekolah', 'Tidak Bekerja', 'Testing', '1201', '12', '081211223344', 'jessica123@gmail.com', '1', '1', NOW(), NOW());
</code></pre>
it won't work, and show error :
<pre><code>1442 - Can't update table 'user' in stored function/trigger because it is already used by statement which invoked this stored function/trigger
</code></pre>
the trigger function means, I want to insert a record to table A, so in table B are inserted too, and vice-versa. But it shows error. Anybody have solution this? So, I can insert a record, from table A is inserted in table B too, and from table B is inserted in table A.",mysql
290,70108096,how can exclude id with having multiple value?,"i have 3 store_id (0,1,6) . i only want to get id have storeid &lt;&gt; 0 , but 24340 also have storeid =0 , i also want remove it too
Original:

Expected:
<pre><code>valueid   store_id
24346     6
24345     6
24345     1
</code></pre>
tried using store_id NOT IN (0,1,6) or store_id&lt;&gt;0 And store_id&lt;&gt;1 AND store_id&lt;&gt;6 but seeem not working",mysql
291,70165504,Unable to find my.cnf in MySQL version mysql-5.7.35,"I have installed mysql-5.7.35, with the command
&quot;bin/mysqld --initialize    --user=mysql --port=3308  --socket=/data/mysql-5.7/data/mysql.sock  --basedir=/data/mysql-5.7/ --datadir=/data/mysql-5.7/data  --explicit_defaults_for_timestamp &quot;
I got an error when I was adding <strong>--defaults-file=/data/mysql-5.7/my.cnf</strong> so I removed this and installed mysql.
Now I am not able to find my.cnf. I checked on every possible option with no luck.
I want to change the value of <strong>max_allowed_packet</strong> and <strong>innodb_log_file_size</strong> but I am unble to do it.
Can someone please help me with this installed mysql-5.7.35, with the command
&quot;bin/mysqld --initialize    --user=mysql --port=3308  --socket=/data/mysql-5.7/data/mysql.sock  --basedir=/data/mysql-5.7/ --datadir=/data/mysql-5.7/data  --explicit_defaults_for_timestamp &quot;
I got an error when I was adding <strong>--defaults-file=/data/mysql-5.7/my.cnf</strong> so I removed this and installed mysql.
Now I am not able to find my.cnf. I checked on every possible option with no luck.
I want to change the value of <strong>max_allowed_packet</strong> and <strong>innodb_log_file_size</strong> but I am unble to do it.
Can someone please help me with thise installed mysql-5.7.35, with the command
&quot;bin/mysqld --initialize    --user=mysql --port=3308  --socket=/data/mysql-5.7/data/mysql.sock  --basedir=/data/mysql-5.7/ --datadir=/data/mysql-5.7/data  --explicit_defaults_for_timestamp &quot;
I got an error when I was adding <strong>--defaults-file=/data/mysql-5.7/my.cnf</strong> so I removed this and installed mysql.
Now I am not able to find my.cnf. I checked on every possible option with no luck.
I want to change the value of <strong>max_allowed_packet</strong> and <strong>innodb_log_file_size</strong> but I am unble to do it.
Can someone please help me with this installed mysql-5.7.35, with the command
&quot;bin/mysqld --initialize    --user=mysql --port=3308  --socket=/data/mysql-5.7/data/mysql.sock  --basedir=/data/mysql-5.7/ --datadir=/data/mysql-5.7/data  --explicit_defaults_for_timestamp &quot;
I got an error when I was adding <strong>--defaults-file=/data/mysql-5.7/my.cnf</strong> so I removed this and installed mysql.
Now I am not able to find my.cnf. I checked on every possible option with no luck.
I want to change the value of <strong>max_allowed_packet</strong> and <strong>innodb_log_file_size</strong> but I am unble to do it.
Can someone please help me with this?",mysql
292,70289930,Select results and use result value as column,"I have such query in postgres:

<code>results.type</code> can be e.g. book, newspaper, paper etc
based on it I need my inner join to look like this:
<code>inner join m.full f on f.book_id = q.id</code>
<code>inner join m.full f on f.paper_id = q.id</code>
etc. is it possible to do it? I can't figure it out. Or should I use <code>case</code> here?",sql|postgresql
293,70089550,"How to compare one value, with a value that corresponds to another value?","I have a table:

I need to list all the <code>pizza</code> elements, that have the same <code>country</code> element, as sicilliano <code>pizza</code>, not using a subquery.",mysql
294,70237495,Select events between today's start/end and group in array,"I am trying to group user logged in for today date and aggregate in an array,
using timestamp with timezone for  field.

Got empty result with:
<pre><code>SELECT 
user_id,
array_agg(last_login_at) AS connexion 
FROM user_last_login
WHERE last_login_at &gt;= current_date
AND last_login_at &lt; current_date + interval '1 day'
GROUP BY 1;
</code></pre>
Also got empty result with simple query:
<pre><code>SELECT user_id, last_login_at FROM user_last_login 
WHERE last_login_at &gt;= current_date
AND last_login_at &lt; current_date + interval '1 day';
</code></pre>
Any suggestion?",postgresql
295,70061486,Install mysql in windows,"Every thing is downloading except the server, I tried deleting it and downloading it again but it didnt work
<a href=""https://i.stack.imgur.com/NrV1C.jpg"" rel=""nofollow noreferrer"">enter image description here</athing is downloading except the server, I tried deleting it and downloading it again but it didnt work
<a href=""https://i.stack.imgur.com/NrV1C.jpg"" rel=""nofollow noreferrer"">enter image description here</a thing is downloading except the server, I tried deleting it and downloading it again but it didnt work
<a href=""https://i.stack.imgur.com/NrV1C.jpg"" rel=""nofollow noreferrer"">enter image description here</athing is downloading except the server, I tried deleting it and downloading it again but it didnt work
<a href=""https://i.stack.imgur.com/NrV1C.jpg"" rel=""nofollow noreferrer"">enter image description here</a>",mysql
296,70259388,SQL select rows case INsensitive not works my statement,"I have Android app that sends to server pattern to find user by name. I want to be able to find rows where  column is like pattern (but case INsensitive) that I send to server. Lets say we have a nickname like 'Bigboss'. The SQL statement should be able to find this row either when is passed 'Bigboss' or 'bIGBOSS' or 'biGbOsS' or 'bi' etc. Currently it works weird.
Here is my <code>SQL</code> statement:

Help me please.",sql|postgresql
297,70190284,postgres - how to show most recent date when joining two tables?,"I am joining two tables but I want the most recent date shown. Here are my tables:

Project details:
<pre><code>project_id  project_name    project_carbon_impact   description project_goal    company_transition_id
1   project1    25  We are going to convert 100 trucks to eletric   100 1
2   project1    25  We are going to convert 100 trucks to eletric   100 1
3   project1    250 We are going to convert 1000 trucks to eletric  1000    2
4   ProjectTest 1500    ProjectTest Description Here    2500    3
5   project5    250 We are going to convert 1000 trucks to eletric  1000    2
6   project6    250 None    1000    2
7   project7    250     1000    2
8   Test Project  Dev   20  Project Description 50  1
9   Solar building project  0   We will add solar panels to the buildings to reduce emissions.  100 1
</code></pre>
I'm trying to write a query to get me the details for each project for each company and the most recent progress
I tried something like this:
<pre><code>select  tpd.project_id, max(date) as max_date, tpu.progress 
from company.transition_project_details tpd  
JOIN company.transition_project_updates tpu ON (tpu.project_id = tpd.project_id)
where tpd.company_transition_id = 2
group by tpd.project_id, tpu.progress
order by max_date desc 
</code></pre>
I've tried this also :
<pre><code>select  *
from company.transition_project_details tpd, 

(select company_id, project_id, progress, date,
rank() over (partition by project_id order by date desc)
from company.transition_project_updates tpu 
where tpu.company_id =2 ) as project_updates

where project_updates.rank =1 
and tpd.company_transition_id = 2
</code></pre>
but for both, I get multiple results for each project_id.  My goal is to just get all projects for a specific company_id and then their most current progress.",sql|postgresql
298,70070263,How to select the part of a column between _ and a,"i have a column <strong>href</strong>  which contiens a liste of links
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>href</th>
</tr>
</thead>
<tbody>
<tr>
<td>100712107%23C3.3_.pdf</td>
</tr>
<tr>
<td>100712107~%23C3.2_C00.zip</td>
</tr>
<tr>
<td>100740104_C2.3.xls</td>
</tr>
<tr>
<td>testme_aze_--b00.xls</td>
</tr>
</tbody>
</table>
</div>
My ouput would be
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>href</th>
<th>name</th>
<th>rev</th>
</tr>
</thead>
<tbody>
<tr>
<td>100712107%23C3.3_.pdf</td>
<td>100712107%23C3.3</td>
<td></td>
</tr>
<tr>
<td>100712107~%23C3.2_C00.zip</td>
<td>100712107~%23C3.2</td>
<td>C00</td>
</tr>
<tr>
<td>100740104_C2.3.xls</td>
<td>100740104</td>
<td>C2.3</td>
</tr>
<tr>
<td>testme_aze_--b00.xls</td>
<td>testme_aze</td>
<td>--b00</td>
</tr>
</tbody>
</table>
</div>
I have tried to use ** reverse(split_part(reverse(href),'.',1))* a column <strong>href</strong>  which contiens a liste of links
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>href</th>
</tr>
</thead>
<tbody>
<tr>
<td>100712107%23C3.3_.pdf</td>
</tr>
<tr>
<td>100712107~%23C3.2_C00.zip</td>
</tr>
<tr>
<td>100740104_C2.3.xls</td>
</tr>
<tr>
<td>testme_aze_--b00.xls</td>
</tr>
</tbody>
</table>
</div>
My ouput would be
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>href</th>
<th>name</th>
<th>rev</th>
</tr>
</thead>
<tbody>
<tr>
<td>100712107%23C3.3_.pdf</td>
<td>100712107%23C3.3</td>
<td></td>
</tr>
<tr>
<td>100712107~%23C3.2_C00.zip</td>
<td>100712107~%23C3.2</td>
<td>C00</td>
</tr>
<tr>
<td>100740104_C2.3.xls</td>
<td>100740104</td>
<td>C2.3</td>
</tr>
<tr>
<td>testme_aze_--b00.xls</td>
<td>testme_aze</td>
<td>--b00</td>
</tr>
</tbody>
</table>
</div>
I have tried to use ** reverse(split_part(reverse(href),'.',1))*e a column <strong>href</strong>  which contiens a liste of links
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>href</th>
</tr>
</thead>
<tbody>
<tr>
<td>100712107%23C3.3_.pdf</td>
</tr>
<tr>
<td>100712107~%23C3.2_C00.zip</td>
</tr>
<tr>
<td>100740104_C2.3.xls</td>
</tr>
<tr>
<td>testme_aze_--b00.xls</td>
</tr>
</tbody>
</table>
</div>
My ouput would be
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>href</th>
<th>name</th>
<th>rev</th>
</tr>
</thead>
<tbody>
<tr>
<td>100712107%23C3.3_.pdf</td>
<td>100712107%23C3.3</td>
<td></td>
</tr>
<tr>
<td>100712107~%23C3.2_C00.zip</td>
<td>100712107~%23C3.2</td>
<td>C00</td>
</tr>
<tr>
<td>100740104_C2.3.xls</td>
<td>100740104</td>
<td>C2.3</td>
</tr>
<tr>
<td>testme_aze_--b00.xls</td>
<td>testme_aze</td>
<td>--b00</td>
</tr>
</tbody>
</table>
</div>
I have tried to use ** reverse(split_part(reverse(href),'.',1))* a column <strong>href</strong>  which contiens a liste of links
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>href</th>
</tr>
</thead>
<tbody>
<tr>
<td>100712107%23C3.3_.pdf</td>
</tr>
<tr>
<td>100712107~%23C3.2_C00.zip</td>
</tr>
<tr>
<td>100740104_C2.3.xls</td>
</tr>
<tr>
<td>testme_aze_--b00.xls</td>
</tr>
</tbody>
</table>
</div>
My ouput would be
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>href</th>
<th>name</th>
<th>rev</th>
</tr>
</thead>
<tbody>
<tr>
<td>100712107%23C3.3_.pdf</td>
<td>100712107%23C3.3</td>
<td></td>
</tr>
<tr>
<td>100712107~%23C3.2_C00.zip</td>
<td>100712107~%23C3.2</td>
<td>C00</td>
</tr>
<tr>
<td>100740104_C2.3.xls</td>
<td>100740104</td>
<td>C2.3</td>
</tr>
<tr>
<td>testme_aze_--b00.xls</td>
<td>testme_aze</td>
<td>--b00</td>
</tr>
</tbody>
</table>
</div>
I have tried to use ** reverse(split_part(reverse(href),'.',1))**",postgresql
299,70076461,How to select data with an unusual grouping by date?,"There is a table:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th style=""text-align: left;"">id</th>
<th style=""text-align: center;"">direction_id</th>
<th style=""text-align: right;"">created_at</th>
</tr>
</thead>
<tbody>
<tr>
<td style=""text-align: left;"">1</td>
<td style=""text-align: center;"">2</td>
<td style=""text-align: right;"">22 November 2021 ., 16:00:00</td>
</tr>
<tr>
<td style=""text-align: left;"">2</td>
<td style=""text-align: center;"">2</td>
<td style=""text-align: right;"">22 November 2021 ., 16:20:00</td>
</tr>
<tr>
<td style=""text-align: left;"">43</td>
<td style=""text-align: center;"">2</td>
<td style=""text-align: right;"">22 November 2021 ., 16:25:00</td>
</tr>
<tr>
<td style=""text-align: left;"">455</td>
<td style=""text-align: center;"">1</td>
<td style=""text-align: right;"">22 November 2021 ., 16:27:00</td>
</tr>
<tr>
<td style=""text-align: left;"">6567</td>
<td style=""text-align: center;"">2</td>
<td style=""text-align: right;"">22 November 2021 ., 17:36:00</td>
</tr>
<tr>
<td style=""text-align: left;"">674556</td>
<td style=""text-align: center;"">2</td>
<td style=""text-align: right;"">22 November 2021 ., 20:01:00</td>
</tr>
<tr>
<td style=""text-align: left;"">5243554</td>
<td style=""text-align: center;"">1</td>
<td style=""text-align: right;"">22 November 2021 ., 20:50:00</td>
</tr>
<tr>
<td style=""text-align: left;"">5243554</td>
<td style=""text-align: center;"">1</td>
<td style=""text-align: right;"">22 November 2021 ., 21:46:00</td>
</tr>
</tbody>
</table>
</div>
I need to get the following result:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th style=""text-align: left;"">1</th>
<th style=""text-align: center;"">2</th>
<th style=""text-align: right;"">created_at_by_hour</th>
</tr>
</thead>
<tbody>
<tr>
<td style=""text-align: left;"">1</td>
<td style=""text-align: center;"">3</td>
<td style=""text-align: right;"">22.11.21 17</td>
</tr>
<tr>
<td style=""text-align: left;"">1</td>
<td style=""text-align: center;"">4</td>
<td style=""text-align: right;"">22.11.21 18</td>
</tr>
<tr>
<td style=""text-align: left;"">1</td>
<td style=""text-align: center;"">4</td>
<td style=""text-align: right;"">22.11.21 19</td>
</tr>
<tr>
<td style=""text-align: left;"">1</td>
<td style=""text-align: center;"">4</td>
<td style=""text-align: right;"">22.11.21 20</td>
</tr>
<tr>
<td style=""text-align: left;"">2</td>
<td style=""text-align: center;"">5</td>
<td style=""text-align: right;"">22.11.21 21</td>
</tr>
<tr>
<td style=""text-align: left;"">3</td>
<td style=""text-align: center;"">5</td>
<td style=""text-align: right;"">22.11.21 22</td>
</tr>
</tbody>
</table>
</div>
1 and 2 in the header are all possible values of  that are in the table.
<code>created_at</code> is reduced to hours and you need to count how many records satisfy the condition &lt;= <code>created_at_by_hour</code>. But the grouping should be such that if the time (hour) when no records were created, then just duplicate the previous hour.
The table consists of three fields - <code>id</code> (int), <code>direction_id</code> (int), <code>created_at</code> (timestamptz). I need to get an hourly (based on the created_at field) data upload with the number of records created before this &quot;grouped&quot; time. But I need not just the number, but separately for each <code>direction_id</code> (there are only two of them - <code>1</code> and <code>2</code>). If no records were created for a certain <code>direction_id</code> at a certain hour, duplicate the previous one, but the result should end at the last <code>created_at</code>. <code>created_at</code> is the time when the record was created is a table:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th style=""text-align: left;"">id</th>
<th style=""text-align: center;"">direction_id</th>
<th style=""text-align: right;"">created_at</th>
</tr>
</thead>
<tbody>
<tr>
<td style=""text-align: left;"">1</td>
<td style=""text-align: center;"">2</td>
<td style=""text-align: right;"">22 November 2021 ., 16:00:00</td>
</tr>
<tr>
<td style=""text-align: left;"">2</td>
<td style=""text-align: center;"">2</td>
<td style=""text-align: right;"">22 November 2021 ., 16:20:00</td>
</tr>
<tr>
<td style=""text-align: left;"">43</td>
<td style=""text-align: center;"">2</td>
<td style=""text-align: right;"">22 November 2021 ., 16:25:00</td>
</tr>
<tr>
<td style=""text-align: left;"">455</td>
<td style=""text-align: center;"">1</td>
<td style=""text-align: right;"">22 November 2021 ., 16:27:00</td>
</tr>
<tr>
<td style=""text-align: left;"">6567</td>
<td style=""text-align: center;"">2</td>
<td style=""text-align: right;"">22 November 2021 ., 17:36:00</td>
</tr>
<tr>
<td style=""text-align: left;"">674556</td>
<td style=""text-align: center;"">2</td>
<td style=""text-align: right;"">22 November 2021 ., 20:01:00</td>
</tr>
<tr>
<td style=""text-align: left;"">5243554</td>
<td style=""text-align: center;"">1</td>
<td style=""text-align: right;"">22 November 2021 ., 20:50:00</td>
</tr>
<tr>
<td style=""text-align: left;"">5243554</td>
<td style=""text-align: center;"">1</td>
<td style=""text-align: right;"">22 November 2021 ., 21:46:00</td>
</tr>
</tbody>
</table>
</div>
I need to get the following result:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th style=""text-align: left;"">1</th>
<th style=""text-align: center;"">2</th>
<th style=""text-align: right;"">created_at_by_hour</th>
</tr>
</thead>
<tbody>
<tr>
<td style=""text-align: left;"">1</td>
<td style=""text-align: center;"">3</td>
<td style=""text-align: right;"">22.11.21 17</td>
</tr>
<tr>
<td style=""text-align: left;"">1</td>
<td style=""text-align: center;"">4</td>
<td style=""text-align: right;"">22.11.21 18</td>
</tr>
<tr>
<td style=""text-align: left;"">1</td>
<td style=""text-align: center;"">4</td>
<td style=""text-align: right;"">22.11.21 19</td>
</tr>
<tr>
<td style=""text-align: left;"">1</td>
<td style=""text-align: center;"">4</td>
<td style=""text-align: right;"">22.11.21 20</td>
</tr>
<tr>
<td style=""text-align: left;"">2</td>
<td style=""text-align: center;"">5</td>
<td style=""text-align: right;"">22.11.21 21</td>
</tr>
<tr>
<td style=""text-align: left;"">3</td>
<td style=""text-align: center;"">5</td>
<td style=""text-align: right;"">22.11.21 22</td>
</tr>
</tbody>
</table>
</div>
1 and 2 in the header are all possible values of  that are in the table.
<code>created_at</code> is reduced to hours and you need to count how many records satisfy the condition &lt;= <code>created_at_by_hour</code>. But the grouping should be such that if the time (hour) when no records were created, then just duplicate the previous hour.
The table consists of three fields - <code>id</code> (int), <code>direction_id</code> (int), <code>created_at</code> (timestamptz). I need to get an hourly (based on the created_at field) data upload with the number of records created before this &quot;grouped&quot; time. But I need not just the number, but separately for each <code>direction_id</code> (there are only two of them - <code>1</code> and <code>2</code>). If no records were created for a certain <code>direction_id</code> at a certain hour, duplicate the previous one, but the result should end at the last <code>created_at</code>. <code>created_at</code> is the time when the record was created.",sql|postgresql
300,70153451,How can I condition a double variable to be less than 500 while creating the table in MYSQL,So my teacher asked me to condition the double variable so it can't be higher than 500. How can I do that when creating the tableteacher asked me to condition the double variable so it can't be higher than 500. How can I do that when creating the table teacher asked me to condition the double variable so it can't be higher than 500. How can I do that when creating the tableteacher asked me to condition the double variable so it can't be higher than 500. How can I do that when creating the table?,mysql
301,70187524,How do I update multiple columns in multiple rows on MySQL?,"Say I have this table:
<div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-html lang-html prettyprint-override""></pre>
</div>
</div>

How do I update it in a single query so it would look like this for instance?
*the red text signifies that something changed.
<div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-css lang-css prettyprint-override""><code>.change {
  color: red;
}</code></pre>
<pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;table border=1&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;id&lt;/th&gt;
      &lt;th&gt;manufacturer&lt;/th&gt;
      &lt;th&gt;year&lt;/th&gt;
      &lt;th&gt;car_model&lt;/th&gt;
      &lt;th&gt;engine_model&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td class=""change""&gt;Honda&lt;/td&gt;
      &lt;td class=""change""&gt;2000&lt;/td&gt;
      &lt;td class=""change""&gt;CRV&lt;/td&gt;
      &lt;td class=""change""&gt;R20A9&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;Volvo&lt;/td&gt;
      &lt;td class=""change""&gt;2015&lt;/td&gt;
      &lt;td&gt;S60&lt;/td&gt;
      &lt;td&gt;B4204T11&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;Hyundai&lt;/td&gt;
      &lt;td class=""change""&gt;2000&lt;/td&gt;
      &lt;td&gt;Accent&lt;/td&gt;
      &lt;td class=""change""&gt;G4EB&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;4&lt;/td&gt;
      &lt;td&gt;Mazda&lt;/td&gt;
      &lt;td&gt;1992&lt;/td&gt;
      &lt;td&gt;323&lt;/td&gt;
      &lt;td&gt;B6E&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;5&lt;/td&gt;
      &lt;td&gt;Citroen&lt;/td&gt;
      &lt;td&gt;2015&lt;/td&gt;
      &lt;td class=""change""&gt;C4&lt;/td&gt;
      &lt;td class=""change""&gt;HNY&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;</code></pre>
</div>
</div>

I have a client who wants the changes to be saved all at once only after confirmation of his progress, so I'm storing his progress on an array before I send it to the server and run the MySQL code. I previously used a foreach loop to update each row separately, but I get a timeout when I try to update too many rows via loop, meaning some of the progress isn't saved, so I want to get it sorted under a single query, if possible. I've tried using CASE but it only worked if the changes were associative. In the example I've given, the changes are not associative.
Any help is appreciated
</div>
</div>

How do I update it in a single query so it would look like this for instance?
*the red text signifies that something changed.
<div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-css lang-css prettyprint-override""><code>.change {
  color: red;
}</code></pre>
<pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;table border=1&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;id&lt;/th&gt;
      &lt;th&gt;manufacturer&lt;/th&gt;
      &lt;th&gt;year&lt;/th&gt;
      &lt;th&gt;car_model&lt;/th&gt;
      &lt;th&gt;engine_model&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td class=""change""&gt;Honda&lt;/td&gt;
      &lt;td class=""change""&gt;2000&lt;/td&gt;
      &lt;td class=""change""&gt;CRV&lt;/td&gt;
      &lt;td class=""change""&gt;R20A9&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;Volvo&lt;/td&gt;
      &lt;td class=""change""&gt;2015&lt;/td&gt;
      &lt;td&gt;S60&lt;/td&gt;
      &lt;td&gt;B4204T11&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;Hyundai&lt;/td&gt;
      &lt;td class=""change""&gt;2000&lt;/td&gt;
      &lt;td&gt;Accent&lt;/td&gt;
      &lt;td class=""change""&gt;G4EB&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;4&lt;/td&gt;
      &lt;td&gt;Mazda&lt;/td&gt;
      &lt;td&gt;1992&lt;/td&gt;
      &lt;td&gt;323&lt;/td&gt;
      &lt;td&gt;B6E&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;5&lt;/td&gt;
      &lt;td&gt;Citroen&lt;/td&gt;
      &lt;td&gt;2015&lt;/td&gt;
      &lt;td class=""change""&gt;C4&lt;/td&gt;
      &lt;td class=""change""&gt;HNY&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;</code></pre>
</div>
</div>

I have a client who wants the changes to be saved all at once only after confirmation of his progress, so I'm storing his progress on an array before I send it to the server and run the MySQL code. I previously used a foreach loop to update each row separately, but I get a timeout when I try to update too many rows via loop, meaning some of the progress isn't saved, so I want to get it sorted under a single query, if possible. I've tried using CASE but it only worked if the changes were associative. In the example I've given, the changes are not associative.
Any help is appreciated.",mysql
302,70359700,mysql where a column does not contain regular expression with value from another column,"I have the below table and I need to find all rows where the  does not contain the <code>code</code> in the string.

I have tried the following query
<pre><code>SELECT * FROM aTable WHERE resource NOT IN (select code from aTable) ORDER BY id DESC LIMIT 10;
</code></pre>
but this returns everything.
Thanks in advance.",mysql
303,70031762,Autovacuum does not autovacuum often enough,"The vacuum does not execute regularly enough on some tables, therefore bloat is present on large tables.
To overcome this problem, I am setting up a weekly job that runs a vacuum analyze command.
Is this approach correct and is it compatible with good practicecuum does not execute regularly enough on some tables, therefore bloat is present on large tables.
To overcome this problem, I am setting up a weekly job that runs a vacuum analyze command.
Is this approach correct and is it compatible with good practiceacuum does not execute regularly enough on some tables, therefore bloat is present on large tables.
To overcome this problem, I am setting up a weekly job that runs a vacuum analyze command.
Is this approach correct and is it compatible with good practicecuum does not execute regularly enough on some tables, therefore bloat is present on large tables.
To overcome this problem, I am setting up a weekly job that runs a vacuum analyze command.
Is this approach correct and is it compatible with good practice?",postgresql
304,70035660,Are SQL field types case sensitive,"I was wondering if field types are case sensitive in SQL, specifically in postgresql.
As far as I know SQL key words are generally case insensitive but does this also apply to types?
So if I have:

is that the same as:
<pre><code>SELECT CAST(item1 AS int)
</code></pre>",sql|postgresql
305,70136953,Inserting a row in table that consist of only one auto increment PK column,"I have this table:

And I try to add a new column with this, found <a href=""https://stackoverflow.com/questions/28310462/insert-row-into-table-with-only-a-primary-key-field"">here</a>:
<pre><code>INSERT INTO VormerkListe DEFAULT VALUES;
</code></pre>
But I get this error:
<pre><code>INSERT INTO VormerkListe DEFAULT VALUES Error Code: 1064. You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DEFAULT VALUES' at line 1  0.031 sec
</code></pre>",mysql
306,70185393,Neo4j count(*) returning wrong value,"The query in question is:

Neo4j is returning 364 but there are 59 records and I can't understand why.",neo4j
307,70193819,column table_name of relation table_name does not exist,"My project using Postgresql and Microsoft SQL Server. So I can't change the parameter name in Postgresql. How can I fix the bug in this case.
my function below.

Error
column &quot;schedulealarmsetting&quot; of relation &quot;schedulealarmsetting&quot; does not exist
When I remove &quot;schedulealarmsetting.&quot; it will show error:&quot;column reference &quot;userno&quot; is ambiguous&quot;",postgresql
308,70052076,PosgreasSQL index is not applied when select?,"In my database, I created a index

So based on the index that I have for table &quot;meeting&quot;, if I do:
<pre><code>Explain SELECT meeting_name FROM meeting WHERE meeting_name like 'Pro%';
</code></pre>
I would get
<pre><code>index only scan using meeting_name_idx on meeting
</code></pre>
But if I changed the <code>%</code> in this case, and I do
<pre><code>Explain SELECT meeting_name FROM meeting WHERE meeting_name like '%Pro';
</code></pre>
The result would be a sequential scan, why is that?",sql|postgresql
309,70076332,Is there a way to improve BigQuery's performance over PostgreSQL,"We have a 12M records of geospatial data in PostgreSQL (with no index) and use the same data in BigQuery and the time taken to run the same query takes nearly same timings.
Is there some ways to tweak BigQuery to achieve better performance than PostgreSQLe a 12M records of geospatial data in PostgreSQL (with no index) and use the same data in BigQuery and the time taken to run the same query takes nearly same timings.
Is there some ways to tweak BigQuery to achieve better performance than PostgreSQLve a 12M records of geospatial data in PostgreSQL (with no index) and use the same data in BigQuery and the time taken to run the same query takes nearly same timings.
Is there some ways to tweak BigQuery to achieve better performance than PostgreSQLe a 12M records of geospatial data in PostgreSQL (with no index) and use the same data in BigQuery and the time taken to run the same query takes nearly same timings.
Is there some ways to tweak BigQuery to achieve better performance than PostgreSQL?",google-bigquery
310,70174089,"MySQL ""number"" rows in result","This is my first question, so please bear with me.
I have a stored procedure which selects orders and order line location ids. In the result, I need the ability to &quot;sequence&quot; each location in each order.
the query so far is:

the result is:
<pre><code>+----------+------------------+----------+
| order_id | ship_location_id | sequence |
+----------+------------------+----------+
|    24737 |             6621 |     NULL |
|    24738 |             6623 |     NULL |
|    24743 |             6634 |     NULL |
|    24743 |             6635 |     NULL |
+----------+------------------+----------+
</code></pre>
the required result is:
<pre><code>+----------+------------------+----------+
| order_id | ship_location_id | sequence |
+----------+------------------+----------+
|  1224737 |             6621 |         1|
|  1324738 |             6623 |         1|
|  1224743 |             6634 |         1|
|  1224743 |             6635 |         2|
+----------+------------------+----------+
</code></pre>
As you can see from the above that the first 3 orders only have 1 location each - so this would be the only location (thus only 1 in this order's sequence), while the order 1224743 has 2 locations and thus 2 in the sequence.
Hope this makes sense and I am looking forward to your responses.
thanks",mysql
311,70318920,an not compose the correct SQL query for my case,"I need to select contacts
<ol>
<li>where field &quot;email&quot; = value &quot;email1&quot; OR field &quot;name&quot; = value &quot;name1&quot;
</li>
<li>where field &quot;email&quot; = value &quot;email1&quot; AND field &quot;name&quot; = value &quot;name1&quot;
</li>
</ol>
I have solution SQL query for first condition OR

But if I change OR in the beginning of fifth line to AND it of course won't work
<pre><code>SELECT v.contact_id 
FROM values v
INNER JOIN fields f ON f.id = v.field_id
INNER JOIN contacts c ON c.id = v.contact_id
WHERE (f.tag = 'email' AND v.value = 'email1' AND f.listing_id = 1) 
  AND (f.tag = 'name' AND v.value = 'name1' AND f.listing_id = 1)
</code></pre>
Please help me to improve this query to work in both options, i will be very grateful for help with solving this problem (mysql db)
Database scheme: <a href=""https://i.imgur.com/I5J2hh0.png"" rel=""nofollow noreferrer"">https://i.imgur.com/I5J2hh0.png</a>
Database values:
Table groups
<pre><code>id | name
---+--------
1  | group1
</code></pre>
Table contacts
<pre><code>id | group_id
---+----------
1  | 1
2  | 1
</code></pre>
Table fields
<pre><code>id | group_id | tag
---+----------+--------
1  | 1        | email
2  | 1        | name
3  | 1        | email
4  | 1        | name
</code></pre>
Table values
<pre><code>id | contact_id | field_id | value
---+------------+----------+----------
1  | 1          | 1        | email1
2  | 1          | 2        | name1
2  | 2          | 3        | email2
4  | 2          | 4        | name2
</code></pre>",mysql
312,70140900,Failed to create table: Undefined parameter - ERROR_MESSAGE,"<a href=""https://i.stack.imgur.com/FlAkE.png"" rel=""nofollow noreferrer"">enter image description here</a>
I encountered this issue recently. I tried to create a table from the dataset employee_data. But no matter how I tried, I can not create the table anymore. Please helpf=""https://i.stack.imgur.com/FlAkE.png"" rel=""nofollow noreferrer"">enter image description here</a>
I encountered this issue recently. I tried to create a table from the dataset employee_data. But no matter how I tried, I can not create the table anymore. Please helpef=""https://i.stack.imgur.com/FlAkE.png"" rel=""nofollow noreferrer"">enter image description here</a>
I encountered this issue recently. I tried to create a table from the dataset employee_data. But no matter how I tried, I can not create the table anymore. Please helpf=""https://i.stack.imgur.com/FlAkE.png"" rel=""nofollow noreferrer"">enter image description here</a>
I encountered this issue recently. I tried to create a table from the dataset employee_data. But no matter how I tried, I can not create the table anymore. Please help.",google-bigquery
313,70108845,"Postgresql: How to get null values when using WHERE col NOT LIKE ""foo""?","When using  clause with <code>NOT LIKE</code> on <code>my_text_column</code>, <code>null</code> values are skipped.
Why and how to get it ?
",postgresql
314,70261763,mysql command to get data of 2 tables,"I would like to get data from 2 mysql tables.
Table tbl_1:
<a href=""https://i.stack.imgur.com/1Vnii.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/1Vnii.png"" alt=""enter image description here"" /></a>
Table tbl_2:
<a href=""https://i.stack.imgur.com/XJm4s.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/XJm4s.png"" alt=""enter image description here"" /></a>
I tried this:

My result:
<a href=""https://i.stack.imgur.com/GWA3s.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/GWA3s.png"" alt=""enter image description here"" /></a>
The results looks good but not perfect.
I get many null rows which are not be in my result.
only the first both rows should be in the result.
Where is my fault?",mysql
315,70140755,Error code: 1054 Unkown column 'London' in 'field list',"I am not sure what is wrong here, I have column 6 &quot;Location varchar(50)&quot; and as you can see in the VanWinkles table, column 6 is 'London', so why am I getting this error?
",mysql
316,70186645,Reindex command seems not working for some indexes,"the pg_catalog.pg_amproc table of my demo database
has 2 indexes which density does not change even after a reindex or a vacuum full
Why index density does not change after a rebuild?
",postgresql
317,70265863,How to sum values in a column based on values in a different column SQL,"For example, lets say I have
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>id</th>
<th>values</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>10</td>
</tr>
<tr>
<td>1</td>
<td>12</td>
</tr>
<tr>
<td>1</td>
<td>10</td>
</tr>
<tr>
<td>2</td>
<td>2</td>
</tr>
<tr>
<td>2</td>
<td>5</td>
</tr>
<tr>
<td>2</td>
<td>4</td>
</tr>
</tbody>
</table>
</div>
then i would want sql to return
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>id</th>
<th>values</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>32</td>
</tr>
<tr>
<td>2</td>
<td>11</td>
</tr>
</tbody>
</table>
</divample, lets say I have
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>id</th>
<th>values</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>10</td>
</tr>
<tr>
<td>1</td>
<td>12</td>
</tr>
<tr>
<td>1</td>
<td>10</td>
</tr>
<tr>
<td>2</td>
<td>2</td>
</tr>
<tr>
<td>2</td>
<td>5</td>
</tr>
<tr>
<td>2</td>
<td>4</td>
</tr>
</tbody>
</table>
</div>
then i would want sql to return
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>id</th>
<th>values</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>32</td>
</tr>
<tr>
<td>2</td>
<td>11</td>
</tr>
</tbody>
</table>
</divxample, lets say I have
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>id</th>
<th>values</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>10</td>
</tr>
<tr>
<td>1</td>
<td>12</td>
</tr>
<tr>
<td>1</td>
<td>10</td>
</tr>
<tr>
<td>2</td>
<td>2</td>
</tr>
<tr>
<td>2</td>
<td>5</td>
</tr>
<tr>
<td>2</td>
<td>4</td>
</tr>
</tbody>
</table>
</div>
then i would want sql to return
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>id</th>
<th>values</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>32</td>
</tr>
<tr>
<td>2</td>
<td>11</td>
</tr>
</tbody>
</table>
</divample, lets say I have
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>id</th>
<th>values</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>10</td>
</tr>
<tr>
<td>1</td>
<td>12</td>
</tr>
<tr>
<td>1</td>
<td>10</td>
</tr>
<tr>
<td>2</td>
<td>2</td>
</tr>
<tr>
<td>2</td>
<td>5</td>
</tr>
<tr>
<td>2</td>
<td>4</td>
</tr>
</tbody>
</table>
</div>
then i would want sql to return
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>id</th>
<th>values</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>32</td>
</tr>
<tr>
<td>2</td>
<td>11</td>
</tr>
</tbody>
</table>
</div>",sql|postgresql
318,70027668,problems updating the table,"Im not sure what is wrong with the code, it should update just 30 rows with the nulls but instead updates all the rows.
",sql|postgresql
319,70363922,"MySQL all from first table, exist from second","I have a problem with a MySQL query.
I have two tables:
table1

table2
<pre><code>plu (id from table1)
nr_order
quantity
txt
</code></pre>
I would like to show all the rows from table1 and only the ones that match from table2.
I have this query:
<pre><code>$selectNumberOrder = $this-&gt;__db-&gt;execute(&quot;SELECT ID_order 
                                            from order 
                                            WHERE FK_ID_shop = x 
                                            AND data = 'xxx' 
                                            LIMIT 1;&quot;);

$selectNumberOrder_ = $selectNumberOrder[0]['ID_Order'];
    

SELECT table1.id, table1.name, table2.quantity, table2.txt 
from table1
    LEFT JOIN table2 ON table1.id = table2.plu
WHERE table1.status = 1 
AND table2.nr_order = {$selectNumberOrder_} 
ORDER BY table1.id&quot;);
</code></pre>
but the query output only shows the elements that are in table2.
I do not know how to make it show all the elements from table1 and add the elements from table2 to them (if table2 does not have the id data from table1, let the quantity be empty)",mysql
320,70147596,Get all of the low-level children of a node,"I am struggling with the writing of a query for PostgreSQL. The table resembles a tree and every item can have <em>n</em> children.
I would like to get only and all the children of the lowest level(s) (which don't have any children by themselves) of a given element of the tree.
The structure:

Some values of the table would look like this:
<pre><code> 1  &quot;Products&quot;  NULL --Parent
 2  &quot;Metal&quot; 1
 3  &quot;Nails&quot; 2
 4  &quot;Chains&quot;    2
 5  &quot;Bicycle Chains&quot;    4
 6  &quot;Shimano Bicycle Chains&quot;    5
 7  &quot;Shimano Bicycle Chains&quot;    5
 8  &quot;7mm chain, black&quot;    4
 9  &quot;Wood&quot;  1
 10 &quot;Cutting Boards&quot;    8
 11 &quot;Cutting Board Holder&quot; 8
</code></pre>
Most of the solutions on SO deal with not very deep trees which have just 1-2 levels. Or it is known from which parent the children are required.
I would like to select all children of &quot;Chains&quot; (4), which would give the following result:
<pre><code>6   &quot;Shimano Bicycle Chains&quot;    5
7   &quot;Shimano Bicycle Chains&quot;    5
8   &quot;7mm chain, black&quot;    4
</code></pre>
To be honest, recursive queries are not my strongest skill. I had the idea already to search upside down - getting all items first which are never used as parents and then going down, but this only shifts the problem to the point again that I have to go down recursively from the given parent which seems a bit over the top.",sql|postgresql
321,70101871,how can i rewrite this into a single query - sql optimization,"how can i optimize the following query?
I'm not sure how to rewrite them into a single query, combine all the joins.
",mysql
322,70128654,Simple POSTGRESQL SELECT query too slow,"I have a table that stores logs from an Electronic Invoicing System webservice, this is my SQL Structure

Cointains ~800 rows, this is the query:
<pre><code>SELECT * FROM eis_transactions LIMIT 1000;
</code></pre>
It takes more than 60 seconds to complete the query.
And this is the <code>EXPLAIN ANALYZE</code> result i got:
<pre><code>EXPLAIN (ANALYZE, BUFFERS) SELECT * FROM eis_transactions LIMIT 100;
Limit  (cost=0.00..15.94 rows=100 width=1108) (actual time=0.013..0.121 rows=100 loops=1)
  Buffers: shared read=15
  -&gt;  Seq Scan on eis_transactions  (cost=0.00..128.03 rows=803 width=1108) (actual time=0.012..0.106 rows=100 loops=1)
        Buffers: shared read=15
Total runtime: 0.180 ms
</code></pre>
But doing a <code>SELECT * FROM eis_transactions</code> (With or without <code>LIMIT</code>) will take more than 60 seconds. While i have other tables with more than 1000 and they don't take so long as this particular table.
What could be wrong ?
Thank you !",postgresql
323,70043682,Postgresql Fuzzy Search,"Forgive this general question. I have created a huge Fuzzy Search function in PostgreSQL that uses Similarity, Soundex, Metaphone, Levenshtein, and other types of logic comparisons. I've placed weighted values on each result. The function has grown to improve results, but it is slow and still not great! I've spent a lot of time researching and searching for a Fuzzy Search that someone has created who is smarter than me!
Does anyone know of a great fuzzy search function for PostgreSQL that compares two strings and produces a score that can be sorted? I am hoping for something that can work like:
SELECT tbl_name_column, fuzzy_function(tbl_name_column, 'Most like this string') as score
FROM tbl
ORDER BY score dese this general question. I have created a huge Fuzzy Search function in PostgreSQL that uses Similarity, Soundex, Metaphone, Levenshtein, and other types of logic comparisons. I've placed weighted values on each result. The function has grown to improve results, but it is slow and still not great! I've spent a lot of time researching and searching for a Fuzzy Search that someone has created who is smarter than me!
Does anyone know of a great fuzzy search function for PostgreSQL that compares two strings and produces a score that can be sorted? I am hoping for something that can work like:
SELECT tbl_name_column, fuzzy_function(tbl_name_column, 'Most like this string') as score
FROM tbl
ORDER BY score desve this general question. I have created a huge Fuzzy Search function in PostgreSQL that uses Similarity, Soundex, Metaphone, Levenshtein, and other types of logic comparisons. I've placed weighted values on each result. The function has grown to improve results, but it is slow and still not great! I've spent a lot of time researching and searching for a Fuzzy Search that someone has created who is smarter than me!
Does anyone know of a great fuzzy search function for PostgreSQL that compares two strings and produces a score that can be sorted? I am hoping for something that can work like:
SELECT tbl_name_column, fuzzy_function(tbl_name_column, 'Most like this string') as score
FROM tbl
ORDER BY score dese this general question. I have created a huge Fuzzy Search function in PostgreSQL that uses Similarity, Soundex, Metaphone, Levenshtein, and other types of logic comparisons. I've placed weighted values on each result. The function has grown to improve results, but it is slow and still not great! I've spent a lot of time researching and searching for a Fuzzy Search that someone has created who is smarter than me!
Does anyone know of a great fuzzy search function for PostgreSQL that compares two strings and produces a score that can be sorted? I am hoping for something that can work like:
SELECT tbl_name_column, fuzzy_function(tbl_name_column, 'Most like this string') as score
FROM tbl
ORDER BY score desc",postgresql
324,70217899,Postgresql Create Type,"Can someone explain the following type to me?
",postgresql
325,70320804,Executing an insert query on successful deletion in postgres,"Is it possible to insert some data into one table if some entry is deleted in another table?
I am able to do that with multiple queries(delete first, then insert by checking if it exists). But this runs as two queries. Is it possible to merge the queries or what is the most efficient way of doing thispossible to insert some data into one table if some entry is deleted in another table?
I am able to do that with multiple queries(delete first, then insert by checking if it exists). But this runs as two queries. Is it possible to merge the queries or what is the most efficient way of doing this possible to insert some data into one table if some entry is deleted in another table?
I am able to do that with multiple queries(delete first, then insert by checking if it exists). But this runs as two queries. Is it possible to merge the queries or what is the most efficient way of doing thispossible to insert some data into one table if some entry is deleted in another table?
I am able to do that with multiple queries(delete first, then insert by checking if it exists). But this runs as two queries. Is it possible to merge the queries or what is the most efficient way of doing this?",sql|postgresql
326,70374574,MySQL GROUP BY if Multiple Numbered Columns are Close to Each Other (+/- 1),"I have a mysql table with a large list of coordinates (x, y, z). I want to find the most common spots, but when the same place is logged, it isn't identical. For example, x could be 496.0481 or 496.3904, but that is actually the same place.
When I do the following query I get a list of the absolute exact matches, but those are very few and far between:

How can I adjust this to be grouped by each of x, y, and z to be +/- 1 to catch a larger area? I've tried a mix of IF and BETWEEN statements but can't seem to get anything to work.
If I do <code>GROUP BY round(x), round(y), round(z)</code>, that gets a larger range but doesn't capture if the number goes from 496 to 497 even if they are just slightly different.
Thanks in advance for the help.",mysql
327,70191828,Windows: neo4j cannot stop service or access console,"How can I access the console/URL of an already running neo4j service or see what started the service?
I am running a Windows 10 VM server and downloaded the neo4j-community-4.3.7 edition.
When I run &quot;neo4j console&quot; in the command line, I get a message that says &quot;Neo4j is already running&quot;.
However when I go to the default database URL: http://localhost:7474/ the webpage does not load.
If I try to stop the neo4j service (using Command Prompt run as Administrator): &quot;neo4j stop&quot;, I get an error that &quot;Neo4j took more than 121 seconds to stop....&quot; and the logs stored at &quot;neo4j-community-4.3.7\logs\neo4j.log&quot; are empty.
If I restart the server I get the same exact problem even though I have not run neo4j at all. This makes me think that something else on the machine is launching neo4j. Is there a way for me to find what is doing this and stop it, or a way to access the console/database of the already running neo4j instancen I access the console/URL of an already running neo4j service or see what started the service?
I am running a Windows 10 VM server and downloaded the neo4j-community-4.3.7 edition.
When I run &quot;neo4j console&quot; in the command line, I get a message that says &quot;Neo4j is already running&quot;.
However when I go to the default database URL: http://localhost:7474/ the webpage does not load.
If I try to stop the neo4j service (using Command Prompt run as Administrator): &quot;neo4j stop&quot;, I get an error that &quot;Neo4j took more than 121 seconds to stop....&quot; and the logs stored at &quot;neo4j-community-4.3.7\logs\neo4j.log&quot; are empty.
If I restart the server I get the same exact problem even though I have not run neo4j at all. This makes me think that something else on the machine is launching neo4j. Is there a way for me to find what is doing this and stop it, or a way to access the console/database of the already running neo4j instancean I access the console/URL of an already running neo4j service or see what started the service?
I am running a Windows 10 VM server and downloaded the neo4j-community-4.3.7 edition.
When I run &quot;neo4j console&quot; in the command line, I get a message that says &quot;Neo4j is already running&quot;.
However when I go to the default database URL: http://localhost:7474/ the webpage does not load.
If I try to stop the neo4j service (using Command Prompt run as Administrator): &quot;neo4j stop&quot;, I get an error that &quot;Neo4j took more than 121 seconds to stop....&quot; and the logs stored at &quot;neo4j-community-4.3.7\logs\neo4j.log&quot; are empty.
If I restart the server I get the same exact problem even though I have not run neo4j at all. This makes me think that something else on the machine is launching neo4j. Is there a way for me to find what is doing this and stop it, or a way to access the console/database of the already running neo4j instancen I access the console/URL of an already running neo4j service or see what started the service?
I am running a Windows 10 VM server and downloaded the neo4j-community-4.3.7 edition.
When I run &quot;neo4j console&quot; in the command line, I get a message that says &quot;Neo4j is already running&quot;.
However when I go to the default database URL: http://localhost:7474/ the webpage does not load.
If I try to stop the neo4j service (using Command Prompt run as Administrator): &quot;neo4j stop&quot;, I get an error that &quot;Neo4j took more than 121 seconds to stop....&quot; and the logs stored at &quot;neo4j-community-4.3.7\logs\neo4j.log&quot; are empty.
If I restart the server I get the same exact problem even though I have not run neo4j at all. This makes me think that something else on the machine is launching neo4j. Is there a way for me to find what is doing this and stop it, or a way to access the console/database of the already running neo4j instance?",neo4j
328,70205129,SQL Error [1064] [42000]: You have an error in your SQL syntax when using ALTER IGNORE TABLE on mysql 8,"This one works in older mysql versions, but the good thing with this query is that it will remove duplicates and same time add index, how do i do the same in mysql 8 commercial

<blockquote>
SQL Error [1064] [42000]: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'IGNORE TABLE ...
</blockquote>
How do i do the same in mysql 8 commercial. i.e. remove duplicate while same time create index",mysql
329,70244373,PostgreSQL select IN with duplicate,"I have a field of product variant names.
<blockquote>
'XS',
'S',
'M',
'S',
'M',
'S',
'M',
'XS',
'S',
'M',
'XS',
'S',
'M',
'L',
'XS',
'XS',
'XS',
'S',
'XL',
'XS',
'M',
'XS',
'S',
'M',
'XS',
'M',
'S',
'XS',
'M',
'Chick Black',
'Brave Blue',
'Bold Red',
'Posh Pink',
'Purple Yum',
'Blue',
'Good Green',
'Orange',
'Purple Yum',
'Red',
'Yellow',
'Red',
'Blue',
'Purple Yum',
'Good Green',
'Orange',
'Pink',
'Light Blue',
'Red',
'Yellow',
'Green Elipse',
'Light Blue',
'Pink',
'Orange',
'White',
'Green Elipse',
'Pink Elipse',
'Blue Elipse',
'Red',
'Yellow Elipse',
'Green Elipse',
'Blue Elipse',
'Pink Elipse',
'Orange',
'White',
'Blue',
'Mint Green',
'Dusty Pink',
'Airforce Blue',
'Claret',
'Pink',
'Rubine Red',
'Green MM',
'Grey',
'Blue',
'Orange',
'Yellow',
'Light Blue',
'Pink',
'Rubine Red',
'Green MM',
'Grey',
'Blue',
'Orange',
'Yellow',
'Light Blue',
'SA 10',
'SA 12',
'SA 14',
'SA 16',
'Blue Babyhood',
'Pink Babyhood'
</blockquote>
I want to select id from the  table based on the list above. But when I do this query,

it returns grouped id. For example,
<pre><code>|id|name|
|0001|XL|
|0002|S|
|0003|M|
|0004|XS|
</code></pre>
What I expect is a non-grouped result, so variants will be retrieved many times. For example, variant 'S' must be retrieved 2 times here.
<pre><code>|id|name|
|0001|XL|
|0002|S|
|0003|M|
|0002|S|
..etc
</code></pre>
Is this possible to do? I hope my question is understandable. Thanks in advance!",sql|postgresql
330,70231389,Postgres insert function by aggregating data from multiple tables,"I have got two tables, 'page_visits' and 'comments', which store new webpage visits and new comments, respectively.
<h3>PAGE_VISITS</h3>
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th style=""text-align: center;"">id</th>
<th style=""text-align: center;"">page_id</th>
<th style=""text-align: center;"">created_at</th>
</tr>
</thead>
<tbody>
<tr>
<td style=""text-align: center;"">1</td>
<td style=""text-align: center;"">1111</td>
<td style=""text-align: center;"">2021-12-02T04:55:26.779Z</td>
</tr>
<tr>
<td style=""text-align: center;"">2</td>
<td style=""text-align: center;"">1442</td>
<td style=""text-align: center;"">2021-12-02T02:25:32.219Z</td>
</tr>
<tr>
<td style=""text-align: center;"">3</td>
<td style=""text-align: center;"">1111</td>
<td style=""text-align: center;"">2021-12-02T04:55:26.214Z</td>
</tr>
</tbody>
</table>
</div><h3>COMMENTS</h3>
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th style=""text-align: center;"">id</th>
<th style=""text-align: center;"">page_id</th>
<th style=""text-align: center;"">...</th>
<th style=""text-align: center;"">created_at</th>
</tr>
</thead>
<tbody>
<tr>
<td style=""text-align: center;"">1</td>
<td style=""text-align: center;"">1024</td>
<td style=""text-align: center;"">...</td>
<td style=""text-align: center;"">2021-12-02T04:55:26.779Z</td>
</tr>
<tr>
<td style=""text-align: center;"">2</td>
<td style=""text-align: center;"">1111</td>
<td style=""text-align: center;"">...</td>
<td style=""text-align: center;"">2021-12-02T02:25:32.219Z</td>
</tr>
<tr>
<td style=""text-align: center;"">3</td>
<td style=""text-align: center;"">3849</td>
<td style=""text-align: center;"">...</td>
<td style=""text-align: center;"">2021-12-02T04:55:26.214Z</td>
</tr>
</tbody>
</table>
</div>
I want to aggregate the data from both the tables in the past 1 hour to use for analytics, such that it looks like the table below.
<h3>PAGE_DATA</h3>
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th style=""text-align: center;"">page_id</th>
<th style=""text-align: center;"">visit_count</th>
<th style=""text-align: center;"">comment_count</th>
<th style=""text-align: center;"">created_at</th>
</tr>
</thead>
<tbody>
<tr>
<td style=""text-align: center;"">1024</td>
<td style=""text-align: center;"">14</td>
<td style=""text-align: center;"">3</td>
<td style=""text-align: center;"">2021-12-02T04:55:26.779Z</td>
</tr>
<tr>
<td style=""text-align: center;"">1111</td>
<td style=""text-align: center;"">11</td>
<td style=""text-align: center;"">8</td>
<td style=""text-align: center;"">2021-12-02T02:25:32.219Z</td>
</tr>
<tr>
<td style=""text-align: center;"">3849</td>
<td style=""text-align: center;"">1</td>
<td style=""text-align: center;"">0</td>
<td style=""text-align: center;"">2021-12-02T04:55:26.214Z</td>
</tr>
<tr>
<td style=""text-align: center;"">2412</td>
<td style=""text-align: center;"">0</td>
<td style=""text-align: center;"">1</td>
<td style=""text-align: center;"">2021-12-02T04:55:26.779Z</td>
</tr>
</tbody>
</table>
</div>

I have the above code as of now, however, it only prints the row when comment_count is null, but it does not do the same when visit_count is 0 and comment_count is &gt; 0.
My first question is, how do I get it to print even when visit_count results as 0.
Because someone could have gone on to the page the hour before but only made a comment later on.
Secondly, I am trying to run this code every hour with the use of pg_cron and I know that I can run a function directly in a cron scheduler, however, I am unable to turn the above code into a working postgres function that inserts a new row into the 'page_data' table each time its called.
Could someone help me out with these 2 issues? Thank you.",sql|postgresql
331,70260879,sort records by status and datetime asc or desc,"Guide me here, if you can:
I'm using mysql.
I need to order Events according to the sequence:
<ol>
<li>the ones that are happening: status = started
(and datetime ASC)</li>
</ol>

<ol start=""2"">
<li>the ones that will happen: status = created
(and datetime asc)</li>
</ol>
<pre><code>2021-12-07 13:00:00 | created
2021-12-07 14:00:00 | created
2021-12-07 15:00:00 | created
</code></pre>
<ol start=""3"">
<li>those that have passed the date but have not started
(and datetime desc)</li>
</ol>
<pre><code>2021-12-07 06:00:00 | created
2021-12-07 05:00:00 | created
2021-12-07 04:00:00 | created
</code></pre>
<ol start=""4"">
<li>the finished ones: status = finished
(and datetime desc)</li>
</ol>
<pre><code>2021-12-06 12:00:00 | finished
2021-12-05 17:00:00 | finished
2021-12-04 19:00:00 | finished
</code></pre>
I'm trying with some CASE WHEN...
<pre><code>order by
  CASE
    WHEN E.status = 'started' THEN 1
    WHEN E.status = 'created' &amp;&amp; eventDateTime &gt;= NOW() THEN 2
    WHEN E.status = 'created' &amp;&amp; eventDateTime &lt; NOW() THEN 3
    WHEN E.status = 'finished' THEN 4
    ELSE 5
  END
</code></pre>
But I didn't know how to match <code>THEN 1 &amp;&amp; eventDateTime ASC</code>
or <code>THEN 4 &amp;&amp; eventDateTime DESC</code>",mysql
332,70350663,Monthly cumulative differences calculation in postgres,"I am trying to write an sql script in postgres that find cumulative difference in total price and repayment amount. I have two tables as shown below. I have gone through solution provided <a href=""https://stackoverflow.com/questions/70336666/sum-of-cummulative-difference-within-group-in-postgres"">here</a> but it doesn't address my question.
",sql|postgresql
333,70295244,Selecting unique column values and returning corresponding values in mysql table,"<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th style=""text-align: left;"">SlNo</th>
<th style=""text-align: center;"">UserID</th>
<th style=""text-align: right;"">points</th>
</tr>
</thead>
<tbody>
<tr>
<td style=""text-align: left;"">1</td>
<td style=""text-align: center;"">001</td>
<td style=""text-align: right;"">Three</td>
</tr>
<tr>
<td style=""text-align: left;"">2</td>
<td style=""text-align: center;"">002</td>
<td style=""text-align: right;"">Three</td>
</tr>
<tr>
<td style=""text-align: left;"">3</td>
<td style=""text-align: center;"">001</td>
<td style=""text-align: right;"">Three</td>
</tr>
</tbody>
</table>
</div>
I have the following table named 'userdata' and I would like to get the points of just the unique usernames.

Is there a functionality in mysql that works similar to ==     ?",mysql
334,70295412,SQL (postgres) column name dynamically change based on function parameters(date),"I created a function to generate the previous month's sales report based on the date. The function works fine, the only problem is the column name is fixed. I would like the column name to be changed dynamically based on the parameter run_date.
For example, if the run_date is '12-09-2021', the column name should be Nov2021Netsales

Thank you.",sql|postgresql
335,70170714,How can I write this SQL in a better way?,"This is the query and I'm trying to write it in a better way.
Calculate the average number of languages in every country in a region.

This is how it should look.
<img src=""https://i.stack.imgur.com/GZifc.png"" alt=""enter image description here"" />",sql|postgresql
336,70199297,Run code in BigQuery (google sheets add-on): Access Denied,"I am using OWOX BI BigQuery Reports add-on in Google Sheets.
When I try to run the code, I get the following error: API call to bigquery.jobs.getQueryResults failed with error: Access Denied: BigQuery BigQuery: Permission denied while getting Drive credentials.
Any ideas on how to fix this issuesing OWOX BI BigQuery Reports add-on in Google Sheets.
When I try to run the code, I get the following error: API call to bigquery.jobs.getQueryResults failed with error: Access Denied: BigQuery BigQuery: Permission denied while getting Drive credentials.
Any ideas on how to fix this issueusing OWOX BI BigQuery Reports add-on in Google Sheets.
When I try to run the code, I get the following error: API call to bigquery.jobs.getQueryResults failed with error: Access Denied: BigQuery BigQuery: Permission denied while getting Drive credentials.
Any ideas on how to fix this issuesing OWOX BI BigQuery Reports add-on in Google Sheets.
When I try to run the code, I get the following error: API call to bigquery.jobs.getQueryResults failed with error: Access Denied: BigQuery BigQuery: Permission denied while getting Drive credentials.
Any ideas on how to fix this issue?",google-bigquery
337,70314863,Filter table from database by 2 filed and from 1 table,"I learn about the script autodidact and only PHP and Mysql and i don't know how to tell the things about the name part of script or syntax or anything i just know how to use it and hard to for me find my question from google, please understand me, sorry.
There is possible to filter 2 field  and <code>year</code> from 1 database?
<ul>
<li>Condition 1 : When i type firstname by input only, it work, start from refresh first if not go to condition 3.</li>
<li>Condition 2 : When i select year by select option only, it work, start from refresf first if not go to condition 3.</li>
<li>Condition 3 : When i select year and type by input, it doesn't work.</li>
</ul>
What i need is, when i select year 2009 and than when i just type 'a' Abdul and Agus selected from database, should only abdul selected from database.
I think the problem is my PHP and Mysql so i focus on them
Here my database <code>directory</code>:

and here is mysql query
<pre><code>$sql=&quot;SELECT * FROM directory where
status='Alumni' and year Like '%&quot;.$q.&quot;%' or
status='Alumni' and firstname Like '%&quot;.$q.&quot;%'&quot;;
</code></pre>",mysql
338,70243796,"After sorting the rank, how to select one record","I'm working with my database. And I want to sort by download and rank it. After that I want to select one record by id.
I know how to rank it.

<a href=""https://i.stack.imgur.com/1FVmr.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/1FVmr.png"" alt=""result above sql"" /></a>
So I try to use 'WHERE' to get one result
<pre><code>SELECT id, RANK() OVER(ORDER BY &quot;downLoad&quot; DESC) rank FROM gameinfo WHERE id='9b9df0c5-9906-4444-b30a-9b64ff8fea94';
</code></pre>
<a href=""https://i.stack.imgur.com/XbGjD.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/XbGjD.png"" alt=""wrong result"" /></a>
I got one record but the result was rank=1
I expect 2.
Right now I get all the gameinfo and ranked it all. After that, I search the id from JavaScript to get the right rank, but is there a way just using SQL to get one record?",sql|postgresql
339,70305774,MySQL get results of items not found in where clause,"I have a query like so:

I have a user with the ids 1,3 &amp; 4. What I am trying to do is get the results of ids not found. Example if i have ids 1,3 &amp; 4 in the table, I am expecting 2 &amp; 5 to be returned as those ids do not exists. I hope this makes sense and is possible.",mysql
340,70331501,Conversion of columns to rows,"
convert to
<pre><code>ID Name Subject Marks
1  Sally M       78
1  Sally E       85
1  Sally H       91
1  Sally S       76
2  Edward M       87
2  Edward E       90
2 Edward H       82
2 Edward S       87
</code></pre>",google-bigquery
341,70226462,Attempting to start MySQL service,"I installed xampp on c:/xampp, I started apache it started well when I started MySQL this happened [this what happend]<img src=""https://i.stack.imgur.com/GDSoQ.png"" alt=""1"" />
and stayed like this forever
tried the &quot;services.msc&quot; and changing port
didn't woralled xampp on c:/xampp, I started apache it started well when I started MySQL this happened [this what happend]<img src=""https://i.stack.imgur.com/GDSoQ.png"" alt=""1"" />
and stayed like this forever
tried the &quot;services.msc&quot; and changing port
didn't wortalled xampp on c:/xampp, I started apache it started well when I started MySQL this happened [this what happend]<img src=""https://i.stack.imgur.com/GDSoQ.png"" alt=""1"" />
and stayed like this forever
tried the &quot;services.msc&quot; and changing port
didn't woralled xampp on c:/xampp, I started apache it started well when I started MySQL this happened [this what happend]<img src=""https://i.stack.imgur.com/GDSoQ.png"" alt=""1"" />
and stayed like this forever
tried the &quot;services.msc&quot; and changing port
didn't work",mysql
342,70121577,Find out the report generation name,"Currently I have three tables, namely: hospital, doctor and test. The report generation time is calculated using report time minus the sample test time. How can I write a query to find out which hospital has the least average report generation time?
Table name: 
<h2>|name|</h2>
<h2>| 'A' |
| 'B' |
| 'C' |</h2>
Table name: <code>doctor</code>
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>id</th>
<th>doctor_name</th>
<th>hospital_name</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>'Eric'</td>
<td>'A'</td>
</tr>
<tr>
<td>2</td>
<td>'Peter'</td>
<td>'A'</td>
</tr>
<tr>
<td>3</td>
<td>'Sam'</td>
<td>'B'</td>
</tr>
<tr>
<td>4</td>
<td>'Park'</td>
<td>'B'</td>
</tr>
<tr>
<td>5</td>
<td>'Alan'</td>
<td>'C'</td>
</tr>
<tr>
<td>6</td>
<td>'Andrew'</td>
<td>'C'</td>
</tr>
</tbody>
</table>
</div>
Table name: <code>test</code>
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>id</th>
<th>test_date</th>
<th>test_time</th>
<th>report_date</th>
<th>report_time</th>
<th>doctor_id</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>'2021-10-9'</td>
<td>'19:30:00'</td>
<td>'2021-10-9'</td>
<td>'23:30:00'</td>
<td>1</td>
</tr>
<tr>
<td>2</td>
<td>'2021-10-9'</td>
<td>'14:00:00'</td>
<td>'2021-10-9'</td>
<td>'22:20:00'</td>
<td>2</td>
</tr>
<tr>
<td>3</td>
<td>'2021-10-9'</td>
<td>'20:30:00'</td>
<td>'2021-10-10'</td>
<td>'08:00:00'</td>
<td>3</td>
</tr>
<tr>
<td>4</td>
<td>'2021-10-10'</td>
<td>'07:30:00'</td>
<td>'2021-10-10'</td>
<td>'13:10:00'</td>
<td>4</td>
</tr>
<tr>
<td>5</td>
<td>'2021-10-10'</td>
<td>'09:30:00'</td>
<td>'2021-10-10'</td>
<td>'13:30:00'</td>
<td>5</td>
</tr>
<tr>
<td>6</td>
<td>'2021-10-10'</td>
<td>'11:00:00'</td>
<td>'2021-10-10'</td>
<td>'22:00:00'</td>
<td>6</td>
</tr>
<tr>
<td>7</td>
<td>'2021-10-10'</td>
<td>'15:20:00'</td>
<td>'2021-10-10'</td>
<td>'19:00:00'</td>
<td>1</td>
</tr>
<tr>
<td>8</td>
<td>'2021-10-11'</td>
<td>'08:00:00'</td>
<td>'2021-10-11'</td>
<td>'20:00:00'</td>
<td>4</td>
</tr>
</tbody>
</table>
</div>
the column hospital_name in table 'doctor' references hospital.name and the column doctor_id in table 'test' references doctor.id
<blockquote>
Expected result:

</blockquote>
Explanation: From the 'test' table, we can get the average report generation time of Hospital 'A' is 320 minutes since there are three records about Hospital 'A' (the doctors whose id are 1 and 2) and the average report generation time of Hospital 'B' is 1630 / 3 minutes since there are three records about Hospital 'B' (the doctors whose id are 3 and 4) and the average report generation time of Hospital 'C' is 450 minutes since there are two records about Hospital 'C' (the doctors whose id are 5 and 6). As a result, the answer is Hospital 'A'.
<pre><code>select TIMESTAMPDIFF(minute, timestamp(test_date,test_time), 
timestamp(report_date, report_time)) from test as t
inner join doctor as d
on t.doctor_id = d.id
inner join hospital as h
on d.hospital_name = h.name; 
</code></pre>
I don't know how to find the average generation time",mysql
343,70321514,Postgres array comparison - find missing elements,"I have the table below.

I want to find out the elements which are in arr1 and not in arr2. <br>
Expected output
<pre><code>
id                  diff                  
             
1                   {3,4}                     
2                   {0}                 

</code></pre>
If I have 2 individual arrays, I can do as follows:
<pre><code>select array_agg(elements)
from (
  select unnest(array[0])
  except
  select unnest(array[3,4,5])
) t (elements)
</code></pre>
But I am unable to integrate this code to work by selecting from my table.
Any help would be highly appreciated. Thank you!!",postgresql
344,70154690,Neo4j James Bond,"I have been playing around with the James Bond dataset in Neo4J graphgist and using Neo4J Bloom I want to find the different cars in a particular Movie but I dont know how to search for it. As it is now I get all cars in all movies.
What would be the proper Cypher code for retrieving all the cars in a specific movie been playing around with the James Bond dataset in Neo4J graphgist and using Neo4J Bloom I want to find the different cars in a particular Movie but I dont know how to search for it. As it is now I get all cars in all movies.
What would be the proper Cypher code for retrieving all the cars in a specific moviee been playing around with the James Bond dataset in Neo4J graphgist and using Neo4J Bloom I want to find the different cars in a particular Movie but I dont know how to search for it. As it is now I get all cars in all movies.
What would be the proper Cypher code for retrieving all the cars in a specific movie been playing around with the James Bond dataset in Neo4J graphgist and using Neo4J Bloom I want to find the different cars in a particular Movie but I dont know how to search for it. As it is now I get all cars in all movies.
What would be the proper Cypher code for retrieving all the cars in a specific movie?",neo4j|cypher
345,70132265,Neo4j movies dataset,"am new to neo4j and I want to know how to query for example, in movies dataset,&quot;Which movie has the most number of actors in it?&quot; and Which pair of actors have acted together in most number of movies to neo4j and I want to know how to query for example, in movies dataset,&quot;Which movie has the most number of actors in it?&quot; and Which pair of actors have acted together in most number of moviesw to neo4j and I want to know how to query for example, in movies dataset,&quot;Which movie has the most number of actors in it?&quot; and Which pair of actors have acted together in most number of movies to neo4j and I want to know how to query for example, in movies dataset,&quot;Which movie has the most number of actors in it?&quot; and Which pair of actors have acted together in most number of movies?",neo4j
346,70223183,1064 - You have an error in your SQL syntax;check the manual that corresponds to your MySQL server version,"
<blockquote>
1064 - You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'BLOB NOT NULL,
<code>stars</code> VARCHAR(255) CHARACTER
SET utf8 COLLATE utf8_unicode' at line 6
</blockquote>",mysql
347,70030838,How to turn this script into a UDF in BigQuery,"This should be easy to do but I'm struggling.
I have the below script that calculates a number of business dates before or after a date. I need to change to UDF as I'll be using it in multiple views. It is for Bigquery:

I'm just not sure how to turn it into a Select statement or if it is possible to do UDF without a Select statement with the loops remaining.
I'd appreciate any help.",google-bigquery
348,70267210,"How to call a function in a generated column? ""generation expression is not immutable""","I'm trying to call a function  in a generated column:
<pre class=""lang-sql prettyprint-override""><code>create table auth.user (
    id serial primary key,
    hash_id text generated always as (id_encode(id, gen_salt('bf'), 8)) stored unique,
    ...
</code></pre>
But it gives the error:

But it gives the error:
<pre><code>ERROR:  generation expression is not immutable
</code></pre>
It works if I hard-code the salt instead of using <code>gen_salt</code>.
How can I call this function from within this <code>create table</code> statement?",sql|postgresql
349,70046370,How to split the text in Big Query,"I have a column  which contain of countrycode and Device. For example, JPPHONE,UAEDESKTOP and I want to separate a new column as JP and PHONE , UAE and DESKTOP <a href=""https://i.stack.imgur.com/jEo2Q.png"" rel=""nofollow noreferrer"">enter image description here</a>
Could you please advise how can i do that?
Your help is highly appreciate a column  which contain of countrycode and Device. For example, JPPHONE,UAEDESKTOP and I want to separate a new column as JP and PHONE , UAE and DESKTOP <a href=""https://i.stack.imgur.com/jEo2Q.png"" rel=""nofollow noreferrer"">enter image description here</a>
Could you please advise how can i do that?
Your help is highly appreciatee a column  which contain of countrycode and Device. For example, JPPHONE,UAEDESKTOP and I want to separate a new column as JP and PHONE , UAE and DESKTOP <a href=""https://i.stack.imgur.com/jEo2Q.png"" rel=""nofollow noreferrer"">enter image description here</a>
Could you please advise how can i do that?
Your help is highly appreciate a column  which contain of countrycode and Device. For example, JPPHONE,UAEDESKTOP and I want to separate a new column as JP and PHONE , UAE and DESKTOP <a href=""https://i.stack.imgur.com/jEo2Q.png"" rel=""nofollow noreferrer"">enter image description here</a>
Could you please advise how can i do that?
Your help is highly appreciated",google-bigquery
350,70213642,Grafana with MySQL exponential growth graph,"I have a MySQL table to record the number of users
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>id</th>
<th>email</th>
<th>name</th>
<th>created</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>user1@example.com</td>
<td>John</td>
<td>2019-02-05 18:53:50.000000</td>
</tr>
<tr>
<td>2</td>
<td>user2@example.com</td>
<td>Rock</td>
<td>2019-02-06 18:53:50.000000</td>
</tr>
<tr>
<td>3</td>
<td>user3@example.com</td>
<td>Sena</td>
<td>2019-02-08 18:53:50.000000</td>
</tr>
<tr>
<td>4</td>
<td>user4@example.com</td>
<td>Anny</td>
<td>2019-02-08 18:53:50.000000</td>
</tr>
</tbody>
</table>
</div>
I want to get the exponential growth in count per day
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>date</th>
<th>count</th>
</tr>
</thead>
<tbody>
<tr>
<td>2019-02-05</td>
<td>1</td>
</tr>
<tr>
<td>2019-02-06</td>
<td>2</td>
</tr>
<tr>
<td>2019-02-07</td>
<td>2</td>
</tr>
<tr>
<td>2019-02-08</td>
<td>4</td>
</tr>
</tbody>
</table>
</div>
And draw a similar graph on the Grafana portal
<a href=""https://i.stack.imgur.com/DQ7Sd.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/DQ7Sd.png"" alt=""enter image description here"" /></a>
I tried using  but it gives the count of data per day
<a href=""https://i.stack.imgur.com/bqX5j.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/bqX5j.png"" alt=""enter image description here"" /></a>
The query generated on Graphana is
",mysql
351,70335887,sql query with avg price per day and group by day,"I got this table

and this query:
<pre><code>SELECT &quot;Name&quot;, &quot;Time&quot;, &quot;LowPrice&quot;, &quot;HighPrice&quot;
FROM rp_prices
WHERE &quot;Time&quot; &gt; NOW() - INTERVAL '10 day';
</code></pre>
I need to get only one price, with avg I think, and grouped by day, something like this
<pre><code>+------+-------------+-----------+-----------+
| Name |    Time     | LowPrice  | HighPrice |
+------+-------------+-----------+-----------+
| #AAA | 12/13/2021  |    383.12 |     393.9 |
| #BBB | 12/13/2021  |   1110.34 |    1114.1 |
+------+-------------+-----------+-----------+
</code></pre>
Thanks for your help",sql|postgresql
352,70117939,Combine row depending on their value of another column,"I'm trying to select all columns from my table <strong>properties</strong>, but filter through the records with some conditions.
if a record's compositeKey equqals to another compositeKey, and then the apartment value is not equal to the other, and their group is equal to &quot;----&quot; then combine them into 1 record while adding their apartments together
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>compositeKey</th>
<th>apartments</th>
<th>group</th>
<th>name</th>
</tr>
</thead>
<tbody>
<tr>
<td>key1</td>
<td>15</td>
<td>group1</td>
<td>blake</td>
</tr>
<tr>
<td>key2</td>
<td>20</td>
<td>----</td>
<td>michael</td>
</tr>
<tr>
<td>key2</td>
<td>21</td>
<td>----</td>
<td>michael</td>
</tr>
</tbody>
</table>
</div>
I would like to select all the values from the table and return them as this output
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>compositeKey</th>
<th>apartments</th>
<th>group</th>
<th>name</th>
</tr>
</thead>
<tbody>
<tr>
<td>key1</td>
<td>15</td>
<td>group1</td>
<td>blake</td>
</tr>
<tr>
<td>key2</td>
<td>41</td>
<td>----</td>
<td>michael</td>
</tr>
</tbody>
</table>
</div>
How can I achieve thisying to select all columns from my table <strong>properties</strong>, but filter through the records with some conditions.
if a record's compositeKey equqals to another compositeKey, and then the apartment value is not equal to the other, and their group is equal to &quot;----&quot; then combine them into 1 record while adding their apartments together
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>compositeKey</th>
<th>apartments</th>
<th>group</th>
<th>name</th>
</tr>
</thead>
<tbody>
<tr>
<td>key1</td>
<td>15</td>
<td>group1</td>
<td>blake</td>
</tr>
<tr>
<td>key2</td>
<td>20</td>
<td>----</td>
<td>michael</td>
</tr>
<tr>
<td>key2</td>
<td>21</td>
<td>----</td>
<td>michael</td>
</tr>
</tbody>
</table>
</div>
I would like to select all the values from the table and return them as this output
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>compositeKey</th>
<th>apartments</th>
<th>group</th>
<th>name</th>
</tr>
</thead>
<tbody>
<tr>
<td>key1</td>
<td>15</td>
<td>group1</td>
<td>blake</td>
</tr>
<tr>
<td>key2</td>
<td>41</td>
<td>----</td>
<td>michael</td>
</tr>
</tbody>
</table>
</div>
How can I achieve thisrying to select all columns from my table <strong>properties</strong>, but filter through the records with some conditions.
if a record's compositeKey equqals to another compositeKey, and then the apartment value is not equal to the other, and their group is equal to &quot;----&quot; then combine them into 1 record while adding their apartments together
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>compositeKey</th>
<th>apartments</th>
<th>group</th>
<th>name</th>
</tr>
</thead>
<tbody>
<tr>
<td>key1</td>
<td>15</td>
<td>group1</td>
<td>blake</td>
</tr>
<tr>
<td>key2</td>
<td>20</td>
<td>----</td>
<td>michael</td>
</tr>
<tr>
<td>key2</td>
<td>21</td>
<td>----</td>
<td>michael</td>
</tr>
</tbody>
</table>
</div>
I would like to select all the values from the table and return them as this output
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>compositeKey</th>
<th>apartments</th>
<th>group</th>
<th>name</th>
</tr>
</thead>
<tbody>
<tr>
<td>key1</td>
<td>15</td>
<td>group1</td>
<td>blake</td>
</tr>
<tr>
<td>key2</td>
<td>41</td>
<td>----</td>
<td>michael</td>
</tr>
</tbody>
</table>
</div>
How can I achieve thisying to select all columns from my table <strong>properties</strong>, but filter through the records with some conditions.
if a record's compositeKey equqals to another compositeKey, and then the apartment value is not equal to the other, and their group is equal to &quot;----&quot; then combine them into 1 record while adding their apartments together
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>compositeKey</th>
<th>apartments</th>
<th>group</th>
<th>name</th>
</tr>
</thead>
<tbody>
<tr>
<td>key1</td>
<td>15</td>
<td>group1</td>
<td>blake</td>
</tr>
<tr>
<td>key2</td>
<td>20</td>
<td>----</td>
<td>michael</td>
</tr>
<tr>
<td>key2</td>
<td>21</td>
<td>----</td>
<td>michael</td>
</tr>
</tbody>
</table>
</div>
I would like to select all the values from the table and return them as this output
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>compositeKey</th>
<th>apartments</th>
<th>group</th>
<th>name</th>
</tr>
</thead>
<tbody>
<tr>
<td>key1</td>
<td>15</td>
<td>group1</td>
<td>blake</td>
</tr>
<tr>
<td>key2</td>
<td>41</td>
<td>----</td>
<td>michael</td>
</tr>
</tbody>
</table>
</div>
How can I achieve this?",sql|postgresql
353,70258439,Count if previous month data exists postgres,"i'm stuck with a query to count id where if it exists in previous month than 1
my table look like this

i'm stuck with this query
<pre><code>SELECT date_trunc('month',date), id
FROM table
WHERE id IN 
(SELECT DISTINCT id FROM table WHERE date 
BETWEEN date_trunc('month', current_date) - interval '1 month' AND date_trunc('month', current_date)
</code></pre>
the main problem is that i stuck with current_date function. is there any dynamic ways change current_date? thanks
What i expected to be my result is
<pre><code>date      |      count    |
2020-02-01|       0       |
2020-03-01|       1       |
2020-04-01|       1       |
2020-05-01|       1       |
2020-06-01|       2       |
</code></pre>",sql|postgresql
354,70350758,Two columns next to each other from two queries in PostgreSQL,"How do I get two columns  and <code>slecht</code> side by side with the two following queries. They do work independently of each other.
1:
<pre class=""lang-sql prettyprint-override""><code>select count (*) as goed
from movie_info_idx mii 
join title t 
on mii.movie_id = t.id 
join info_type it 
on it.id = mii.info_type_id
join kind_type kt
on kt.id = t.kind_id 
where kt.id = '1'
and it.id = '101'
and mii.info &gt; '7,5'
</code></pre>
2:
<pre class=""lang-sql prettyprint-override""><code>select count (*) as slecht
from movie_info_idx mii 
join title t 
on mii.movie_id = t.id 
join info_type it 
on it.id = mii.info_type_id
join kind_type kt
on kt.id = t.kind_id 
where kt.id = '1'
and it.id = '101'
and mii.info &lt;= '7,5'
</code></pre>
But how do I merge both queries so I get two columns <code>goed</code> and <code>slecht</code> next to each other
2:
<pre class=""lang-sql prettyprint-override""><code>select count (*) as slecht
from movie_info_idx mii 
join title t 
on mii.movie_id = t.id 
join info_type it 
on it.id = mii.info_type_id
join kind_type kt
on kt.id = t.kind_id 
where kt.id = '1'
and it.id = '101'
and mii.info &lt;= '7,5'
</code></pre>
But how do I merge both queries so I get two columns <code>goed</code> and <code>slecht</code> next to each other?",postgresql
355,70151646,How do I get min of jsonb array,"I have this

I want to get price min value where bed &gt;0 and price &gt;2000
I tried this
<pre><code>SELECT id,((jsonb_array_elements(p.bedBathPrice)-&gt;'bed'))  FROM 
properties p where p.id = 2 
</code></pre>
So can I do something below like bed &gt;0 and price &gt;2000 and then get min price
but what if I need to add p.bedbathprice in that value
<pre><code>    with the_original_table ( doc_data) as 
(
 values
 ( p.bedbathprice::jsonb)
),
normalized_data as
(
 select 
        (j -&gt;&gt; 'bath')::integer as bath, 
        (j -&gt;&gt; 'bed')::integer as bed, 
        p::numeric as price
 from the_original_table 
 cross join lateral jsonb_array_elements(doc_data) as j
 cross join lateral jsonb_array_elements(j -&gt; 'price') as p
) 
select p.id ,(select min(nd_price) as min_price from (select (price) as nd_price from normalized_data nd where nd.bed&gt;=2 and nd.price&gt;2085)as nd) from properties p where p.parent_id  is not null and p.id=3 
and (exists(select 1 from normalized_data where bed&gt;=2 and price&gt;2085));
</code></pre>
like this??? it says from clouse can't use p.bedbthprice in value",postgresql
356,70254999,PostgreSQL how to set auto commit false,"In the <a href=""https://www.tutorialspoint.com/python_data_access/python_postgresql_update_table.htm"" rel=""nofollow noreferrer"">tutorial</a>, it says
<blockquote>
Turn off the auto-commit mode by setting false as value to the
attribute autocommit.
</blockquote>
But in the example, it sets  to <code>True</code>. It makes me confused. Is it a typo? Shouldn't we set the value to <code>False</code>?
",postgresql
357,70262698,Label MYSQL table column,"I want provide label to column name in MY SQL table similar to SAS. For Example, I have a table with two columns ID, Location. I want to assign them labels as EmployeeID, Employee Location respectively retaining their names.
Let me know if MYSQL allows users to specify name &amp; label to a given column.
Thank you,
Siva Kuma provide label to column name in MY SQL table similar to SAS. For Example, I have a table with two columns ID, Location. I want to assign them labels as EmployeeID, Employee Location respectively retaining their names.
Let me know if MYSQL allows users to specify name &amp; label to a given column.
Thank you,
Siva Kumat provide label to column name in MY SQL table similar to SAS. For Example, I have a table with two columns ID, Location. I want to assign them labels as EmployeeID, Employee Location respectively retaining their names.
Let me know if MYSQL allows users to specify name &amp; label to a given column.
Thank you,
Siva Kuma provide label to column name in MY SQL table similar to SAS. For Example, I have a table with two columns ID, Location. I want to assign them labels as EmployeeID, Employee Location respectively retaining their names.
Let me know if MYSQL allows users to specify name &amp; label to a given column.
Thank you,
Siva Kumar",mysql
358,70148035,What is the advantage of using BigQuerys QUALIFY operator?,"I have just discovered BigQuerys QUALIFY operator and have been reading about it at <a href=""https://cloud.google.com/bigquery/docs/reference/standard-sql/query-syntax#qualify_clause"" rel=""nofollow noreferrer"">https://cloud.google.com/bigquery/docs/reference/standard-sql/query-syntax#qualify_clause</a>
That documentation though does not explain why I should use QUALIFY instead of a normal WHERE predicate. If we take the example provided in the documentation:

That query could also be written as
<pre><code>SELECT
 item,
 RANK() OVER (PARTITION BY category ORDER BY purchases DESC) as rank
FROM Produce
WHERE Produce.category = 'vegetable'
AND rank &lt;= 3
</code></pre>
and it would produce the same result. So what is the advantage of using QUALIFY?",google-bigquery
359,70367729,Will a Postgres Serial Primary Key overwrite an existing primary key?,"I just created a new database and copied all of the data from another database into the new database. In one of the database tables titled 'users', there is a column titled 'user_id' that I have set to 'serial primary key', so it auto increments.
I just noticed that the auto increment number for new users reset to 1 after the database change.
Currently, the lowest user_id number is 13 and the highest is 568. Before changing to the new database, the auto increment would continue past the highest number in the database. But now in the new database, it started the auto increment back at 1.
My question is, when the auto increment reaches 13, will postgres automatically jump past the number 13 to the next available number that is currently not in use? Or will the auto increment use the number 13 and I will have two users with the same user_id 13 created a new database and copied all of the data from another database into the new database. In one of the database tables titled 'users', there is a column titled 'user_id' that I have set to 'serial primary key', so it auto increments.
I just noticed that the auto increment number for new users reset to 1 after the database change.
Currently, the lowest user_id number is 13 and the highest is 568. Before changing to the new database, the auto increment would continue past the highest number in the database. But now in the new database, it started the auto increment back at 1.
My question is, when the auto increment reaches 13, will postgres automatically jump past the number 13 to the next available number that is currently not in use? Or will the auto increment use the number 13 and I will have two users with the same user_id 13t created a new database and copied all of the data from another database into the new database. In one of the database tables titled 'users', there is a column titled 'user_id' that I have set to 'serial primary key', so it auto increments.
I just noticed that the auto increment number for new users reset to 1 after the database change.
Currently, the lowest user_id number is 13 and the highest is 568. Before changing to the new database, the auto increment would continue past the highest number in the database. But now in the new database, it started the auto increment back at 1.
My question is, when the auto increment reaches 13, will postgres automatically jump past the number 13 to the next available number that is currently not in use? Or will the auto increment use the number 13 and I will have two users with the same user_id 13 created a new database and copied all of the data from another database into the new database. In one of the database tables titled 'users', there is a column titled 'user_id' that I have set to 'serial primary key', so it auto increments.
I just noticed that the auto increment number for new users reset to 1 after the database change.
Currently, the lowest user_id number is 13 and the highest is 568. Before changing to the new database, the auto increment would continue past the highest number in the database. But now in the new database, it started the auto increment back at 1.
My question is, when the auto increment reaches 13, will postgres automatically jump past the number 13 to the next available number that is currently not in use? Or will the auto increment use the number 13 and I will have two users with the same user_id 13?",sql|postgresql
360,70101048,MySQL Installer Stuck on Windows Server 2019,"I am trying to install MySQL database server 8.0.12 on a server with Windows Server 2019 operating system.
The installation is stuck here and does not proceed and shows no errors:
<a href=""https://i.stack.imgur.com/CyJun.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/CyJun.png"" alt=""enter image description here"" /></a>
I have tried so many times.
Every time before reinstalling I have followed these steps without success:
<strong>Step 1</strong>
Uninstall MySQL from Control Panel. To do so,
Go to
<strong>Control Panel &gt;Programs and Features &gt; Select MySQL &gt;</strong>
Click on Uninstall.
After you have uninstalled MySQL through Add/Remove programs, you now need to remove the existing database information which includes your actual data.
If you need any of that data, be sure to back it up.
Next you can delete the data directory.
<strong>Step 2</strong>
Run Command Prompt as Administrator and execute the following command to stop and remove MySQL service.
<strong>Net stop MySQL</strong>
<strong>Sc delete MySQL</strong>
<strong>Step 3</strong>
Click on Start, type in Show hidden files and folders.
Select the View tab and select Show hidden files and folders.
Now explore the following locations and delete following folders.
<strong>C:\Program Files\MySQL</strong>
<strong>C:\Program Files (x86)\MySQL</strong>
<strong>C:\ProgramData\MySQL</strong>
And if exists, delete the folder from the location.
<strong>C:\Users[User-Name]\AppData\Roaming\MySQL</strong>
Restart your device and check the status.
How to do resolve thisrying to install MySQL database server 8.0.12 on a server with Windows Server 2019 operating system.
The installation is stuck here and does not proceed and shows no errors:
<a href=""https://i.stack.imgur.com/CyJun.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/CyJun.png"" alt=""enter image description here"" /></a>
I have tried so many times.
Every time before reinstalling I have followed these steps without success:
<strong>Step 1</strong>
Uninstall MySQL from Control Panel. To do so,
Go to
<strong>Control Panel &gt;Programs and Features &gt; Select MySQL &gt;</strong>
Click on Uninstall.
After you have uninstalled MySQL through Add/Remove programs, you now need to remove the existing database information which includes your actual data.
If you need any of that data, be sure to back it up.
Next you can delete the data directory.
<strong>Step 2</strong>
Run Command Prompt as Administrator and execute the following command to stop and remove MySQL service.
<strong>Net stop MySQL</strong>
<strong>Sc delete MySQL</strong>
<strong>Step 3</strong>
Click on Start, type in Show hidden files and folders.
Select the View tab and select Show hidden files and folders.
Now explore the following locations and delete following folders.
<strong>C:\Program Files\MySQL</strong>
<strong>C:\Program Files (x86)\MySQL</strong>
<strong>C:\ProgramData\MySQL</strong>
And if exists, delete the folder from the location.
<strong>C:\Users[User-Name]\AppData\Roaming\MySQL</strong>
Restart your device and check the status.
How to do resolve thistrying to install MySQL database server 8.0.12 on a server with Windows Server 2019 operating system.
The installation is stuck here and does not proceed and shows no errors:
<a href=""https://i.stack.imgur.com/CyJun.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/CyJun.png"" alt=""enter image description here"" /></a>
I have tried so many times.
Every time before reinstalling I have followed these steps without success:
<strong>Step 1</strong>
Uninstall MySQL from Control Panel. To do so,
Go to
<strong>Control Panel &gt;Programs and Features &gt; Select MySQL &gt;</strong>
Click on Uninstall.
After you have uninstalled MySQL through Add/Remove programs, you now need to remove the existing database information which includes your actual data.
If you need any of that data, be sure to back it up.
Next you can delete the data directory.
<strong>Step 2</strong>
Run Command Prompt as Administrator and execute the following command to stop and remove MySQL service.
<strong>Net stop MySQL</strong>
<strong>Sc delete MySQL</strong>
<strong>Step 3</strong>
Click on Start, type in Show hidden files and folders.
Select the View tab and select Show hidden files and folders.
Now explore the following locations and delete following folders.
<strong>C:\Program Files\MySQL</strong>
<strong>C:\Program Files (x86)\MySQL</strong>
<strong>C:\ProgramData\MySQL</strong>
And if exists, delete the folder from the location.
<strong>C:\Users[User-Name]\AppData\Roaming\MySQL</strong>
Restart your device and check the status.
How to do resolve thisrying to install MySQL database server 8.0.12 on a server with Windows Server 2019 operating system.
The installation is stuck here and does not proceed and shows no errors:
<a href=""https://i.stack.imgur.com/CyJun.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/CyJun.png"" alt=""enter image description here"" /></a>
I have tried so many times.
Every time before reinstalling I have followed these steps without success:
<strong>Step 1</strong>
Uninstall MySQL from Control Panel. To do so,
Go to
<strong>Control Panel &gt;Programs and Features &gt; Select MySQL &gt;</strong>
Click on Uninstall.
After you have uninstalled MySQL through Add/Remove programs, you now need to remove the existing database information which includes your actual data.
If you need any of that data, be sure to back it up.
Next you can delete the data directory.
<strong>Step 2</strong>
Run Command Prompt as Administrator and execute the following command to stop and remove MySQL service.
<strong>Net stop MySQL</strong>
<strong>Sc delete MySQL</strong>
<strong>Step 3</strong>
Click on Start, type in Show hidden files and folders.
Select the View tab and select Show hidden files and folders.
Now explore the following locations and delete following folders.
<strong>C:\Program Files\MySQL</strong>
<strong>C:\Program Files (x86)\MySQL</strong>
<strong>C:\ProgramData\MySQL</strong>
And if exists, delete the folder from the location.
<strong>C:\Users[User-Name]\AppData\Roaming\MySQL</strong>
Restart your device and check the status.
How to do resolve this?",mysql
361,70114076,Find Interview Candidates in SQL via Leetcode,"In Table Contests

contest_id is the primary key for this table.
This table contains the LeetCode contest ID and the user IDs of the gold, silver, and bronze medalists.
It is guaranteed that any consecutive contests have consecutive IDs and that no ID is skipped.
In Table Users
<pre><code>+-------------+---------+
| Column Name | Type    |
+-------------+---------+
| user_id     | int     |
| mail        | varchar |
| name        | varchar |
+-------------+---------+
</code></pre>
user_id is the primary key for this table.
This table contains information about the users.
Write an SQL query to report the name and the mail of all interview candidates. A user is an interview candidate if at least one of these two conditions is true:
The user won any medal in three or more consecutive contests.
The user won the gold medal in three or more different contests (not necessarily consecutive).
Return the result table in any order.
Answer in MYSQL. <strong>Now the following code is clear but I don't understand how are we using columns in &quot;group by&quot; function which are not there in the select statement. Isn't this the basics of SQL - that you can only group by the columns which are in your select query?</strong>
<pre><code>WITH winner AS
    (SELECT Users.*, contest_id, gold_medal 
    FROM Users, Contests
    WHERE user_id = gold_medal 
    OR user_id = silver_medal 
    OR user_id = bronze_medal 
    ORDER BY user_id, contest_id)

SELECT name, mail 
FROM
    (SELECT user_id, name, mail, 
    (contest_id - ROW_NUMBER() OVER(PARTITION BY user_id ORDER BY contest_id)) AS diff
    FROM winner) AS aa
GROUP BY user_id, diff
HAVING COUNT(*) &gt;= 3

UNION

SELECT name, mail 
FROM winner 
WHERE user_id = gold_medal 
GROUP BY user_id 
HAVING count(*) &gt;= 3;
</code></pre>",mysql
362,70186922,How to combine a date and string in Postgresql,"I need to combine a date with a string in Postgresql.

I need to concatenate these two. I have to change multi_app_documentation.nsma1_dt to YYYYMMDD format and then add the multi_app_documentation.nsma1_ans (string) onto it. Is this possible to do?",postgresql
363,70209939,Postgres insert into a specified column in the table from another column in the same table where a primary key exists,"I've dug around on here and accepted answers to other questions haven't worked for me.
I have a table &quot;mytable&quot; defined as such
<pre class=""lang-sql prettyprint-override""></pre>
column3 is all null, and I want to insert column2/1.25 into column3
I've tried these:
<pre class=""lang-sql prettyprint-override""><code>--This gets 23502 &quot;violates not-null constraint&quot;
insert into mytable (column3)
select column2/1.25 from mytable

--This gets 42601 &quot;syntax error near &quot;select&quot;&quot;
insert into mytable (column3)
select column2/1.25 from mytable

--Same as above with parentheses, gets the same error
insert into mytable (column3) values
(select column2/1.25 from mytable )

--Error 42601 &quot;syntax error at or near &quot;select&quot;&quot;
insert into mytable (column1,column3) values
(select column1, column2/1.25 from mytable)
</code></pre>
I've tried other slight variations of parentheses, fields in double quotes, but can't figure out why this is throwing me errors. Column1 is a primary key and not nullable, but I'm not trying to insert into that column.
Any help would be appreciate
column3 is all null, and I want to insert column2/1.25 into column3
I've tried these:
<pre class=""lang-sql prettyprint-override""><code>--This gets 23502 &quot;violates not-null constraint&quot;
insert into mytable (column3)
select column2/1.25 from mytable

--This gets 42601 &quot;syntax error near &quot;select&quot;&quot;
insert into mytable (column3)
select column2/1.25 from mytable

--Same as above with parentheses, gets the same error
insert into mytable (column3) values
(select column2/1.25 from mytable )

--Error 42601 &quot;syntax error at or near &quot;select&quot;&quot;
insert into mytable (column1,column3) values
(select column1, column2/1.25 from mytable)
</code></pre>
I've tried other slight variations of parentheses, fields in double quotes, but can't figure out why this is throwing me errors. Column1 is a primary key and not nullable, but I'm not trying to insert into that column.
Any help would be appreciated",sql|postgresql
364,70052317,Mysql Query Error 1054 - Unknown column in the 'field list',"I'm learning MYSQL FULL JOIN queries using the Northwind database. This is my query,

Customers table schema,
<pre><code>CREATE TABLE `customers` (
  `CustomerID` varchar(5) NOT NULL,
  `CompanyName` varchar(40) NOT NULL,
  `ContactName` varchar(30) DEFAULT NULL,
  `ContactTitle` varchar(30) DEFAULT NULL,
  `Address` varchar(60) DEFAULT NULL,
  `City` varchar(15) DEFAULT NULL,
  `Region` varchar(15) DEFAULT NULL,
  `PostalCode` varchar(10) DEFAULT NULL,
  `Country` varchar(15) DEFAULT NULL,
  `Phone` varchar(24) DEFAULT NULL,
  `Fax` varchar(24) DEFAULT NULL,
  `Image` longblob,
  `ImageThumbnail` longblob,
  PRIMARY KEY (`CustomerID`),
  KEY `City` (`City`),
  KEY `CompanyName` (`CompanyName`),
  KEY `PostalCode` (`PostalCode`),
  KEY `Region` (`Region`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;
</code></pre>
Orders table schema,
<pre><code>CREATE TABLE `orders` (
  `OrderID` int(11) NOT NULL AUTO_INCREMENT,
  `CustomerID` varchar(5) DEFAULT NULL,
  `EmployeeID` int(11) DEFAULT NULL,
  `OrderDate` datetime DEFAULT NULL,
  `RequiredDate` datetime DEFAULT NULL,
  `ShippedDate` datetime DEFAULT NULL,
  `ShipVia` int(11) DEFAULT NULL,
  `Freight` decimal(19,4) DEFAULT '0.0000',
  `ShipName` varchar(40) DEFAULT NULL,
  `ShipAddress` varchar(60) DEFAULT NULL,
  `ShipCity` varchar(15) DEFAULT NULL,
  `ShipRegion` varchar(15) DEFAULT NULL,
  `ShipPostalCode` varchar(10) DEFAULT NULL,
  `ShipCountry` varchar(15) DEFAULT NULL,
  PRIMARY KEY (`OrderID`),
  KEY `CustomerID` (`CustomerID`),
  KEY `EmployeeID` (`EmployeeID`),
  KEY `OrderDate` (`OrderDate`),
  KEY `ShippedDate` (`ShippedDate`),
  KEY `ShipPostalCode` (`ShipPostalCode`)
) ENGINE=MyISAM AUTO_INCREMENT=11078 DEFAULT CHARSET=utf8;
</code></pre>
And this is MySQL server version <code>5.7.35 - MySQL Community Server (GPL)</code>
I am getting <code>#1054 - Unknown column 'customers.CompanyName' in 'field list'</code>
Can someone point out what I am doing wrong?",mysql
365,70264632,Set datatype on END AS in CASE ELSE statement - PostgreSQL,"I want to make INT be the data type for this column I'm creating. How do I do that? I tried adding AS INT to the end of END AS &quot;salary_deviation&quot; but that does not work. I tried wrapping END AS in CAST() but that didnt work either.

Any ideas on the syntax to do this?",sql|postgresql
366,70358757,Trigger Function Doesn't Update the Specified Table,"I have a table, payment_detail, that is comprised of an inner join from two other tables (customer &amp; payment), created as follows:

Now I want to create a trigger function that will update this detail table. This is my current trigger function:
<pre><code>CREATE OR REPLACE FUNCTION update_payment_detail()
   RETURNS TRIGGER
   LANGUAGE PLPGSQL
   AS
$$
BEGIN
   UPDATE payment_detail
      SET
      customer_id = customer.customer_id,
      first_name = customer.first_name,
      last_name = customer.last_name,
      payment_id = payment.payment_id,
      amount = payment.amount
      FROM
         payment
         INNER JOIN customer ON payment.customer_id = customer.customer_id
      WHERE customer.customer_id = payment_detail.customer_id;
      RETURN NULL;
END;
$$

CREATE TRIGGER payment_detail_change
   AFTER UPDATE OR INSERT
   ON payment
   FOR EACH ROW
   EXECUTE PROCEDURE update_payment_detail();
</code></pre>
So, the way it's supposed to work is that when an INSERT or UPDATE operation occurs on the payment table, the trigger function is invoked and the update_payment_detail() procedure is executed, which should  result in the payment_detail table being updated. I test the trigger by inserting a new row into the payment table:
<pre><code>INSERT INTO payment(customer_id, staff_id, rental_id, amount, payment_date)
VALUES (1, 2, 1849, 4.25, now());
</code></pre>
The payment table updates perfectly fine; I can see the inserted row. However, the table targeted for the trigger to update, payment_detail, does not show the new row. So the trigger fails to update the payment_detail table. How could I resolve this, based on the code above?",postgresql
367,70248693,Trigger keeps updating value in every row instead of particular one,"I am trying to calculate a sum for each particular order. I am using this trigger but it doesn't work properly, it updates every row with the same value instead of the only one with proper id.
done_services table

service table
<pre><code>id
name
</code></pre>
payment table
<pre><code>id
sum
service_id
</code></pre>
<pre><code>CREATE FUNCTION make_sum() RETURNS TRIGGER
    AS $$
        BEGIN
            UPDATE payment
                SET sum = (select sum(price) from done_services where service_id = new.service_id);
            RETURN NULL;
    END;$$ LANGUAGE plpgsql;
    
CREATE TRIGGER make_sum
AFTER INSERT ON basket FOR EACH ROW EXECUTE FUNCTION make_sum(); 
</code></pre>
I used this command to enter an item
<code>insert into done_services(id, service_id, price) values(uuid_generate_v4(), '76594d2f-7153-495f-9671-0ddaa331568c', 100);</code>
But the sum changed for both rows instead of the only one with service id
<a href=""https://i.stack.imgur.com/aFAsk.png"" rel=""nofollow noreferrer"">Image</a>",sql|postgresql
368,70161222,"BigQuery error message help, I'm a beginner. Table name missing dataset?? What can I try to remedy this?","Error running query
Table name &quot;departments&quot; missing dataset while no default dataset is set in the request.
My table is named &quot;departments&quot; EXACTLY as it is seen here. I've checked it and had a couple others look at my spelling to make sure it's correct. Our eyes work and it is in fact correct. So what is the glitch? Has anyone else run into this? I'm working through Big Query for the Google Data Analytics course.
I've tried my query with many variations, using back-ticks, quotations, parenthesis, I've rearranged the order, rewritten it a few ways and I get nothing.
I uploaded my data set exactly as they said to, location US, automatic schema, correct table name. Not sure what else to do.
Here are a couple screen shots for some reference. <a href=""https://i.stack.imgur.com/q7p7J.png"" rel=""nofollow noreferrer"">enter image description here</arunning query
Table name &quot;departments&quot; missing dataset while no default dataset is set in the request.
My table is named &quot;departments&quot; EXACTLY as it is seen here. I've checked it and had a couple others look at my spelling to make sure it's correct. Our eyes work and it is in fact correct. So what is the glitch? Has anyone else run into this? I'm working through Big Query for the Google Data Analytics course.
I've tried my query with many variations, using back-ticks, quotations, parenthesis, I've rearranged the order, rewritten it a few ways and I get nothing.
I uploaded my data set exactly as they said to, location US, automatic schema, correct table name. Not sure what else to do.
Here are a couple screen shots for some reference. <a href=""https://i.stack.imgur.com/q7p7J.png"" rel=""nofollow noreferrer"">enter image description here</a running query
Table name &quot;departments&quot; missing dataset while no default dataset is set in the request.
My table is named &quot;departments&quot; EXACTLY as it is seen here. I've checked it and had a couple others look at my spelling to make sure it's correct. Our eyes work and it is in fact correct. So what is the glitch? Has anyone else run into this? I'm working through Big Query for the Google Data Analytics course.
I've tried my query with many variations, using back-ticks, quotations, parenthesis, I've rearranged the order, rewritten it a few ways and I get nothing.
I uploaded my data set exactly as they said to, location US, automatic schema, correct table name. Not sure what else to do.
Here are a couple screen shots for some reference. <a href=""https://i.stack.imgur.com/q7p7J.png"" rel=""nofollow noreferrer"">enter image description here</arunning query
Table name &quot;departments&quot; missing dataset while no default dataset is set in the request.
My table is named &quot;departments&quot; EXACTLY as it is seen here. I've checked it and had a couple others look at my spelling to make sure it's correct. Our eyes work and it is in fact correct. So what is the glitch? Has anyone else run into this? I'm working through Big Query for the Google Data Analytics course.
I've tried my query with many variations, using back-ticks, quotations, parenthesis, I've rearranged the order, rewritten it a few ways and I get nothing.
I uploaded my data set exactly as they said to, location US, automatic schema, correct table name. Not sure what else to do.
Here are a couple screen shots for some reference. <a href=""https://i.stack.imgur.com/q7p7J.png"" rel=""nofollow noreferrer"">enter image description here</a>",google-bigquery
369,70325964,mysql : unable to create secondary server instance using mysqld,"I am using mysqld to create an new server along with the existing one[ MYSQL 8.0.27 installed with the windows installer] to test data replication
I already have an instance of the server installed [called Mysql80] which is the original server and i am trying to create another server called MyTest using mysqld by reading <a href=""https://dev.mysql.com/doc/refman/8.0/en/multiple-windows-command-line-servers.html"" rel=""nofollow noreferrer"">this</a> documentation which seems simple enough
i have created an empty Data directory to hold my new database and my configuration file for the server is saved as conf.cnf

from the windows command line i create the server using their exact instructions
<pre><code>mysqld  --defaults-file=E:/conf.cnf  --console
</code></pre>
--console is used to display debugging information but i always get these error's
<pre><code>021-12-12T17:17:11.844725Z 0 [System] [MY-010116] [Server] E:\Program Files\Developer\MYSQL\Server 8.0\bin\mysqld.exe (mysqld 8.0.27) starting as process 2328
2021-12-12T17:17:11.875406Z 1 [System] [MY-013576] [InnoDB] InnoDB initialization has started.
2021-12-12T17:17:13.498780Z 1 [System] [MY-013577] [InnoDB] InnoDB initialization has ended.
mysqld: Table 'mysql.plugin' doesn't exist
2021-12-12T17:17:13.866706Z 0 [ERROR] [MY-010735] [Server] Could not open the mysql.plugin table. Please perform the MySQL upgrade procedure.
2021-12-12T17:17:13.867207Z 0 [Warning] [MY-010441] [Server] Failed to open optimizer cost constant tables
2021-12-12T17:17:13.867617Z 0 [Warning] [MY-010441] [Server] Failed to open optimizer cost constant tables
2021-12-12T17:17:13.868042Z 0 [Warning] [MY-010441] [Server] Failed to open optimizer cost constant tables
2021-12-12T17:17:13.868519Z 0 [Warning] [MY-010441] [Server] Failed to open optimizer cost constant tables
2021-12-12T17:17:13.868926Z 0 [Warning] [MY-010441] [Server] Failed to open optimizer cost constant tables
2021-12-12T17:17:13.869354Z 0 [Warning] [MY-010441] [Server] Failed to open optimizer cost constant tables
2021-12-12T17:17:13.869707Z 0 [Warning] [MY-010441] [Server] Failed to open optimizer cost constant tables
2021-12-12T17:17:13.979431Z 0 [Warning] [MY-010015] [Repl] Gtid table is not ready to be used. Table 'mysql.gtid_executed' cannot be opened.
2021-12-12T17:17:14.140027Z 0 [Warning] [MY-010015] [Repl] Gtid table is not ready to be used. Table 'mysql.gtid_executed' cannot be opened.
2021-12-12T17:17:14.172455Z 0 [Warning] [MY-013746] [Server] A deprecated TLS version TLSv1 is enabled for channel mysql_main
2021-12-12T17:17:14.172592Z 0 [Warning] [MY-013746] [Server] A deprecated TLS version TLSv1.1 is enabled for channel mysql_main
2021-12-12T17:17:14.175122Z 0 [Warning] [MY-010068] [Server] CA certificate ca.pem is self signed.
2021-12-12T17:17:14.175319Z 0 [System] [MY-013602] [Server] Channel mysql_main configured to support TLS. Encrypted connections are now supported for this channel.
2021-12-12T17:17:14.176633Z 0 [ERROR] [MY-010262] [Server] Can't start server: Bind on TCP/IP port: Only one usage of each socket address (protocol/netwo k address/port) is normally permitted.
2021-12-12T17:17:14.176755Z 0 [ERROR] [MY-010257] [Server] Do you already have another mysqld server running on port: 3306 ?
2021-12-12T17:17:14.177195Z 0 [ERROR] [MY-010119] [Server] Aborting
2021-12-12T17:17:15.446688Z 0 [System] [MY-010910] [Server] E:\Program Files\Developer\MYSQL\Server 8.0\bin\mysqld.exe: Shutdown complete (mysqld 8.0.27)  MySQL Community Server - GPL.
</code></pre>
Ignoring the optimizer error's and cannot find table error's the server always tries to start on port 3306 even though i have specified in my conf file it should be on port 3310
Which makes me believe that i typed the config file in the wrong format or i haven't specified enough parameters for the job
any ideas?",mysql
370,70233870,custom field field in postgreSQL,"i have a test and i have to create a table that has these fields :

Custom fields have a title and a list of key values.
example can have a product House with a customField called House Fields and
this field has a list of key values such as Type =&gt; Apartment, Rooms=&gt; 5
etc
How can i implement this <code>customField</code> using PostgreSQe a test and i have to create a table that has these fields :

Custom fields have a title and a list of key values.
example can have a product House with a customField called House Fields and
this field has a list of key values such as Type =&gt; Apartment, Rooms=&gt; 5
etc
How can i implement this <code>customField</code> using PostgreSQL",postgresql
371,70206197,SQL Add Integer Column to Date column,"This works:

but what if I want to add a variable from the table to a timestamp?
<pre><code>SELECT &quot;date&quot;, &quot;value&quot;::Int, &quot;date&quot; + interval &quot;value&quot; day AS &quot;computed&quot; 
FROM &quot;tab1&quot;
</code></pre>
This fails.",sql|postgresql
372,70107251,Exchange Seats (SQL via Leetcode),"Question:

id is the primary key column for this table.
Each row of this table indicates the name and the ID of a student.
id is a continuous increment.
Can someone pls explain me the purpose of &quot;id = (select max(id) from seat)&quot; in the following code?
<pre><code>select
(CASE when (select max(id) from seat)%2 = 1 and id = (select max(id) from seat) then id
when id%2 = 1 then id+1
else id -1
end) as id,student
from seat
order by id
</code></pre>
Shouldn't the following suffice for this question?
<pre><code> select
(CASE when (select max(id) from seat)%2 = 1 then id
when id%2 = 1 then id+1
else id -1
end) as id,student
from seat
order by id
</code></pre>",mysql
373,70312095,"Postgresql query: ""greater than"" statement returns values less than","I'm trying to select the rows where the value of one column is greater than (&gt;) the other column. However, it returns rows where the values are less than the other column.
If I use the less than operator (&lt;), it returns rows where the values are less than the other column, just like expected. The only difference is the order of the rows.
The values of the columns are &quot;varchar&quot;, which I've casted into &quot;integer&quot; for the query.
<strong>Query</strong>

This is the result with the greater than (&gt;) operator:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th style=""text-align: left;"">expected</th>
<th style=""text-align: right;"">capacity</th>
</tr>
</thead>
<tbody>
<tr>
<td style=""text-align: left;"">60</td>
<td style=""text-align: right;"">310</td>
</tr>
<tr>
<td style=""text-align: left;"">50</td>
<td style=""text-align: right;"">250</td>
</tr>
<tr>
<td style=""text-align: left;"">80</td>
<td style=""text-align: right;"">270</td>
</tr>
<tr>
<td style=""text-align: left;"">60</td>
<td style=""text-align: right;"">270</td>
</tr>
<tr>
<td style=""text-align: left;"">60</td>
<td style=""text-align: right;"">340</td>
</tr>
<tr>
<td style=""text-align: left;"">80</td>
<td style=""text-align: right;"">340</td>
</tr>
<tr>
<td style=""text-align: left;"">80</td>
<td style=""text-align: right;"">250</td>
</tr>
<tr>
<td style=""text-align: left;"">70</td>
<td style=""text-align: right;"">360</td>
</tr>
<tr>
<td style=""text-align: left;"">50</td>
<td style=""text-align: right;"">360</td>
</tr>
<tr>
<td style=""text-align: left;"">80</td>
<td style=""text-align: right;"">360</td>
</tr>
<tr>
<td style=""text-align: left;"">...</td>
<td style=""text-align: right;"">...</td>
</tr>
</tbody>
</table>
</div>
<strong>Query</strong>
<code>SELECT tripcode, CAST(expected AS int), CAST(capacity AS int) FROM super_plan WHERE expected &lt; capacity;</code>
This is the result with the less than (&lt;) operator:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th style=""text-align: left;"">expected</th>
<th style=""text-align: right;"">capacity</th>
</tr>
</thead>
<tbody>
<tr>
<td style=""text-align: left;"">100</td>
<td style=""text-align: right;"">310</td>
</tr>
<tr>
<td style=""text-align: left;"">200</td>
<td style=""text-align: right;"">310</td>
</tr>
<tr>
<td style=""text-align: left;"">230</td>
<td style=""text-align: right;"">310</td>
</tr>
<tr>
<td style=""text-align: left;"">280</td>
<td style=""text-align: right;"">310</td>
</tr>
<tr>
<td style=""text-align: left;"">150</td>
<td style=""text-align: right;"">310</td>
</tr>
<tr>
<td style=""text-align: left;"">100</td>
<td style=""text-align: right;"">250</td>
</tr>
<tr>
<td style=""text-align: left;"">200</td>
<td style=""text-align: right;"">250</td>
</tr>
<tr>
<td style=""text-align: left;"">190</td>
<td style=""text-align: right;"">250</td>
</tr>
<tr>
<td style=""text-align: left;"">160</td>
<td style=""text-align: right;"">250</td>
</tr>
<tr>
<td style=""text-align: left;"">110</td>
<td style=""text-align: right;"">270</td>
</tr>
<tr>
<td style=""text-align: left;"">...</td>
<td style=""text-align: right;"">...</td>
</tr>
</tbody>
</table>
</div>
I don't know why this is happening. I'm new to sql. I've already searched the web and stackoverflow, but I couldn't find something usefullrying to select the rows where the value of one column is greater than (&gt;) the other column. However, it returns rows where the values are less than the other column.
If I use the less than operator (&lt;), it returns rows where the values are less than the other column, just like expected. The only difference is the order of the rows.
The values of the columns are &quot;varchar&quot;, which I've casted into &quot;integer&quot; for the query.
<strong>Query</strong>

This is the result with the greater than (&gt;) operator:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th style=""text-align: left;"">expected</th>
<th style=""text-align: right;"">capacity</th>
</tr>
</thead>
<tbody>
<tr>
<td style=""text-align: left;"">60</td>
<td style=""text-align: right;"">310</td>
</tr>
<tr>
<td style=""text-align: left;"">50</td>
<td style=""text-align: right;"">250</td>
</tr>
<tr>
<td style=""text-align: left;"">80</td>
<td style=""text-align: right;"">270</td>
</tr>
<tr>
<td style=""text-align: left;"">60</td>
<td style=""text-align: right;"">270</td>
</tr>
<tr>
<td style=""text-align: left;"">60</td>
<td style=""text-align: right;"">340</td>
</tr>
<tr>
<td style=""text-align: left;"">80</td>
<td style=""text-align: right;"">340</td>
</tr>
<tr>
<td style=""text-align: left;"">80</td>
<td style=""text-align: right;"">250</td>
</tr>
<tr>
<td style=""text-align: left;"">70</td>
<td style=""text-align: right;"">360</td>
</tr>
<tr>
<td style=""text-align: left;"">50</td>
<td style=""text-align: right;"">360</td>
</tr>
<tr>
<td style=""text-align: left;"">80</td>
<td style=""text-align: right;"">360</td>
</tr>
<tr>
<td style=""text-align: left;"">...</td>
<td style=""text-align: right;"">...</td>
</tr>
</tbody>
</table>
</div>
<strong>Query</strong>
<code>SELECT tripcode, CAST(expected AS int), CAST(capacity AS int) FROM super_plan WHERE expected &lt; capacity;</code>
This is the result with the less than (&lt;) operator:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th style=""text-align: left;"">expected</th>
<th style=""text-align: right;"">capacity</th>
</tr>
</thead>
<tbody>
<tr>
<td style=""text-align: left;"">100</td>
<td style=""text-align: right;"">310</td>
</tr>
<tr>
<td style=""text-align: left;"">200</td>
<td style=""text-align: right;"">310</td>
</tr>
<tr>
<td style=""text-align: left;"">230</td>
<td style=""text-align: right;"">310</td>
</tr>
<tr>
<td style=""text-align: left;"">280</td>
<td style=""text-align: right;"">310</td>
</tr>
<tr>
<td style=""text-align: left;"">150</td>
<td style=""text-align: right;"">310</td>
</tr>
<tr>
<td style=""text-align: left;"">100</td>
<td style=""text-align: right;"">250</td>
</tr>
<tr>
<td style=""text-align: left;"">200</td>
<td style=""text-align: right;"">250</td>
</tr>
<tr>
<td style=""text-align: left;"">190</td>
<td style=""text-align: right;"">250</td>
</tr>
<tr>
<td style=""text-align: left;"">160</td>
<td style=""text-align: right;"">250</td>
</tr>
<tr>
<td style=""text-align: left;"">110</td>
<td style=""text-align: right;"">270</td>
</tr>
<tr>
<td style=""text-align: left;"">...</td>
<td style=""text-align: right;"">...</td>
</tr>
</tbody>
</table>
</div>
I don't know why this is happening. I'm new to sql. I've already searched the web and stackoverflow, but I couldn't find something usefull.",sql|postgresql
374,70287201,Automatically set SUM calculation's result as column value during / after row insert,"I have an SQL table called &quot;credits&quot; which contain the following columns:
<ul>
<li>id (Serial ID for rows (1,2,3,....))</li>
<li>account_id (ID of associated client)</li>
<li>change (int4)</li>
<li>rolling_change</li>
</ul>
Every time during/after a row insert, I'd like the result of this Query to be the &quot;rolling_change&quot; column's value:

How can I make this process happen automatically on every row insert?
(I'm using DBeaver for reference)",sql|postgresql
375,70051349,How to DELETE row in table if row already exists in another table,"I have seen various examples of delete row if a certain condition does not exist for another table.
I would like to delete row from a table if it already exists in another table. I came up with this query but it seems to be simple and I am worrying I am missing something.
<pre class=""lang-sql prettyprint-override""></pre",sql|postgresql
376,70117059,Postgresql function and trigger to copy content from one column to another?,"I need to implement a function and a trigger to copy the contents of COLUMN A to COLUMN B( last one completely NULL) both in the same table. This function must be executed by the trigger whenever a new record is entered. I have tried to do the following in the function but it does not seem to work

On the other hand in the trigger I have:
<pre><code>CREATE TRIGGER name
AFTER UPDATE OR INSERT ON table
FOR EACH ROW EXECUTE PROCEDURE function();
</code></pre>
Does anyone see the error?",sql|postgresql
377,70303780,get time series in 10 minutes of interval,"I am generating one time-series from using below query.

and it will give me output like below.
<pre><code>2021-12-09 06:34:00.000
2021-12-09 06:54:00.000
2021-12-09 07:14:00.000
2021-12-09 07:34:00.000
</code></pre>
but I need output like.
<pre><code>2021-12-09 06:40:00.000
2021-12-09 07:00:00.000
2021-12-09 07:20:00.000
2021-12-09 07:40:00.000
</code></pre>
currently, the time series hours depend upon the timestamp that I pass. in above it gives me mins like 34,54,14...but I want the mins like 40,00,20...it should not depend on the time I passed in query. I tried with <strong>timestamp '2021-12-09 06:34:37' + ((DATE_PART('min', timestamp '2021-12-09 06:34:37')::integer % 2) || ' minutes') :: INTERVAL</strong> but not any success.",sql|postgresql
378,70109547,Can I create a procedure in MySQL where I will just pass any table name from already created tables and get the records displayed using call,"I tried this...
delimiter //
create procedure pselect(in tname varchar(50))
begin
select * from tname ;
end //
delimiter ;
call pselect ('trainee')d this...
delimiter //
create procedure pselect(in tname varchar(50))
begin
select * from tname ;
end //
delimiter ;
call pselect ('trainee')ed this...
delimiter //
create procedure pselect(in tname varchar(50))
begin
select * from tname ;
end //
delimiter ;
call pselect ('trainee')d this...
delimiter //
create procedure pselect(in tname varchar(50))
begin
select * from tname ;
end //
delimiter ;
call pselect ('trainee');",mysql
379,70254173,"How to append the current month and year to ""Helpdesk Service"" as dynamic column alias?","My DB server is Postgresql.
Here is my sql query:

For the &quot;Helpdesk Service&quot; column, I want to convert the column alias into &quot;Helpdesk Service 12/2021&quot;, i.e. I want to append the current month and year after &quot;Helpdesk Service&quot;,
how can I to implement it?
I have tried to use +,||, concat function to implement it, but no luck.",postgresql
380,70115376,How to count related id on second table quicker in mysql?,"I need to know how many orders made to each product within a day by their ids. I tried select all the . And count each of them from the second table - <code>product_today_order.hid</code>. I'm now have 20k+ rows of data. It took me 10s+ only this query.
Is there any way to make the query faster?
",mysql
381,70033091,PostgreSQL - query for record that is either side of the result set,"Lets say I have this table () schema and data:

To retrieve the last 7 days of balances, I would do something like this:
<code>SELECT * FROM &quot;balances&quot; WHERE &quot;createdAt&quot; BETWEEN '2021-11-19T09:04:17.488Z' AND '2021-11-12T10:04:17.488Z' ORDER BY &quot;createdAt&quot; ASC</code>
This will give me 2 records (IDs: 1 &amp; 2), which is fine. However, what I'm looking at doing, probably with a second query, is to grab the record that is previous to that result set, by <code>createdAt</code> date, as my query is ordered by <code>createdAt</code>. Is there a way to do this with PG?
So whatever the time-range I use, I would also retrieve the record that is n-1 to the result set",postgresql
382,70046317,How to extract data to outfile in MySQL?,"
<blockquote>
ERROR 1290 (HY000): The MySQL server is running with the
--secure-file-priv option so it cannot execute this statement
</blockquote>
I got mysql server 8.
<pre><code>C:\ProgramData\MySQL\MySQL Server 8.0 
my.ini changed  secure-file-priv=&quot;D:/mysql/upload&quot;
</code></pre>
How to extract data to outfile in MySQL?",mysql
383,70187578,How do you query large MySQL table for entries that don't start with an ASCII letter?,"Is there a performant way to query a large MySQL table for all entries that don't start with a letter?
I get the correct results using this, but it cannot take advantage of indexes:

Edit: Anything better than the following?
<pre><code>SELECT * FROM `companies` WHERE `id` NOT IN (SELECT `id` FROM `companies` WHERE `name` RLIKE '^[a-z]');
</code></pre>",mysql
384,70184503,How to find out the square sequence in the number string?,"How to find out sequence of square patterns in the number string and eliminate it?
Example,
Input: 1232416256789
Output: 12378 find out sequence of square patterns in the number string and eliminate it?
Example,
Input: 1232416256789
Output: 12378o find out sequence of square patterns in the number string and eliminate it?
Example,
Input: 1232416256789
Output: 12378 find out sequence of square patterns in the number string and eliminate it?
Example,
Input: 1232416256789
Output: 123789",google-bigquery
385,70074673,Is it possible to joining multiple row,"I am looking for a way to join two rows with same value (promo code in my case). So for example, I have a table:

and I want the result like:
<pre><code>ID PROMO_CODE  PROMO_NAME_ENG  PROMO_NAME_ESP  DESCRIPTION_ENG   DESCRIPTION_ESP
1  PC123       ABC             CBA             Desc in English   Desc in Espaol
</code></pre>
Any help will be appreciate",postgresql
386,70306434,PostgresSQL Join Into existing table,"before I ask this question I want to lead with full disclosure that this is for a class project so I am not looking for an answer just some guidance on what could be wrong and where to look. I need to create a table and then add data from two other tables. I can create the table, add the initial data but when attempting to add data from another table based on a primary key I get a successful execution message but either nothing happens or all fields are NULL. I am trying to pull data from 2 specific columns we can call t2.c1 and t2.c2 into table 1, Any guidance would be appreciated.
Here is an example of the code I am executing
<pre class=""lang-sql prettyprint-override""></pre>
If I remove the INSERT INTO command I receive the correct information but it is not added to the table, which I need to do for this task
If I remove the INSERT INTO command I receive the correct information but it is not added to the table, which I need to do for this task.",postgresql
387,70341189,select columns sql,"Im new using sql.
How should i say to sql extract only columns timestamp with zone. Like i did below for my two columns manually.
--query--

Thank you in advance,",sql|postgresql
388,70029590,Add information to one table from table contains duplicates,"I have the following table:
In Table_1, (ID, Name) pairs can repeat and have any combination<br />
Table_1:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>ID</th>
<th>Name</th>
<th>Value1</th>
<th>Value2</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>John</td>
<td>34</td>
<td>45</td>
</tr>
<tr>
<td>1</td>
<td>John</td>
<td>15</td>
<td>78</td>
</tr>
<tr>
<td>2</td>
<td>Randy</td>
<td>67</td>
<td>12</td>
</tr>
<tr>
<td>2</td>
<td>Randy</td>
<td>40</td>
<td>46</td>
</tr>
<tr>
<td>1</td>
<td>Randy</td>
<td>23</td>
<td>85</td>
</tr>
<tr>
<td>2</td>
<td>Holmes</td>
<td>10</td>
<td>100</td>
</tr>
</tbody>
</table>
</div>
I want to find all information for all unique pairs. So the output should be:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>ID</th>
<th>Name</th>
<th>Value1</th>
<th>Value2</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>John</td>
<td>34</td>
<td>45</td>
</tr>
<tr>
<td>2</td>
<td>Randy</td>
<td>67</td>
<td>12</td>
</tr>
<tr>
<td>1</td>
<td>Randy</td>
<td>23</td>
<td>85</td>
</tr>
<tr>
<td>2</td>
<td>Holmes</td>
<td>10</td>
<td>100</td>
</tr>
</tbody>
</table>
</div>
When I do  I get the unique pairs correctly. But how do I add value1, value2 columns to this. Because adding value1, value2 causes the pairs to repeate the following table:
In Table_1, (ID, Name) pairs can repeat and have any combination<br />
Table_1:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>ID</th>
<th>Name</th>
<th>Value1</th>
<th>Value2</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>John</td>
<td>34</td>
<td>45</td>
</tr>
<tr>
<td>1</td>
<td>John</td>
<td>15</td>
<td>78</td>
</tr>
<tr>
<td>2</td>
<td>Randy</td>
<td>67</td>
<td>12</td>
</tr>
<tr>
<td>2</td>
<td>Randy</td>
<td>40</td>
<td>46</td>
</tr>
<tr>
<td>1</td>
<td>Randy</td>
<td>23</td>
<td>85</td>
</tr>
<tr>
<td>2</td>
<td>Holmes</td>
<td>10</td>
<td>100</td>
</tr>
</tbody>
</table>
</div>
I want to find all information for all unique pairs. So the output should be:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>ID</th>
<th>Name</th>
<th>Value1</th>
<th>Value2</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>John</td>
<td>34</td>
<td>45</td>
</tr>
<tr>
<td>2</td>
<td>Randy</td>
<td>67</td>
<td>12</td>
</tr>
<tr>
<td>1</td>
<td>Randy</td>
<td>23</td>
<td>85</td>
</tr>
<tr>
<td>2</td>
<td>Holmes</td>
<td>10</td>
<td>100</td>
</tr>
</tbody>
</table>
</div>
When I do  I get the unique pairs correctly. But how do I add value1, value2 columns to this. Because adding value1, value2 causes the pairs to repeat.",sql|postgresql
389,70157937,Can't set value to column conditionally,"The following code throws a  error even though I check for that case in <code>x != N</code>

also tried this, same error:
<pre><code>DO $$
DECLARE N integer;
BEGIN
    select count(*) from mytable INTO N;
    UPDATE words
    SET measure = 1 + log((N-x)/x)
    WHERE x &lt;&gt; N;   
END $$; 
</code></pre>",sql|postgresql
390,70203285,PSQL - Aggregating Sales Data by Timeframe,"I'm trying to figure out a better way to write my scripts. Lately, I have found myself relying on Left Joins to accomplish a lot of what I need and I'm wondering if there is a better way to be writing my scripts.
Below is a quick example of what I have been trying, let me know what you think.
",sql|postgresql
391,70162398,MySQL can't get data between 2 dates,"I have a mysql view in the database for this query. The column that the date field is in is set to a varchar type.
The dates range from 01/13/2021 - 09/18/2021.
%VAR2% = 01/01/2020
I also set %VAR2% to other dates, but the current one that is not working for me is 11/28/2020. It is returning a no values at all.
I have tried numerous ways to set t1.procedureDate, %VAR2%, &amp; %CURRENT_DATE% to be dates in mysql, but nothing works when I put those in and the values stay the same as when the table first gets loaded. Any ideas on how I could make this work?
The following query is the one that I am using to get data based upon the specified date range.
",mysql
392,70226504,join delivered table with itself,"There are such tables

and a query
<pre><code>select * 
from 
  (select distinct aid as id 
     from b
  ) as t
left join a using(id)
</code></pre>
The result is
<pre><code>id  pid
1   (null)
2   1
3   5
</code></pre>
I want to remove records which pid are present in the table t as id. In the case - the record with id 2
I tried to use
<pre><code>where not exists (select id from t where t.id = a.pid)
</code></pre>
and
<pre><code>left join t t2 on t2.id = a.pid
</code></pre>
but in both cases get error 1146 - Table does not exist because t is delivered table
Hope to do that in one query. Any help would be appreciated
<a href=""http://sqlfiddle.com/#!9/9bf8666/7"" rel=""nofollow noreferrer"">sqlfiddle</a>",mysql
393,70217992,How to convert string to date and calculate using mysql,"I have a column that storage the year and month like this

The format is YYYYMM
I need to convert the two columns in date and get the difference in months between 'start' and 'end' columns",mysql
394,70146386,mysql lowest score formula by number of vulnerabilities and severity levels,"I'm trying to find a formula that would identify the least vulnerable teams based on number of vulnerabilities found and severity levels.
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th style=""text-align: left;"">address</th>
<th style=""text-align: center;"">critical</th>
<th style=""text-align: center;"">medium</th>
<th style=""text-align: right;"">low</th>
</tr>
</thead>
<tbody>
<tr>
<td style=""text-align: left;"">siteA</td>
<td style=""text-align: center;"">3</td>
<td style=""text-align: center;"">1</td>
<td style=""text-align: right;"">13</td>
</tr>
<tr>
<td style=""text-align: left;"">siteB</td>
<td style=""text-align: center;"">1</td>
<td style=""text-align: center;"">2</td>
<td style=""text-align: right;"">5</td>
</tr>
<tr>
<td style=""text-align: left;"">siteC</td>
<td style=""text-align: center;"">0</td>
<td style=""text-align: center;"">5</td>
<td style=""text-align: right;"">12</td>
</tr>
<tr>
<td style=""text-align: left;"">siteD</td>
<td style=""text-align: center;"">5</td>
<td style=""text-align: center;"">2</td>
<td style=""text-align: right;"">10</td>
</tr>
<tr>
<td style=""text-align: left;"">siteE</td>
<td style=""text-align: center;"">2</td>
<td style=""text-align: center;"">0</td>
<td style=""text-align: right;"">8</td>
</tr>
</tbody>
</table>
</div>

The MySQL syntax above was used to get the most vulnerable teams.
Now, I want to opposite, I would like to display the LEAST vulnerable teams.
<ol>
<li>Teams having 0 Critical and 0 Medium will be at the top.</li>
<li>Teams having the lowest Medium and Low will be next</li>
<li>etc...</li>
</ol>
Any starting pointer would be great and appreciated",mysql
395,70159378,Why doesn't this query to show employees that aren't managers work?,"Wrote this MySQL query to show all employees that aren't managers:

but it shows no results. What could be the problem?
This is the table.
<pre><code>CREATE TABLE emp (
  empno int NOT NULL default 0000,
  ename char(10) default NULL,
  job char(9) default NULL,
  mgr int default NULL,
  hiredate datetime default NULL,
  sal double default NULL,
  comm double default NULL,
  deptno int default NULL,
  PRIMARY KEY (empno)
);
</code></pre>",mysql
396,70112352,"How can I store a sql query into a variable, not the result?","Hello I am doing a script that needs to consult the results of another query Q1, this Q1 is used in a lot of other queries for example

The problem is that Q1 can change a lot, so I want to store it in a SQL variable in order to avoid changing three times instead of one.
Is this possible?
How can I do this?
Thanks",mysql
397,70176880,How to summarize the inserted amount of two different queries in a single transaction?,"When performing two consecutive insert query statements in a single transaction like:

The total amount of affected rows is 200 rows (of the last INSERT statement: &quot;MyTable2&quot;), I was wondering <strong>how to make it to return 300 rows</strong> as the sum of both INSERT statements?",sql|postgresql
398,70344348,Count a row's appearance in foreign keys on another table as a generated column?,"I have two tables, <em>buildings</em> and <em>reports</em>. a row in <em>reports</em> has one relationship to a row in <em>buildings</em> but <em>buildings</em> can have many reports.
I have aa query that returns a table of building id as well as how many reports are related to it:

Result:
<pre><code>___________________
|bin |report_count|
-------------------
|1001|           3|
-------------------
</code></pre>
I would like to have this column showing me the report count within my <em>buildings</em> table.
Something like this: ( doesn't work )
<pre><code>ALTER TABLE buildings ADD report_count int not null GENERATED ALWAYS AS ( fk_bin, COUNT(fk_bin) AS report_count FROM fisp_filings GROUP BY fk_bin ) A ON buildings.bin = A.fk_bin ) STORED;
</code></pre>
Is it possible to have this count on my table without creating a view?",sql|postgresql
399,70113823,PostgreSQL - SQL function to loop through all months of the year and pull 10 random records from each,"I am attempting to pull 10 random records from each month of this year using this query here but I get an error &quot;ERROR: relation &quot;c1&quot; does not exist
&quot;
Not sure where I'm going wrong - I think it may be I'm using Mysql syntax instead, but how do I resolve this?
My desired output is like this
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>Month</th>
<th>Another header</th>
</tr>
</thead>
<tbody>
<tr>
<td>2021-01</td>
<td>random email   1</td>
</tr>
<tr>
<td>2021-01</td>
<td>random email 2</td>
</tr>
</tbody>
</table>
</div>
total of ten random emails from January, then ten more for each month this year (til November of course as Dec yet to happen)..
",postgresql
400,70231538,remove duplicate description in group by with rollup in mysql,"I want to achieve what is in the image attached. The duplicated names do not look good. For example, there are many year 2000, I only need the top one. I want to remove the other year 2000. How can I do it?
<a href=""https://i.stack.imgur.com/SPA0V.png"" rel=""nofollow noreferrer"">Click here to see image</a>
",mysql
401,70093475,Postgresql right join with USING shows very slow execution,"I have a select:

So I have a table with t4 (with indexes on a,b,c) without 1 column for left join with other tables. If I use left join then I see nested loop for 40 sec. If I omit the whole table t4 total execution time is around 3 sec., with right join USING total time is 13 sec. I tried generating &quot;d&quot; column values - no good, falls into long nested loop with 40 sec execution. t4 with distinct on (a,b,c) - also no good. I also tried rewriting all &quot;on&quot; clauses for &quot;using&quot; - shows similar time.
Is there some better option or join strategy for this scenario? Maybe I am missing something?
Thanks",postgresql
402,70190577,is it possible to change column datatype to SET in mysql?,"i downloaded imdb database and while i was able to import it into mysql, i coulden't put the genre column datatype to &quot;SET&quot;, even tho imdb only has 21 genre's for movies, when i imported the data i set the genre data type to VARCHAR(255), and i can not change it to SET, is it possible?
here's what i tried:
ALTER TABLE movies
MODIFY genre SET('Drama', 'Comedy', 'Action', 'Crime', 'Romance', 'Thriller', 'Adventure', 'Horror', 'Mystery', 'Fantasy', 'Sci-Fi', 'Biography', 'Family', 'Animation', 'Music', 'History', 'War', 'Sport', 'Musical', 'Western', 'Film-Noir') NOT NULL;
and i get the error code 1265 &quot;Data truncated for column 'genre' at row 2&quot;, I'm guessing that's because row 2 has more than only one genre, but i thought that's the difference between ENUM data type in SET, am i missing somethingloaded imdb database and while i was able to import it into mysql, i coulden't put the genre column datatype to &quot;SET&quot;, even tho imdb only has 21 genre's for movies, when i imported the data i set the genre data type to VARCHAR(255), and i can not change it to SET, is it possible?
here's what i tried:
ALTER TABLE movies
MODIFY genre SET('Drama', 'Comedy', 'Action', 'Crime', 'Romance', 'Thriller', 'Adventure', 'Horror', 'Mystery', 'Fantasy', 'Sci-Fi', 'Biography', 'Family', 'Animation', 'Music', 'History', 'War', 'Sport', 'Musical', 'Western', 'Film-Noir') NOT NULL;
and i get the error code 1265 &quot;Data truncated for column 'genre' at row 2&quot;, I'm guessing that's because row 2 has more than only one genre, but i thought that's the difference between ENUM data type in SET, am i missing somethingnloaded imdb database and while i was able to import it into mysql, i coulden't put the genre column datatype to &quot;SET&quot;, even tho imdb only has 21 genre's for movies, when i imported the data i set the genre data type to VARCHAR(255), and i can not change it to SET, is it possible?
here's what i tried:
ALTER TABLE movies
MODIFY genre SET('Drama', 'Comedy', 'Action', 'Crime', 'Romance', 'Thriller', 'Adventure', 'Horror', 'Mystery', 'Fantasy', 'Sci-Fi', 'Biography', 'Family', 'Animation', 'Music', 'History', 'War', 'Sport', 'Musical', 'Western', 'Film-Noir') NOT NULL;
and i get the error code 1265 &quot;Data truncated for column 'genre' at row 2&quot;, I'm guessing that's because row 2 has more than only one genre, but i thought that's the difference between ENUM data type in SET, am i missing somethingloaded imdb database and while i was able to import it into mysql, i coulden't put the genre column datatype to &quot;SET&quot;, even tho imdb only has 21 genre's for movies, when i imported the data i set the genre data type to VARCHAR(255), and i can not change it to SET, is it possible?
here's what i tried:
ALTER TABLE movies
MODIFY genre SET('Drama', 'Comedy', 'Action', 'Crime', 'Romance', 'Thriller', 'Adventure', 'Horror', 'Mystery', 'Fantasy', 'Sci-Fi', 'Biography', 'Family', 'Animation', 'Music', 'History', 'War', 'Sport', 'Musical', 'Western', 'Film-Noir') NOT NULL;
and i get the error code 1265 &quot;Data truncated for column 'genre' at row 2&quot;, I'm guessing that's because row 2 has more than only one genre, but i thought that's the difference between ENUM data type in SET, am i missing something?",mysql
403,70336179,get time series in 4 days of interval,"I am generating one time-series from using the below query.

and it will give me output like below.
<pre><code>2020-12-14 00:00:00.000
2020-12-18 00:00:00.000
2020-12-22 00:00:00.000
2020-12-26 00:00:00.000
2020-12-30 00:00:00.000
2021-01-03 00:00:00.000
</code></pre>
but I need output like.
<pre><code>2020-12-16 00:00:00.000
2020-12-20 00:00:00.000
2020-12-24 00:00:00.000
2020-12-28 00:00:00.000
2020-01-01 00:00:00.000
2021-01-05 00:00:00.000
</code></pre>
currently, the time series days depend upon the timestamp that I pass. in above it gives me days like 14,18,22...but I want the days like 16,20,24. multiple of 4..days should not depend on the time I passed in query. I tried many things but not any success.",sql|postgresql
404,70032352,How to update a row to add a character to a column,"I am using PostgreSQL. I have a table, that has a column that I want to insert a character into.
For example, column  = <code>&quot;1121464146-1-1R&quot;</code>.  I would like to insert a <code>&quot;-&quot;</code> character before the <code>&quot;R&quot;</code>, so that it is <code>&quot;1121464146-1-1-R&quot;</code>.
I have the following incomplete SQL:
",sql|postgresql
405,70024795,How to get percentage based on columns,"so here is what I have:

I have a hired column which is boolean values, population which is either US or EU values.
Right now the freq divides the hired over the entire population which is like 5,000 values but I would like it to divide which are specifically US or EU values.
Can anyone help me with doing this? thanks
Example data:
<pre><code>create table hr
(
  candidate_id INTEGER PRIMARY KEY,         
  hired BOOLEAN NOT NULL,                
  population CHAR(2) NOT NULL            

);

INSERT INTO hr VALUES (1,FALSE,'US');
INSERT INTO hr VALUES (2,TRUE,'US');
INSERT INTO hr VALUES (3,FALSE,'EU');
INSERT INTO hr VALUES (4,TRUE,'EU');
INSERT INTO hr VALUES (5,FALSE,'US');
INSERT INTO hr VALUES (6,FALSE,'EU');
</code></pre>
instead of dividing by the entire population I just want by like total of EU or US values
so like True in EU is 1 but total for EU is 3 so 1/3 instead of 1/6
Sample output:
<pre><code>/* Result:
frequency | hired   |population|
----------+---------+----------+
0.33      |    True |       US |
0.66      |    False|       US |
0.33      |    True |       EU |
0.66      |    False|       EU |
*/

</code></pre>",sql|postgresql
406,70167127,MYSQL - Find rows that sums a searchable amount on a specific column,"I have the following records in a table:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>InvoiceNumber</th>
<th>Amount</th>
</tr>
</thead>
<tbody>
<tr>
<td>INV_1</td>
<td>135.88</td>
</tr>
<tr>
<td>INV_2</td>
<td>87.91</td>
</tr>
<tr>
<td>INV_3</td>
<td>99.99</td>
</tr>
<tr>
<td>INV_4</td>
<td>421.59</td>
</tr>
<tr>
<td>INV_5</td>
<td>39.22</td>
</tr>
</tbody>
</table>
</div>
Let's say i have an total of 596.69 which turns out to be the sum of rows 1, 4, and 5.
Is it possible to have a query that would scan all records of the Amount column and return the rows that sums the total of 596.69 the following records in a table:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>InvoiceNumber</th>
<th>Amount</th>
</tr>
</thead>
<tbody>
<tr>
<td>INV_1</td>
<td>135.88</td>
</tr>
<tr>
<td>INV_2</td>
<td>87.91</td>
</tr>
<tr>
<td>INV_3</td>
<td>99.99</td>
</tr>
<tr>
<td>INV_4</td>
<td>421.59</td>
</tr>
<tr>
<td>INV_5</td>
<td>39.22</td>
</tr>
</tbody>
</table>
</div>
Let's say i have an total of 596.69 which turns out to be the sum of rows 1, 4, and 5.
Is it possible to have a query that would scan all records of the Amount column and return the rows that sums the total of 596.69e the following records in a table:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>InvoiceNumber</th>
<th>Amount</th>
</tr>
</thead>
<tbody>
<tr>
<td>INV_1</td>
<td>135.88</td>
</tr>
<tr>
<td>INV_2</td>
<td>87.91</td>
</tr>
<tr>
<td>INV_3</td>
<td>99.99</td>
</tr>
<tr>
<td>INV_4</td>
<td>421.59</td>
</tr>
<tr>
<td>INV_5</td>
<td>39.22</td>
</tr>
</tbody>
</table>
</div>
Let's say i have an total of 596.69 which turns out to be the sum of rows 1, 4, and 5.
Is it possible to have a query that would scan all records of the Amount column and return the rows that sums the total of 596.69 the following records in a table:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>InvoiceNumber</th>
<th>Amount</th>
</tr>
</thead>
<tbody>
<tr>
<td>INV_1</td>
<td>135.88</td>
</tr>
<tr>
<td>INV_2</td>
<td>87.91</td>
</tr>
<tr>
<td>INV_3</td>
<td>99.99</td>
</tr>
<tr>
<td>INV_4</td>
<td>421.59</td>
</tr>
<tr>
<td>INV_5</td>
<td>39.22</td>
</tr>
</tbody>
</table>
</div>
Let's say i have an total of 596.69 which turns out to be the sum of rows 1, 4, and 5.
Is it possible to have a query that would scan all records of the Amount column and return the rows that sums the total of 596.69?",mysql
407,70048195,how to get column value based on previous two column values in postgresql,"Hi I am new to postgrasql. I am using postgreasql version 10.1. I have a requirement to get 'Total' column value based on
<ol>
<li>Total = previous row 'comp_year' + previous row 'Total'</li>
<li>Total is based on id, group, year.</li>
<li>I have nearly 2 million records.</li>
<li>Need to get the resultant data set in table</li>
</ol>
<a href=""https://i.stack.imgur.com/xg3oX.jpg"" rel=""nofollow noreferrer"">This is how my result should look like</a>
Below is my code its working but not able to display all the record in table grid.
Thanks in advance
",postgresql
408,70348494,MySQL - get youngest entry with group by / order by,"I have a simple table like this:

When I run this query:
<pre><code>SELECT
st.subscriptionId,
st.orderId,
st.created_at
FROM subscription_time st
WHERE
st.subscriptionId IN (6773)
GROUP BY st.subscriptionId
ORDER BY st.created_at DESC;
</code></pre>
I get this result:
<pre><code>| subscriptionId | orderId | created_at          |
|----------------|---------|---------------------|
|           6773 |  600715 | 2021-12-13 16:23:53 |
</code></pre>
I would suspect the entry with the <code>id=32247</code> and not the one with <code>id= 32245</code> ? Do I have to run it with a subquery?",mysql
409,70217950,Trying to get the count for the number of times an id shows up in different timeframes - Postgresql,"So i want to get the number of times an id shows up in different time frames. Here is the schema:

Here is where i am for now, but all this is doing is getting the full count for each id.
<pre><code>    select  industry_id
,       count(case when current_date &lt;= date then 1 else 0 end) as today 
,       count(case when current_date-1 &lt;= date and
                      date &lt; current_date then 1 else 0 end) as yesterday
,       count(case when current_date-4 &lt;= date and 
                      date &lt; current_date-1 then 1 else 0 end) as last3days
from    phone_clicks
group by
        industry_id
</code></pre>
This is returning me this:
<pre><code>industry_id today   yesterday   last3days
4             1        1            1
1             3        3            3
3             2        2            2
2             2        2            2
</code></pre>
Which is just the number of times the id shows up in the table at all each time. I want the number of times id 4 shows up today, yesterday and in the last 3 days. Should be 0 for today and yesterday",sql|postgresql
410,70265548,How to write array of one entity objects as a column into another entity in database schemas?,"In  portfolio can be multiple stocks, and stock can be in multiple portfolios, so I choose many-to-mane relation. But as I understand to get stocks from portfolio, it will be needed  to use join between portfolioId and stockId. So I've been thinking that it will be good to store a massive of stocks in portfolio. How can I do it or what is the best way to store all stocks in portfolio?
<a href=""https://i.stack.imgur.com/HTc6f.png"" rel=""nofollow noreferrer"">I have created such schema</a>
I am using postgresql. My code:
",sql|postgresql
411,70369722,UPDATE from join not returning expected results?,"I am creating a postgresql script that updates one product table based on another.
the first table, we'll call T1 contains the product code and some descriptive info.The product code is the key for this table:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>product_code</th>
<th>values</th>
</tr>
</thead>
<tbody>
<tr>
<td>abc123</td>
<td>34</td>
</tr>
<tr>
<td>abd124</td>
<td>42</td>
</tr>
</tbody>
</table>
</div>
The 2nd table contains products, along with dates that show the availability of these products.
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>product_code</th>
<th>begin_date</th>
<th>end_date</th>
</tr>
</thead>
<tbody>
<tr>
<td>abc123</td>
<td>1/1/2020</td>
<td>2/3/2021</td>
</tr>
<tr>
<td>abd124</td>
<td>12/1/2019</td>
<td>12/31/2021</td>
</tr>
<tr>
<td>xyz345</td>
<td>03/01/2019</td>
<td>NULL</td>
</tr>
</tbody>
</table>
</div>
I then used ALTER TABLE to add begin and end_date columns to the 1st table.
I then used an update statement:

This gives does not give the correct result. For me, it seems that a single pair of values was populated rather than the correct values from T2.
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>product_code</th>
<th>values</th>
<th>begin</th>
<th>end</th>
</tr>
</thead>
<tbody>
<tr>
<td>abc123</td>
<td>34</td>
<td>03/01/2019</td>
<td>NULL</td>
</tr>
<tr>
<td>abd124</td>
<td>42</td>
<td>03/01/2019</td>
<td>NULL</td>
</tr>
</tbody>
</table>
</div>
I really have no idea what could be causing this. I know that the values being inserted are coming from somewhere in T2. However, I cant see any logical reason that all of these values should be the same.",sql|postgresql
412,70130797,Group By Joined table,"My database contains 3 tables: Sku -&gt; Color -&gt; Product (screen)
<a href=""https://i.stack.imgur.com/100x6.png"" rel=""nofollow noreferrer"">enter image description here</a>
I have next query:

I need sort my products by Sku.price before Limit, Is there some way todo it? Or decompose query and get the same data?",sql|postgresql
413,70138649,There is a way to optimize this query?,"
Diagram :
<pre>
    https://cdn.discordapp.com/attachments/759558366887411773/914258487666692207/unknown.png
</pre>
Task: Write a query to show the last name, first name and date of birth of any instructor who has taught the same courses as &quot;Milmore&quot;. Exclude Milmore from the result.",sql|postgresql
414,70327354,Unable to create relationship 'FK_PATIENTS_VICTIMS',"MySQL says:
<blockquote>
the alter table statement conflicted with the FOREIGN KEY constraint &quot;FK_PATIENTS_VICTIMS&quot;. The conflict occurred in the database &quot; my_database&quot;, table &quot;dbo.victims&quot;, column &quot;victim_id'.
</blockquote>
I tried to alter the table by inputting;

Patients table
<pre><code>create table patients(
    victim_id int(4),
    blood_type varchar(4),
    vaccinations varchar(100),
    assigned_practitioner int(10),
    hospital_id int(10),
    insurance_id int(10),
    symptoms varchar(200); 
</code></pre>
Victims table
<pre><code>create table victims(
    victim_id int(4) primary key,
    first_name varchar(20),
    last_name varchar(20),
    sex char(1) constraint persons_sex_ck check(sex IN('F','M')),
    PHONE_NUMBER varchar(20),
    DOB varchar(13),
    address varchar(30),
    city varchar(20),
    zip int(5),
    state varchar(5)
);
</code></pre>",mysql
415,70264999,Cypher query - Only match on subset of nodes connected to one node,"How do I build an efficient cypher query to pull only 'City' and 'Age' connected to the 'Group'-labeled node? Thanks in advance
<a href=""https://i.stack.imgur.com/2Dczy.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/2Dczy.png"" alt=""enter image description here"" /></a>
I have tried this query so far:

This query gets me half way there. It returns the correct data but, in the table format the data is wrong. I want to include cases where there's additional Group node that is connected to City,Age,Name, and Race
The query should return in this format where each row is a distinct group:
<pre><code>Group1, City, Age
Group2, City, Age
</code></pre>",neo4j|cypher
416,70167210,copy tree structure in MySql and update ids,"I have below structure of tables
<ul>
<li>table_a
<ul>
<li>table_b
<ul>
<li>table_c</li>
</ul>
</li>
</ul>
</li>
</ul>
table_c has external keys in table_b and table_b in table_a, all tables has relation one to many (one parent)
all tables have columnt environment_id
I have to copy structure for 2 rows from table_a and past to the same table with other environment_id
if I run script

I will receive expected result for 1st table, but how to manage with rest?
I want to new rows from table_b point new rows from table_a, same with table_c and table_b.",mysql
417,70259057,Two rows in two columns,"I have table:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>Owner</th>
<th>Book</th>
<th>Date</th>
</tr>
</thead>
<tbody>
<tr>
<td>John</td>
<td>Vile Bodies by Evelyn Waugh</td>
<td>2009-05-20</td>
</tr>
<tr>
<td>Tom</td>
<td>Vile Bodies by Evelyn Waugh</td>
<td>2009-05-22</td>
</tr>
<tr>
<td>Jim</td>
<td>Moab is my Washpot by Stephen Fry</td>
<td>2009-05-26</td>
</tr>
<tr>
<td>Kate</td>
<td>Moab is my Washpot by Stephen Fry</td>
<td>2009-06-02</td>
</tr>
</tbody>
</table>
</div>
How can I get table:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>Owner</th>
<th>Book</th>
<th>Pick_Date</th>
<th>Gave_Back_Book_Date</th>
</tr>
</thead>
<tbody>
<tr>
<td>John</td>
<td>Vile Bodies by Evelyn Waugh</td>
<td>2009-05-20</td>
<td>2009-05-22</td>
</tr>
<tr>
<td>Tom</td>
<td>Vile Bodies by Evelyn Waugh</td>
<td>2009-05-22</td>
<td></td>
</tr>
<tr>
<td>Jim</td>
<td>Moab is my Washpot by Stephen Fry</td>
<td>2009-05-26</td>
<td>2009-06-02</td>
</tr>
<tr>
<td>Kate</td>
<td>Moab is my Washpot by Stephen Fry</td>
<td>2009-06-02</td>
<td></td>
</tr>
</tbody>
</table>
</div table:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>Owner</th>
<th>Book</th>
<th>Date</th>
</tr>
</thead>
<tbody>
<tr>
<td>John</td>
<td>Vile Bodies by Evelyn Waugh</td>
<td>2009-05-20</td>
</tr>
<tr>
<td>Tom</td>
<td>Vile Bodies by Evelyn Waugh</td>
<td>2009-05-22</td>
</tr>
<tr>
<td>Jim</td>
<td>Moab is my Washpot by Stephen Fry</td>
<td>2009-05-26</td>
</tr>
<tr>
<td>Kate</td>
<td>Moab is my Washpot by Stephen Fry</td>
<td>2009-06-02</td>
</tr>
</tbody>
</table>
</div>
How can I get table:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>Owner</th>
<th>Book</th>
<th>Pick_Date</th>
<th>Gave_Back_Book_Date</th>
</tr>
</thead>
<tbody>
<tr>
<td>John</td>
<td>Vile Bodies by Evelyn Waugh</td>
<td>2009-05-20</td>
<td>2009-05-22</td>
</tr>
<tr>
<td>Tom</td>
<td>Vile Bodies by Evelyn Waugh</td>
<td>2009-05-22</td>
<td></td>
</tr>
<tr>
<td>Jim</td>
<td>Moab is my Washpot by Stephen Fry</td>
<td>2009-05-26</td>
<td>2009-06-02</td>
</tr>
<tr>
<td>Kate</td>
<td>Moab is my Washpot by Stephen Fry</td>
<td>2009-06-02</td>
<td></td>
</tr>
</tbody>
</table>
</dive table:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>Owner</th>
<th>Book</th>
<th>Date</th>
</tr>
</thead>
<tbody>
<tr>
<td>John</td>
<td>Vile Bodies by Evelyn Waugh</td>
<td>2009-05-20</td>
</tr>
<tr>
<td>Tom</td>
<td>Vile Bodies by Evelyn Waugh</td>
<td>2009-05-22</td>
</tr>
<tr>
<td>Jim</td>
<td>Moab is my Washpot by Stephen Fry</td>
<td>2009-05-26</td>
</tr>
<tr>
<td>Kate</td>
<td>Moab is my Washpot by Stephen Fry</td>
<td>2009-06-02</td>
</tr>
</tbody>
</table>
</div>
How can I get table:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>Owner</th>
<th>Book</th>
<th>Pick_Date</th>
<th>Gave_Back_Book_Date</th>
</tr>
</thead>
<tbody>
<tr>
<td>John</td>
<td>Vile Bodies by Evelyn Waugh</td>
<td>2009-05-20</td>
<td>2009-05-22</td>
</tr>
<tr>
<td>Tom</td>
<td>Vile Bodies by Evelyn Waugh</td>
<td>2009-05-22</td>
<td></td>
</tr>
<tr>
<td>Jim</td>
<td>Moab is my Washpot by Stephen Fry</td>
<td>2009-05-26</td>
<td>2009-06-02</td>
</tr>
<tr>
<td>Kate</td>
<td>Moab is my Washpot by Stephen Fry</td>
<td>2009-06-02</td>
<td></td>
</tr>
</tbody>
</table>
</div table:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>Owner</th>
<th>Book</th>
<th>Date</th>
</tr>
</thead>
<tbody>
<tr>
<td>John</td>
<td>Vile Bodies by Evelyn Waugh</td>
<td>2009-05-20</td>
</tr>
<tr>
<td>Tom</td>
<td>Vile Bodies by Evelyn Waugh</td>
<td>2009-05-22</td>
</tr>
<tr>
<td>Jim</td>
<td>Moab is my Washpot by Stephen Fry</td>
<td>2009-05-26</td>
</tr>
<tr>
<td>Kate</td>
<td>Moab is my Washpot by Stephen Fry</td>
<td>2009-06-02</td>
</tr>
</tbody>
</table>
</div>
How can I get table:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>Owner</th>
<th>Book</th>
<th>Pick_Date</th>
<th>Gave_Back_Book_Date</th>
</tr>
</thead>
<tbody>
<tr>
<td>John</td>
<td>Vile Bodies by Evelyn Waugh</td>
<td>2009-05-20</td>
<td>2009-05-22</td>
</tr>
<tr>
<td>Tom</td>
<td>Vile Bodies by Evelyn Waugh</td>
<td>2009-05-22</td>
<td></td>
</tr>
<tr>
<td>Jim</td>
<td>Moab is my Washpot by Stephen Fry</td>
<td>2009-05-26</td>
<td>2009-06-02</td>
</tr>
<tr>
<td>Kate</td>
<td>Moab is my Washpot by Stephen Fry</td>
<td>2009-06-02</td>
<td></td>
</tr>
</tbody>
</table>
</div>",sql|postgresql
418,70035273,How to get rid of duplicate SQL results when aggregrating from 2 linking tables without using distinct,"My question is a performance question.
Given this postgresql, I get this result.
<pre class=""lang-sql prettyprint-override""></pre>
<a href=""https://i.stack.imgur.com/KI70f.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/KI70f.png"" alt=""enter image description here"" /></a>
I can see that the <code>post</code> ending in <code>89</code> has 2 hashtags. All good so far.
I now modify the query to get the following expected result.
<pre class=""lang-sql prettyprint-override""><code>select fp.fp_id post_id, 
jsonb_agg(tag_linking_table.sehset_tid) hashtag
FROM soc_ent social_entity
JOIN fp on fp.fp_id = social_entity.se_id
LEFT JOIN sehset tag_linking_table on tag_linking_table.sehset_seid = social_entity.se_id
GROUP BY post_id
</code></pre>
<a href=""https://i.stack.imgur.com/iFQJZ.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/iFQJZ.png"" alt=""enter image description here"" /></a>
All good so far. My hashtags are properly grouped. Now if i changed the query to get the <code>likes</code> count using the same method above, this is my expected result
<pre class=""lang-sql prettyprint-override""><code>select fp.fp_id post_id, 
count(social_entity_likes.se_likes_ca) likes
FROM soc_ent social_entity
JOIN fp on fp.fp_id = social_entity.se_id
LEFT JOIN se_likes social_entity_likes on social_entity.se_id = social_entity_likes.se_likes_seid 
GROUP BY post_id
</code></pre>
<a href=""https://i.stack.imgur.com/0XZg3.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/0XZg3.png"" alt=""enter image description here"" /></a>
So in summary, my post ending in <code>89</code> has 2 likes from the <code>Likes</code> linking table, and 2 <code>Hashtags</code> from the hashtag linking table.
Now comes the problem. I want to display the hashtags and the likes in one sql query, so i modified the sql to the following.
<pre class=""lang-sql prettyprint-override""><code>select fp.fp_id post_id, 
jsonb_agg(tag_linking_table.sehset_tid) hashtag,
count(social_entity_likes.se_likes_ca) likes
FROM soc_ent social_entity
JOIN fp on fp.fp_id = social_entity.se_id
LEFT JOIN sehset tag_linking_table on tag_linking_table.sehset_seid = social_entity.se_id
LEFT JOIN se_likes social_entity_likes on social_entity.se_id = social_entity_likes.se_likes_seid 
GROUP BY post_id
</code></pre>
But oddly, my result was this:
<a href=""https://i.stack.imgur.com/4vlMG.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/4vlMG.png"" alt=""enter image description here"" /></a>
The solution I found was to add the word <code>distinct</code> inside the aggregation function which gave me the correct results.
<pre class=""lang-sql prettyprint-override""><code>select fp.fp_id post_id, 
jsonb_agg(distinct tag_linking_table.sehset_tid) hashtag,
count(distinct social_entity_likes.se_likes_ca) likes
FROM soc_ent social_entity
JOIN fp on fp.fp_id = social_entity.se_id
LEFT JOIN sehset tag_linking_table on tag_linking_table.sehset_seid = social_entity.se_id
LEFT JOIN se_likes social_entity_likes on social_entity.se_id = social_entity_likes.se_likes_seid 
GROUP BY post_id
</code></pre>
<a href=""https://i.stack.imgur.com/ebboV.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/ebboV.png"" alt=""enter image description here"" /></a>
But I am told every where that <code>distinct</code> will degrade the performance (and especially since i will have very large tables).
<strong>Question</strong>:  What caused my duplicate problem? and is distinct the correct way to fix it? And if so how can I get the same result without using the <code>distinct</code> keyword?  Thanks
<a href=""https://i.stack.imgur.com/KI70f.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/KI70f.png"" alt=""enter image description here"" /></a>
I can see that the <code>post</code> ending in <code>89</code> has 2 hashtags. All good so far.
I now modify the query to get the following expected result.
<pre class=""lang-sql prettyprint-override""><code>select fp.fp_id post_id, 
jsonb_agg(tag_linking_table.sehset_tid) hashtag
FROM soc_ent social_entity
JOIN fp on fp.fp_id = social_entity.se_id
LEFT JOIN sehset tag_linking_table on tag_linking_table.sehset_seid = social_entity.se_id
GROUP BY post_id
</code></pre>
<a href=""https://i.stack.imgur.com/iFQJZ.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/iFQJZ.png"" alt=""enter image description here"" /></a>
All good so far. My hashtags are properly grouped. Now if i changed the query to get the <code>likes</code> count using the same method above, this is my expected result
<pre class=""lang-sql prettyprint-override""><code>select fp.fp_id post_id, 
count(social_entity_likes.se_likes_ca) likes
FROM soc_ent social_entity
JOIN fp on fp.fp_id = social_entity.se_id
LEFT JOIN se_likes social_entity_likes on social_entity.se_id = social_entity_likes.se_likes_seid 
GROUP BY post_id
</code></pre>
<a href=""https://i.stack.imgur.com/0XZg3.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/0XZg3.png"" alt=""enter image description here"" /></a>
So in summary, my post ending in <code>89</code> has 2 likes from the <code>Likes</code> linking table, and 2 <code>Hashtags</code> from the hashtag linking table.
Now comes the problem. I want to display the hashtags and the likes in one sql query, so i modified the sql to the following.
<pre class=""lang-sql prettyprint-override""><code>select fp.fp_id post_id, 
jsonb_agg(tag_linking_table.sehset_tid) hashtag,
count(social_entity_likes.se_likes_ca) likes
FROM soc_ent social_entity
JOIN fp on fp.fp_id = social_entity.se_id
LEFT JOIN sehset tag_linking_table on tag_linking_table.sehset_seid = social_entity.se_id
LEFT JOIN se_likes social_entity_likes on social_entity.se_id = social_entity_likes.se_likes_seid 
GROUP BY post_id
</code></pre>
But oddly, my result was this:
<a href=""https://i.stack.imgur.com/4vlMG.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/4vlMG.png"" alt=""enter image description here"" /></a>
The solution I found was to add the word <code>distinct</code> inside the aggregation function which gave me the correct results.
<pre class=""lang-sql prettyprint-override""><code>select fp.fp_id post_id, 
jsonb_agg(distinct tag_linking_table.sehset_tid) hashtag,
count(distinct social_entity_likes.se_likes_ca) likes
FROM soc_ent social_entity
JOIN fp on fp.fp_id = social_entity.se_id
LEFT JOIN sehset tag_linking_table on tag_linking_table.sehset_seid = social_entity.se_id
LEFT JOIN se_likes social_entity_likes on social_entity.se_id = social_entity_likes.se_likes_seid 
GROUP BY post_id
</code></pre>
<a href=""https://i.stack.imgur.com/ebboV.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/ebboV.png"" alt=""enter image description here"" /></a>
But I am told every where that <code>distinct</code> will degrade the performance (and especially since i will have very large tables).
<strong>Question</strong>:  What caused my duplicate problem? and is distinct the correct way to fix it? And if so how can I get the same result without using the <code>distinct</code> keyword?  Thanks.",sql|postgresql
419,70133510,Postgresql: how to add date and avoid weekend?,"i have following table 

I want to find the deadline with calculation deadline = created_at + slaTime(No. of days). <strong>but</strong> it also avoid a weekend.
for example on id 1, <code>2012-11-22</code> is monday so the deadline is <code>2012-11-26</code> (friday)
but on id 2, the deadline should be <code>2012-11-30</code> (tuesday) not <code>2012-11-28</code>(sunday)",postgresql
420,70313183,Join with aggregate function on empty resultset,"I have a requirement to get sum, avg, count values as 0 following institution_name when lr.proccessed_on date is not matched with the input date. how can I achieve that in the following query
",mysql
421,70337480,Need MYSQL uquery solution,"I have the folowing tree tables one is the stock_items with all the items in it. The stock_in has the stock movements in to the stock and stock_out has the out movements:
<a href=""https://i.stack.imgur.com/9mOse.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/9mOse.png"" alt=""enter image description here"" /></a>
and I want to get such a query result:
<a href=""https://i.stack.imgur.com/kxteN.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/kxteN.png"" alt=""enter image description here"" /></a>
could some one help me to make this query the folowing tree tables one is the stock_items with all the items in it. The stock_in has the stock movements in to the stock and stock_out has the out movements:
<a href=""https://i.stack.imgur.com/9mOse.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/9mOse.png"" alt=""enter image description here"" /></a>
and I want to get such a query result:
<a href=""https://i.stack.imgur.com/kxteN.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/kxteN.png"" alt=""enter image description here"" /></a>
could some one help me to make this querye the folowing tree tables one is the stock_items with all the items in it. The stock_in has the stock movements in to the stock and stock_out has the out movements:
<a href=""https://i.stack.imgur.com/9mOse.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/9mOse.png"" alt=""enter image description here"" /></a>
and I want to get such a query result:
<a href=""https://i.stack.imgur.com/kxteN.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/kxteN.png"" alt=""enter image description here"" /></a>
could some one help me to make this query the folowing tree tables one is the stock_items with all the items in it. The stock_in has the stock movements in to the stock and stock_out has the out movements:
<a href=""https://i.stack.imgur.com/9mOse.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/9mOse.png"" alt=""enter image description here"" /></a>
and I want to get such a query result:
<a href=""https://i.stack.imgur.com/kxteN.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/kxteN.png"" alt=""enter image description here"" /></a>
could some one help me to make this query?",mysql
422,70236792,Partitioning (and splitting) values to fill slots,"I have some sales data and I need to dispatch the quantities in available slots stored in a separate table.
Example of sales data:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>id</th>
<th>qty</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td>2</td>
<td>1</td>
</tr>
<tr>
<td>3</td>
<td>1</td>
</tr>
<tr>
<td>4</td>
<td>1</td>
</tr>
<tr>
<td>5</td>
<td>3</td>
</tr>
<tr>
<td>6</td>
<td>9</td>
</tr>
</tbody>
</table>
</div>

<code>INSERT INTO sales (qty) VALUES (1),(1),(1),(1),(3),(9);</code>
And here are the slots (size is cumulative):
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>name</th>
<th>size</th>
</tr>
</thead>
<tbody>
<tr>
<td>a</td>
<td>3</td>
</tr>
<tr>
<td>b</td>
<td>5</td>
</tr>
<tr>
<td>c</td>
<td>9</td>
</tr>
</tbody>
</table>
</div>
There is an &quot;invisible&quot; <code>d</code> slot for the remaining quantities. Of course, these slots are not fixed.
<code>create table slots (id serial primary key, name text, size int);</code>
<code>insert into slots (name,size) values ('a',3),('b',5),('c',9);</code>
This is the detailed process of the calculation (and expected result):
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>id</th>
<th>qty</th>
<th>used</th>
<th>total</th>
<th>slot</th>
<th>comment</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>a</td>
<td></td>
</tr>
<tr>
<td>2</td>
<td>1</td>
<td>1</td>
<td>2</td>
<td>a</td>
<td></td>
</tr>
<tr>
<td>3</td>
<td>1</td>
<td>1</td>
<td>3</td>
<td>a</td>
<td>Slot is full</td>
</tr>
<tr>
<td>4</td>
<td>1</td>
<td>1</td>
<td>4</td>
<td>b</td>
<td></td>
</tr>
<tr>
<td>5</td>
<td>3</td>
<td>1</td>
<td>5</td>
<td>b</td>
<td>split this sale</td>
</tr>
<tr>
<td>5</td>
<td>cont.</td>
<td>2</td>
<td>6-7</td>
<td>c</td>
<td></td>
</tr>
<tr>
<td>6</td>
<td>9</td>
<td>2</td>
<td>8-9</td>
<td>c</td>
<td></td>
</tr>
<tr>
<td>6</td>
<td>cont.</td>
<td>7</td>
<td>10-16</td>
<td>d</td>
<td>split again</td>
</tr>
</tbody>
</table>
</div>
My approach is the following:

<em>I deliberately left some commented columns to ease understanding/debugging my mental process</em>
Which gives the following result:
<pre><code> id | qty | qtyconsumed | so 
----+-----+-------------+----
  1 |   1 |           1 |  1
  2 |   1 |           1 |  1
  3 |   1 |           1 |  1
  4 |   1 |           1 |  1
  5 |   3 |           1 |  1
    |     |           2 |  2
  6 |   9 |           2 |  1
    |     |           7 |  2
(8 lignes)
</code></pre>
The code is pretty ugly and will only work for one split: I could very well have only one sale of qty=20 that should split to 4 slots.
My question unfolds in 2 parts:
<ol>
<li>Is it possible to do that splitting in more than 2 slots without going through the mess of cursors or solutions alike? I am guessing <em>WITH RECURSIVE</em> but there could be something smarter.
</li>
<li>How can I optimize this (particularly the search for the closest slot in <code>p3</code>) because the real case involves millions of rows?
</li>
</ol>",postgresql
423,70243319,Unknown column 'ename' in 'field list',"I don't understand how to fix this. PhpMyAdmin cannot find columns. I even gave each query a name but it doesn't work.
",mysql
424,70255538,Split a string into multiple columns using the whitespaces,"I have a data base with around 200 categories, however they are not properly classified.
Take the following as an example:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>prod_id</th>
<th>prod_cat</th>
<th>pc_code</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>101 dishwasher detergent</td>
<td>1</td>
</tr>
<tr>
<td>2</td>
<td>102 laundry detergent</td>
<td>2</td>
</tr>
<tr>
<td>3</td>
<td>501 disposable diapers</td>
<td>5</td>
</tr>
<tr>
<td>4</td>
<td>502 non-disposable diapers</td>
<td>5</td>
</tr>
</tbody>
</table>
</div>
I cannot group them by the pc_code since they are actually 2 subcategories (at least) per pc_code.
I would like to group them by &quot;detergent&quot; or &quot;diapers&quot; (there are 197 of them), and I cannot, or I would rather not do:

for every one of the 197 categories. Although I know that if I implement a for loop in R for example, I could get a group per category.
However I have thought that it would be <em>cleaner</em> to split the <strong>prod_cat</strong> field into:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>prod_id</th>
<th>prod_cat_no</th>
<th>prod_sub_cat</th>
<th>prod_cat</th>
<th>pc_code</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>101</td>
<td>dishwasher</td>
<td>detergent</td>
<td>1</td>
</tr>
<tr>
<td>2</td>
<td>102</td>
<td>laundry</td>
<td>detergent</td>
<td>2</td>
</tr>
<tr>
<td>3</td>
<td>501</td>
<td>disposable</td>
<td>diapers</td>
<td>5</td>
</tr>
<tr>
<td>4</td>
<td>502</td>
<td>non-disposable</td>
<td>diapers</td>
<td>5</td>
</tr>
</tbody>
</table>
</div>
And group by prod_cat. So I would like to split the column in the middle into three columns using the whitespaces, but I have no idea on how to.
Thank you very much in advance.",mysql
425,70347501,Getting a value without duplication,"Is there a way to get a value from a table that joins on multiple rows?
For example:
table 1 has a unique row with a unique transaction
table 2 has many rows that join on A because it's a balance sheet
I only need a single value (account) from a particular subset of columns in table 2 whose rows are duplicates in every way apart from the date.
When I join table 2 onto table 1 I get a lot of duplication because of the different dates.

The row from table1 might look like this:
<pre><code>key: 1, transaction: 200
</code></pre>
The entries from table2 would look like this:
<pre><code>key: 1, transaction: 200, date:31/01, account: 343, table1_key: 1
key: 2, transaction: 200, date:28/02, account: 343, table1_key: 1
key: 3, transaction: 200, date:31/03, account: 343, table1_key: 1
key: 4, transaction: 200, date:30/04, account: 343, table1_key: 1
</code></pre>
I'm brand new to SQL so not sure if this is enough info. If you need any more information, please let me know.",sql|postgresql
426,70296132,Ensuring no dupe ids in query return,"So for the following schema:

You can see that there are 3 activities and each contact has two. What i am searching for is the number of activities per account in the previous two months. So I have the following query
<pre><code>SELECT contact.account_id AS accountid,
    count(*) FILTER (WHERE date_trunc('month'::text, activity.start_date) = date_trunc('month'::text, CURRENT_DATE - '1 mon'::interval)) AS last_month,
    count(*) FILTER (WHERE date_trunc('month'::text, activity.start_date) = date_trunc('month'::text, CURRENT_DATE - '2 mons'::interval)) AS prev_month
FROM activity
JOIN activity_contact ON activity_contact.activity_id = activity.id
JOIN contact ON contact.id = activity_contact.contact_id
JOIN account ON contact.account_id = account.id
GROUP BY contact.account_id;
</code></pre>
This returns:
<pre><code>accountid   last_month  prev_month
    1           3           1
</code></pre>
However this is incorrect. There are only 3 activities, its just that each contact sees activity 1. so it is counting that activity twice. Is there a way for me to only count each activity id one time so there is no duplication?",sql|postgresql
427,70193979,"You have an error in your SQL syntax; syntax to use near 'CREATE TABLE `users` ( `id` INT(11) NULL AUTO_INCREMENT, `hex_id` VARCHAR(10' at line 25","<blockquote>
You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE TABLE  ( <code>id</code> INT(11) NULL AUTO_INCREMENT, <code>hex_id</code> VARCHAR(10' at line 25
</blockquote>
",mysql
428,70063931,calculate date in 1 min interval postgres,"I have a Table like this:

the lines look like this:
<pre><code>&quot;2021-11-17&quot;    &quot;06:39:37.7663&quot; 2
&quot;2021-11-17&quot;    &quot;06:39:38.7663&quot; 5
&quot;2021-11-17&quot;    &quot;06:39:39.7663&quot; 0
&quot;2021-11-17&quot;    &quot;06:39:40.7663&quot; 9
&quot;2021-11-17&quot;    &quot;06:39:41.7663&quot; 3
&quot;2021-11-17&quot;    &quot;06:39:42.7663&quot; 7
&quot;2021-11-17&quot;    &quot;06:39:43.7663&quot; 5
&quot;2021-11-17&quot;    &quot;06:39:44.7663&quot; 6
&quot;2021-11-17&quot;    &quot;06:39:45.7663&quot; 3
&quot;2021-11-17&quot;    &quot;06:39:46.7663&quot; 1
&quot;2021-11-17&quot;    &quot;06:39:47.7663&quot; 2
&quot;2021-11-17&quot;    &quot;06:39:48.7663&quot; 5
&quot;2021-11-17&quot;    &quot;06:39:49.7663&quot; 8
&quot;2021-11-17&quot;    &quot;06:39:50.7663&quot; 9
&quot;2021-11-17&quot;    &quot;06:39:51.7663&quot; 4
&quot;2021-11-17&quot;    &quot;06:39:52.7663&quot; 5
&quot;2021-11-17&quot;    &quot;06:39:53.7663&quot; 6
&quot;2021-11-17&quot;    &quot;06:39:54.7663&quot; 6
&quot;2021-11-17&quot;    &quot;06:39:55.7663&quot; 7
&quot;2021-11-17&quot;    &quot;06:39:56.7663&quot; 8
&quot;2021-11-17&quot;    &quot;06:39:57.7663&quot; 9
&quot;2021-11-17&quot;    &quot;06:39:58.7663&quot; 7
&quot;2021-11-17&quot;    &quot;06:39:59.7663&quot; 8
&quot;2021-11-17&quot;    &quot;06:40:00.7663&quot; 9
&quot;2021-11-17&quot;    &quot;06:40:01.7663&quot; 1
</code></pre>
I want to sum the price column per minute, but couldn't find how to do range with time (not timestamp)",sql|postgresql
429,70104609,What is the right way to count records at different points in time?,"I am trying to determine what the right way to get a cumulative count of items for various points in time is, e.g.:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>Time window</th>
<th>Item Count</th>
</tr>
</thead>
<tbody>
<tr>
<td>Days 0 - 1</td>
<td>4</td>
</tr>
<tr>
<td>Days 0 - 2</td>
<td>6</td>
</tr>
<tr>
<td>Days 0 - 3</td>
<td>7</td>
</tr>
<tr>
<td>Days 0 - 4</td>
<td>12</td>
</tr>
<tr>
<td>Days 0 - 5</td>
<td>15</td>
</tr>
<tr>
<td>...</td>
<td>...</td>
</tr>
<tr>
<td>Days 0 - N</td>
<td>M</td>
</tr>
</tbody>
</table>
</div>
I am not necessarily interested in starting from &quot;0&quot;, but looking at the cumulative item count over the last 7, 30 or however many days.
The closest I've been able to come up with is something like this:

I'm sure there is something in SQL, and more specifically Postgres, to do this much more efficiently. What SQL feature can help me with this?",sql|postgresql
430,70379895,How to search data from database by alias search term?,"For Example, I have a table like

whatever the data I search in the search term it has to show the country Paris.
how to implement that table structure for it?",sql|postgresql
431,70157101,Complex aggregation with select,"I have table in DB like this (ID column is not a unique UUID, just some object ID, primary key still exists, but removed for example)
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th style=""text-align: center;"">ID</th>
<th style=""text-align: center;"">Option</th>
<th style=""text-align: center;"">Value</th>
<th style=""text-align: center;"">Number of searches</th>
<th style=""text-align: center;"">Search date</th>
</tr>
</thead>
<tbody>
<tr>
<td style=""text-align: center;"">1</td>
<td style=""text-align: center;"">abc</td>
<td style=""text-align: center;"">a</td>
<td style=""text-align: center;"">1</td>
<td style=""text-align: center;"">2021-01-01</td>
</tr>
<tr>
<td style=""text-align: center;"">1</td>
<td style=""text-align: center;"">abc</td>
<td style=""text-align: center;"">b</td>
<td style=""text-align: center;"">2</td>
<td style=""text-align: center;"">2021-01-01</td>
</tr>
<tr>
<td style=""text-align: center;"">1</td>
<td style=""text-align: center;"">abc</td>
<td style=""text-align: center;"">a</td>
<td style=""text-align: center;"">3</td>
<td style=""text-align: center;"">2021-01-02</td>
</tr>
<tr>
<td style=""text-align: center;"">1</td>
<td style=""text-align: center;"">abc</td>
<td style=""text-align: center;"">b</td>
<td style=""text-align: center;"">4</td>
<td style=""text-align: center;"">2021-01-02</td>
</tr>
<tr>
<td style=""text-align: center;"">1</td>
<td style=""text-align: center;"">def</td>
<td style=""text-align: center;"">a</td>
<td style=""text-align: center;"">5</td>
<td style=""text-align: center;"">2021-01-01</td>
</tr>
<tr>
<td style=""text-align: center;"">1</td>
<td style=""text-align: center;"">def</td>
<td style=""text-align: center;"">b</td>
<td style=""text-align: center;"">6</td>
<td style=""text-align: center;"">2021-01-01</td>
</tr>
<tr>
<td style=""text-align: center;"">1</td>
<td style=""text-align: center;"">def</td>
<td style=""text-align: center;"">a</td>
<td style=""text-align: center;"">7</td>
<td style=""text-align: center;"">2021-01-02</td>
</tr>
<tr>
<td style=""text-align: center;"">1</td>
<td style=""text-align: center;"">def</td>
<td style=""text-align: center;"">b</td>
<td style=""text-align: center;"">8</td>
<td style=""text-align: center;"">2021-01-02</td>
</tr>
<tr>
<td style=""text-align: center;"">2</td>
<td style=""text-align: center;"">...</td>
<td style=""text-align: center;"">...</td>
<td style=""text-align: center;"">...</td>
<td style=""text-align: center;"">...</td>
</tr>
<tr>
<td style=""text-align: center;"">...</td>
<td style=""text-align: center;"">...</td>
<td style=""text-align: center;"">...</td>
<td style=""text-align: center;"">...</td>
<td style=""text-align: center;"">...</td>
</tr>
<tr>
<td style=""text-align: center;"">N</td>
<td style=""text-align: center;"">xyz</td>
<td style=""text-align: center;"">xyz</td>
<td style=""text-align: center;"">M</td>
<td style=""text-align: center;"">any date</td>
</tr>
</tbody>
</table>
</div>
I want to get a some kind of statistic report like
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th style=""text-align: center;"">ID</th>
<th style=""text-align: center;"">Total searches</th>
<th style=""text-align: center;"">Option</th>
<th style=""text-align: center;"">Total number of option searches</th>
<th style=""text-align: center;"">Value</th>
<th style=""text-align: center;"">Total value searches</th>
</tr>
</thead>
<tbody>
<tr>
<td style=""text-align: center;"">1</td>
<td style=""text-align: center;"">36</td>
<td style=""text-align: center;"">abc</td>
<td style=""text-align: center;"">10</td>
<td style=""text-align: center;"">a</td>
<td style=""text-align: center;"">4</td>
</tr>
<tr>
<td style=""text-align: center;""></td>
<td style=""text-align: center;""></td>
<td style=""text-align: center;""></td>
<td style=""text-align: center;""></td>
<td style=""text-align: center;"">b</td>
<td style=""text-align: center;"">6</td>
</tr>
<tr>
<td style=""text-align: center;""></td>
<td style=""text-align: center;""></td>
<td style=""text-align: center;"">def</td>
<td style=""text-align: center;"">26</td>
<td style=""text-align: center;"">a</td>
<td style=""text-align: center;"">12</td>
</tr>
<tr>
<td style=""text-align: center;""></td>
<td style=""text-align: center;""></td>
<td style=""text-align: center;""></td>
<td style=""text-align: center;""></td>
<td style=""text-align: center;"">b</td>
<td style=""text-align: center;"">14</td>
</tr>
</tbody>
</table>
</div>
Is it possible in some way? UNION isn't working were, clause GROUP BY also have no idea how can solve that
I can do it easily in kotlin, just request everything and aggregate to classes like that
<pre class=""lang-kotlin prettyprint-override""></pre>
and export to file but I have to request data by SQ
and export to file but I have to request data by SQL",sql|postgresql
432,70250224,Select unique tuple of rows with specific conditions,"Consider a table called  containing 2 columns: <code>email</code> and <code>dateOfBooking</code>.
How do I return all unique tuples (so 2 columns: <code>email1</code> and <code>email2</code>) that made at least one booking on exactly 1 same dateOfBooking. This means I do not want to return any tuples that made at least one booking on the same day but on multiple occasions.
A starting point:
",sql|postgresql
433,70379495,Merge the results from multiple tables side by side in PostgreSQL,"I have 3 tables using with I need to make a resulting table.
<strong>Scenario:</strong>
<ol>
<li>The table 'Incoming Sentences' contains the steram of sentences
flowing in to the database.</li>
<li>The table 'tagged_sentences' contains
the sentences from 'incoming_sentences' which are tagged/labelled by the editor. Sometimes the admin overwrites the label if editor makes any mistake in labelling the data. Admin labelled data is final and considered to be correct.</li>
<li>The table 'accounts' contain the user's account level information</li>
</ol>
Below are the tables with sample information.
<strong>Incoming Sentences</strong>
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>id</th>
<th>sentence</th>
<th>market</th>
<th>model_identified_intent</th>
<th>tagged_at</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>abcd</td>
<td>en_in</td>
<td>alphabets</td>
<td>12/12/2021</td>
</tr>
<tr>
<td>2</td>
<td>1234</td>
<td>en_in</td>
<td>numeric</td>
<td>11/13/2021</td>
</tr>
<tr>
<td>3</td>
<td>a1b2</td>
<td>en_in</td>
<td>alphaNumeric</td>
<td>10/14/2021</td>
</tr>
<tr>
<td>4</td>
<td>efgh</td>
<td>en_in</td>
<td>alphabets</td>
<td>10/15/2021</td>
</tr>
<tr>
<td>5</td>
<td>e5f6</td>
<td>en_in</td>
<td>alphaNumeric</td>
<td>11/16/2021</td>
</tr>
</tbody>
</table>
</div>
<strong>Tagged Sentences</strong>
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>id</th>
<th>tagger_id</th>
<th>sentence_id</th>
<th>tagger_tagged_intent</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>32</td>
<td>1</td>
<td>alphabets</td>
</tr>
<tr>
<td>2</td>
<td>32</td>
<td>2</td>
<td>alphabets</td>
</tr>
<tr>
<td>3</td>
<td>32</td>
<td>3</td>
<td>Numeric</td>
</tr>
<tr>
<td>4</td>
<td>33</td>
<td>2</td>
<td>Numeric</td>
</tr>
<tr>
<td>5</td>
<td>33</td>
<td>3</td>
<td>alphaNumeric</td>
</tr>
</tbody>
</table>
</div>
<strong>User Account Table</strong>
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>id</th>
<th>user_role</th>
<th>email</th>
<th>name</th>
</tr>
</thead>
<tbody>
<tr>
<td>32</td>
<td>editor</td>
<td>editor@editor.com</td>
<td>editor123</td>
</tr>
<tr>
<td>33</td>
<td>admin</td>
<td>admin@admin.com</td>
<td>admin456</td>
</tr>
</tbody>
</table>
</div>
<strong>Expected Output:</strong>
I want to pull the result as 'total tagged senteces per month' in one column and 'total corrections per month by the admin'. Through which the error rate can be known.
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>year-month</th>
<th>total_tagged</th>
<th>Total Error (Corrected by admin)</th>
</tr>
</thead>
<tbody>
<tr>
<td>2021-10</td>
<td>2</td>
<td>1</td>
</tr>
<tr>
<td>2021-11</td>
<td>2</td>
<td>1</td>
</tr>
<tr>
<td>2021-12</td>
<td>1</td>
<td>0</td>
</tr>
</tbody>
</table>
</div>
Requesting your help in solving this. I tried the below code. But it isn't working as expected.
",sql|postgresql
434,70226184,"In SQL, how do I pivot the rows and columns summing up the sales according to product_id?","
This the code that I tried. SQL fiddle says that something wrong with the code.
<a href=""https://i.stack.imgur.com/eP9uR.png"" rel=""nofollow noreferrer"">the table for reference</a>
<a href=""http://sqlfiddle.com/#!9/bdc694/40/0"" rel=""nofollow noreferrer"">the fiddle</a>",sql|postgresql
435,70194728,Is there any way to reduce the PostgreSQL performance deviation between the multiple iterations?,"NOPM values captured with HammerDB-v4.3 scripts (schema_tpcc.tcl and
test_tpcc.tcl ) for multiple trails.
The expected performance deviation between the multiple trials should be less
than 2%, but observed more.
Hardware configuration

Postgresql.conf
<pre><code>autovacuum_max_workers = 16
autovacuum_vacuum_cost_limit = 3000
checkpoint_completion_target = 0.9
checkpoint_timeout = '15min'
cpu_tuple_cost = 0.03
effective_cache_size = '350GB'
listen_addresses = '*'
maintenance_work_mem = '2GB'
max_connections = 1000
max_wal_size = '128GB'
random_page_cost = 1.1
shared_buffers = '128GB'
wal_buffers = '1GB'
work_mem = '128MB'
random_page_cost = 1.1
effective_io_concurrency = 200 
</code></pre>
HammerDB Scripts
&gt;&gt;cat schema.tcl
<pre><code>    #!/bin/tclsh
    dbset db pg
    diset connection pg_host localhost
    diset connection pg_port 5432
    diset tpcc pg_count_ware 400
    diset tpcc pg_num_vu 50
    print dict
    buildschema
    waittocomplete
</code></pre>
RUN TEST on i.e. start with 1VU then 2, 4, etc
<pre><code>  | Virtual Users | Trail-1(NOPM) | Trail-2(NOPM) | %diff   |
  |---------------|---------------|---------------|---------|
  | 12            | 99390         |     92913     | 6.516752|
  | 140           | 561429        |    525408     | 6.415949| 
  | 192           | 636016        |    499574     | 21.4526 |
  | 230           | 621644        |    701882     | 12.9074 |
</code></pre>",postgresql
436,70066759,How to group by period of time?,"I have a table with messages and I need to find chats where were two or more messages in period of 10 seconds.
table

So the result looks like
<pre><code>id
1
3
</code></pre>
I can't come up with the idea how to group by a period or maybe it can be done other way?
<pre><code>select id
from t
group by id, ?
having count(message_id) &gt; 1
</code></pre>",sql|postgresql
437,70330132,Postgres configuration for use in embedded?,"I have the same 5000 key/value pairs being read/written continuously (every 150ms or so) on a Debian system equivalent to a Raspberry Pi 3.
I don't care about persisting this data, it's recreated whenever my application server is launched.
Initially I used SQLite for this, using an in-memory table. However, now I want to access the data from multiple processes (using a tmpfs didn't work out great) and even from a remote client, as well as add an HTTP API, use LISTEN/NOTIFY for change notifications, so I'd like to switch to PG which is more appropriate for these.
Given these circumstances:
<ul>
<li>small dataset that fits in RAM</li>
<li>no need for persistence</li>
<li>low power PC</li>
<li>running 24/7 forever</li>
<li>don't want to thrash the flash storage</li>
</ul>
...what would be a good approach to configuring PG?
I found <a href=""https://stackoverflow.com/questions/11729690/postgresql-equivalent-of-mysql-memory-tables"">this</a> 10yo question and the last update was 5 years ago saying to use a 3rd party extension, which I'm not too excited about the same 5000 key/value pairs being read/written continuously (every 150ms or so) on a Debian system equivalent to a Raspberry Pi 3.
I don't care about persisting this data, it's recreated whenever my application server is launched.
Initially I used SQLite for this, using an in-memory table. However, now I want to access the data from multiple processes (using a tmpfs didn't work out great) and even from a remote client, as well as add an HTTP API, use LISTEN/NOTIFY for change notifications, so I'd like to switch to PG which is more appropriate for these.
Given these circumstances:
<ul>
<li>small dataset that fits in RAM</li>
<li>no need for persistence</li>
<li>low power PC</li>
<li>running 24/7 forever</li>
<li>don't want to thrash the flash storage</li>
</ul>
...what would be a good approach to configuring PG?
I found <a href=""https://stackoverflow.com/questions/11729690/postgresql-equivalent-of-mysql-memory-tables"">this</a> 10yo question and the last update was 5 years ago saying to use a 3rd party extension, which I'm not too excited aboute the same 5000 key/value pairs being read/written continuously (every 150ms or so) on a Debian system equivalent to a Raspberry Pi 3.
I don't care about persisting this data, it's recreated whenever my application server is launched.
Initially I used SQLite for this, using an in-memory table. However, now I want to access the data from multiple processes (using a tmpfs didn't work out great) and even from a remote client, as well as add an HTTP API, use LISTEN/NOTIFY for change notifications, so I'd like to switch to PG which is more appropriate for these.
Given these circumstances:
<ul>
<li>small dataset that fits in RAM</li>
<li>no need for persistence</li>
<li>low power PC</li>
<li>running 24/7 forever</li>
<li>don't want to thrash the flash storage</li>
</ul>
...what would be a good approach to configuring PG?
I found <a href=""https://stackoverflow.com/questions/11729690/postgresql-equivalent-of-mysql-memory-tables"">this</a> 10yo question and the last update was 5 years ago saying to use a 3rd party extension, which I'm not too excited about the same 5000 key/value pairs being read/written continuously (every 150ms or so) on a Debian system equivalent to a Raspberry Pi 3.
I don't care about persisting this data, it's recreated whenever my application server is launched.
Initially I used SQLite for this, using an in-memory table. However, now I want to access the data from multiple processes (using a tmpfs didn't work out great) and even from a remote client, as well as add an HTTP API, use LISTEN/NOTIFY for change notifications, so I'd like to switch to PG which is more appropriate for these.
Given these circumstances:
<ul>
<li>small dataset that fits in RAM</li>
<li>no need for persistence</li>
<li>low power PC</li>
<li>running 24/7 forever</li>
<li>don't want to thrash the flash storage</li>
</ul>
...what would be a good approach to configuring PG?
I found <a href=""https://stackoverflow.com/questions/11729690/postgresql-equivalent-of-mysql-memory-tables"">this</a> 10yo question and the last update was 5 years ago saying to use a 3rd party extension, which I'm not too excited about.",postgresql
438,70069841,Oracle to Postgres Migration (Top Row with Order by),"Migrating a code from Oracle to Postgres:
Oracle Code:

To the best of my knowledge, it's Oracle's limitation that we need to add a subquery to get a proper sorted result if have to limit the output with rownum.
Do Postgres also carry the same limitations or can I convert the code in Posgtes into a single query as under?
<pre><code>SELECT customers.*
      FROM customers
      WHERE customer_id &gt; 4500
      ORDER BY last_name
      LIMIT 3;
</code></pre>",sql|postgresql
439,70306909,MySQL 5.6 Slave has no Binlog generated,"In my MySQL 5.6 environment, I have A -&gt; B -&gt; C replication setup. On C slave, there is no mysql binlog generated since I set it up as a slave. But the replication is running per . The Slave_SQL_Running_State showed &quot;Slave has read all relay log; waiting for the slave I/O thread to update it&quot;. The <code>show master status</code> on C slave showed it is on &quot;mysql-bin.000003&quot; position 120. That file was dated on Nov 29, not today. I have checked C slave my.cnf and I have binlog configured:

There is relay-bin log on C slave generated and kept current.
What is the reason C slave has no binlog?",mysql
440,70312560,Not allow postgres user to override default column value,"I have a table that looks like this:

And I want to let a postgres user <code>INSERT</code> their own arbitrary <code>log</code> but I want to make sure they are not allowed to set their own arbitrary <code>created</code>. Is there any clean way to enforce this?",postgresql
441,70316027,Aggregate window function and outer join,"I am trying to solve the following question in a performance-oriented way. My current implementation involves ugly loops and is painfully slow.
Specifically, I have a table (transactions) of timestamped orders per customer for various items:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>timestamp</th>
<th>customer</th>
<th>item</th>
<th>volume</th>
</tr>
</thead>
<tbody>
<tr>
<td>2000</td>
<td>Joe</td>
<td>A</td>
<td>100</td>
</tr>
<tr>
<td>2001</td>
<td>Joe</td>
<td>A</td>
<td>200</td>
</tr>
<tr>
<td>2001</td>
<td>Doe</td>
<td>A</td>
<td>100</td>
</tr>
</tbody>
</table>
</div>
Besides, I have a second table (valuations) showing prices for the items:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>timestamp</th>
<th>item</th>
<th>price</th>
</tr>
</thead>
<tbody>
<tr>
<td>2000</td>
<td>A</td>
<td>1.1</td>
</tr>
<tr>
<td>2001</td>
<td>A</td>
<td>1.2</td>
</tr>
<tr>
<td>2002</td>
<td>A</td>
<td>1.3</td>
</tr>
</tbody>
</table>
</div>
Now, I would like to track the value (price*stock) of each customer's stock (cumulative volume) sampled according to the timestamp in the valuations table:
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>timestamp</th>
<th>customer</th>
<th>item</th>
<th>stock</th>
<th>value</th>
</tr>
</thead>
<tbody>
<tr>
<td>2000</td>
<td>Joe</td>
<td>A</td>
<td>100</td>
<td>110</td>
</tr>
<tr>
<td>2001</td>
<td>Joe</td>
<td>A</td>
<td>300</td>
<td>360</td>
</tr>
<tr>
<td>2002</td>
<td>Joe</td>
<td>A</td>
<td>300</td>
<td>390</td>
</tr>
<tr>
<td>2001</td>
<td>Doe</td>
<td>A</td>
<td>100</td>
<td>120</td>
</tr>
<tr>
<td>2002</td>
<td>Doe</td>
<td>A</td>
<td>100</td>
<td>130</td>
</tr>
</tbody>
</table>
</div>
Essentially, this is going to be some form of (right) joining transactions and valuations. However, the catch here is that I would have to do one right join per (customer, item) combination. In other words, for every (customer, item) I would have to join the full set of timestamps.
My current (potentially pretty inefficient) solution loops across customers. For every customer, it creates the cumulative volume, right joins valuations and forward-fills (using the last function) columns coming from the transactions table:

This seems rather inefficient and becomes very slow for a large number of customers. Does anyone have an idea how to do that in one go? Would be great if you could help me out here.
Thanks in advance and best regards",sql|postgresql
442,70124780,Get black friday dates in Postgres,"How to get black friday dates in Postgres ?
IT will be the last friday of November month, is it possible to get it somehow  get black friday dates in Postgres ?
IT will be the last friday of November month, is it possible to get it somehow o get black friday dates in Postgres ?
IT will be the last friday of November month, is it possible to get it somehow  get black friday dates in Postgres ?
IT will be the last friday of November month, is it possible to get it somehow ?",postgresql
443,70342055,How to share a postgreSQL database?,"I'm currently working on a project with some colleagues and a colleague of mine linked a database created in her postgreSQL server to our visual studio project, but we don't know how she can share the database with the rest of us, or how can we modify the database without having it.
We're using postgreSQL 14rrently working on a project with some colleagues and a colleague of mine linked a database created in her postgreSQL server to our visual studio project, but we don't know how she can share the database with the rest of us, or how can we modify the database without having it.
We're using postgreSQL 14urrently working on a project with some colleagues and a colleague of mine linked a database created in her postgreSQL server to our visual studio project, but we don't know how she can share the database with the rest of us, or how can we modify the database without having it.
We're using postgreSQL 14rrently working on a project with some colleagues and a colleague of mine linked a database created in her postgreSQL server to our visual studio project, but we don't know how she can share the database with the rest of us, or how can we modify the database without having it.
We're using postgreSQL 14.",postgresql
444,70364602,MySQL filter intervals within intervals of Timestamp field,"I have a requirement, where I have to display employees records who has completed 5 years, 10 years, 15 years. i.e multiple of 5 years. Here the employee records should display upto 1 year i.e if employee completed 5 years it should display from 5 years upto 6 years, after 6 years it should not display the results. I have one another condition, I should get the results of the employees before 3 months from reaching 5,10,15 years
I have written a query, which showing records of all employees who has completed 5,10,15...years.
I am not able to satisy my 2nd condition i.e getting results before 3 months. Below is my query. Any suggestion could be very helpful to me
",mysql
445,70091842,MySQL FORCE INDEX got unexpected time cost,"Table:

MySQL version: <code>mysql:5.7.36.</code>
Here's the situation, in my project, the IP can match several hosts, I wanna get the result that matches (ip_a,host_a),(ip_b,host_b), so I use following sql:
<pre><code>select * from hosts h
     where (h.ip,h.host_name) in ((&quot;198.168.214.166&quot;,&quot;la-worker-01&quot;)... ...)
</code></pre>
Actually the target set is so large, around 3000 rows, this sql will scan the complete table, and it costs 24s, I tried to use <code>FORCE INDEX (unq_ip_host)</code>, but it still cost a lot of time, almost equals scanning the whole table. Explain result:
<code>type: range, key: unq_ip_host, key_len: 768,rows: 8952, filtered: 50.0, extra: Using where</code>
Then I tried to use <code>FORCE INDEX (idx_host)</code>, and this is the result of sql explain:
<code>type: ALL, key: null, key_len: null,rows: 284000, filtered: 50.0, extra: Using where</code>
<code>type</code> is <code>ALL</code> which means it won't use the index, this is weird, when I executed the sql, <code>FORCE INDEX (idx_host)</code> costs about 4.1s, but <code>FORCE INDEX (idx_ip_host)</code> costs 24s, this is weird.
<hr />
<pre><code>select count(distinct(ip)) from hosts; // result: 900000
select count(distinct(host_name)) from hosts; // result: 890000
</code></pre>
I can improve the sql but I'm puzzled as to why the two applications of <code>FORCE INDEX</code> provide different results.
Question:
<ol>
<li>Why doesn't MySQL use the index, when I use <code>FORCE INDEX (idx_host)</code>?</li>
<li>Why is scanning the entire table(<code>FORCE INDEX (idx_host)</code>) faster than using index(<code>FORCE INDEX (idx_ip_host)</code>)?</li>
</ol>",mysql
446,70294227,Converting hours:minutes:seconds to hours:minutes in PostgreSQL,"I have a column  with the data type <code>time</code> in Postgres. It appears as 24hours:minutes:seconds. I don't need the seconds, because they're all :00. I'm seeking to truncate the seconds and return results that just appear as 24hours:minutes.
I've tried the following, none of which worked:

Any ideas?",postgresql
447,70156441,"Unexpected ""division by zero: 0 / 0"" error on BigQuery","I'm working with a Google Ads dataset that is updated daily on BQ. The query was working fine last week, however, when I tried to run it today, I got an error:
<blockquote>
division by zero: 0/0
</blockquote>
<a href=""https://i.stack.imgur.com/h4Qpn.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/h4Qpn.png"" alt=""enter image description here"" /></a>
Really not sure what I did wrong to get the error because I haven't touched this query since last week. I've already tried , but still the same result. Any ideasorking with a Google Ads dataset that is updated daily on BQ. The query was working fine last week, however, when I tried to run it today, I got an error:
<blockquote>
division by zero: 0/0
</blockquote>
<a href=""https://i.stack.imgur.com/h4Qpn.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/h4Qpn.png"" alt=""enter image description here"" /></a>
Really not sure what I did wrong to get the error because I haven't touched this query since last week. I've already tried , but still the same result. Any ideas?",google-bigquery
448,70079594,How to extract only rows that contain fields in a given list?,"Consider I have 2 tables One 
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>userId</th>
<th>userName</th>
</tr>
</thead>
<tbody>
<tr>
<td>123</td>
<td>user1</td>
</tr>
<tr>
<td>124</td>
<td>user2</td>
</tr>
</tbody>
</table>
</div>
and the other <code>Items</code>
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>userId</th>
<th>itemName</th>
</tr>
</thead>
<tbody>
<tr>
<td>123</td>
<td>&quot;item1&quot;</td>
</tr>
<tr>
<td>123</td>
<td>&quot;item2&quot;</td>
</tr>
<tr>
<td>124</td>
<td>&quot;item1&quot;</td>
</tr>
</tbody>
</table>
</div>
Is there a way to get a list of all users who have all the items in a given list <code>(say [&quot;item1&quot;,&quot;item2&quot;])</code> i.e in this case only user - 123 is a valid response. the below would be the expected response in this case
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>userId</th>
<th>userName</th>
</tr>
</thead>
<tbody>
<tr>
<td>123</td>
<td>user1</td>
</tr>
</tbody>
</table>
</div>
Right now I am thinking of pulling in data using <code>in (&quot;item1&quot;,&quot;item2&quot;)</code>  and then processing it in memory.
I am looking for a way to accomplish this using a queryder I have 2 tables One 
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>userId</th>
<th>userName</th>
</tr>
</thead>
<tbody>
<tr>
<td>123</td>
<td>user1</td>
</tr>
<tr>
<td>124</td>
<td>user2</td>
</tr>
</tbody>
</table>
</div>
and the other <code>Items</code>
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>userId</th>
<th>itemName</th>
</tr>
</thead>
<tbody>
<tr>
<td>123</td>
<td>&quot;item1&quot;</td>
</tr>
<tr>
<td>123</td>
<td>&quot;item2&quot;</td>
</tr>
<tr>
<td>124</td>
<td>&quot;item1&quot;</td>
</tr>
</tbody>
</table>
</div>
Is there a way to get a list of all users who have all the items in a given list <code>(say [&quot;item1&quot;,&quot;item2&quot;])</code> i.e in this case only user - 123 is a valid response. the below would be the expected response in this case
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>userId</th>
<th>userName</th>
</tr>
</thead>
<tbody>
<tr>
<td>123</td>
<td>user1</td>
</tr>
</tbody>
</table>
</div>
Right now I am thinking of pulling in data using <code>in (&quot;item1&quot;,&quot;item2&quot;)</code>  and then processing it in memory.
I am looking for a way to accomplish this using a query.",sql|postgresql
449,70377902,Create a BigQuery view to get the latest rows from a partitioned (and clustered) table,"<h1>The issue</h1>
I'm trying to create a view to get the latest rows from a partitioned table, filtered on the date partition  and zero or more cluster fields.  I can create a view which uses a partition and I can create a view which handles some filters, but I can't work out the syntax to achieve both.
<h2>An example query requirement</h2>

<h1>Table schema</h1>
<pre><code>_LOCALDATETIME
_id
_CLUSTERFIELD1
_CLUSTERFIELD2
_CLUSTERFIELD3
_CLUSTERFIELD4
...other fields
</code></pre>",google-bigquery
450,70357373,Select all dates after a certain date,"I'm trying to get all dates after a given date in MySQL, but the results are the exact opposite of what I want.

But this is giving me all the dates <em>before</em> $DepartureDate",mysql
451,70331396,pg_wal directory is full in postgres db,"I have postgres 10 where pg_wal is getting full. I have files pg_wal directory from Dec'2020. I have enabled &quot;archive&quot; but I was getting archiver error and my application stopped working. Since this issue is on Production, I have disabled the archive.
Is it safe to remove old files from pg_wal which is dated on Dec'2020 and Jan'2021?
I can see this:
",postgresql
452,70099898,PGSQL query to get a list of sequential dates from today,"I am having an calendar table where I have added the list of dates on which no action should be performed.
The table is as follows and the date format is 

Considering today is <code>2021-11-24</code>.
The expected output is
<pre><code>date
2021-11-24
2021-11-23
2021-11-22
</code></pre>
And Considering today is <code>2021-12-25</code>
then the expected output is
<pre><code>date
2021-12-25
</code></pre>
And Considering today is <code>2021-12-27</code>
then the output should contain no data.
<pre><code>date
</code></pre>
It should get me the sequence with today's date in descending order without a break of sequence.
I searched on various posts I did find some of the posts related to my question but the query was little complex with nested subqueries. Is there a way to achieve the output in a more optimized way. I am new to pgsql.",sql|postgresql
453,70243228,Select max date in two columns with group by in postgresql,"I am trying to select all columns form extract table where I need to select the values which are with latest Upload_Date and latest date_modification among ID column. Basically I want to select max dated values in each ID.
Tried with below qeuiry but getting error as &quot;more than one row returned by a subquery used as an expression&quot;

I am new to postgresql. It will be helpful can someone suggest where I am making mistake.
Sample Data looks like
<a href=""https://i.stack.imgur.com/6Fkoz.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/6Fkoz.png"" alt=""enter image description here"" /></a>
Expected output is like this
<a href=""https://i.stack.imgur.com/zDd2W.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/zDd2W.png"" alt=""enter image description here"" /></a>",postgresql
454,70188388,Big query Date time in PST,"I have an issue in bigquery. I have a raw table which holds the created_date(date data type) and created_time(datetime data type) . From the raw table i have created an aggregate table which has a column created_date_pst (timestamp datatype) .the created_date_pst is created from the conversion as-TIMESTAMP(created_date,&quot;America/Los_Angeles&quot;) as created_date_pst.
Now the problem is when ever data is inserted from raw table to aggregate table i dont get the correct values or summary of the values (for example sum(calls) ) . i wanted to input the data correctly in aggregate table based on pst timezone. please advise. thank yo an issue in bigquery. I have a raw table which holds the created_date(date data type) and created_time(datetime data type) . From the raw table i have created an aggregate table which has a column created_date_pst (timestamp datatype) .the created_date_pst is created from the conversion as-TIMESTAMP(created_date,&quot;America/Los_Angeles&quot;) as created_date_pst.
Now the problem is when ever data is inserted from raw table to aggregate table i dont get the correct values or summary of the values (for example sum(calls) ) . i wanted to input the data correctly in aggregate table based on pst timezone. please advise. thank yoe an issue in bigquery. I have a raw table which holds the created_date(date data type) and created_time(datetime data type) . From the raw table i have created an aggregate table which has a column created_date_pst (timestamp datatype) .the created_date_pst is created from the conversion as-TIMESTAMP(created_date,&quot;America/Los_Angeles&quot;) as created_date_pst.
Now the problem is when ever data is inserted from raw table to aggregate table i dont get the correct values or summary of the values (for example sum(calls) ) . i wanted to input the data correctly in aggregate table based on pst timezone. please advise. thank yo an issue in bigquery. I have a raw table which holds the created_date(date data type) and created_time(datetime data type) . From the raw table i have created an aggregate table which has a column created_date_pst (timestamp datatype) .the created_date_pst is created from the conversion as-TIMESTAMP(created_date,&quot;America/Los_Angeles&quot;) as created_date_pst.
Now the problem is when ever data is inserted from raw table to aggregate table i dont get the correct values or summary of the values (for example sum(calls) ) . i wanted to input the data correctly in aggregate table based on pst timezone. please advise. thank you",google-bigquery
455,70108338,how to access one key inside jsonb field?,"Suppose I have a table like this

I need to access total field and find the particular key. So if the key name is sub_total how can I find through query. I'm using Postgres 14.1.
I'm not able to find postgres function which can do that. So guide me here",postgresql
456,70258541,Why MYSQL return 0 for compare string with Boolean?,"In PHP when I check a string like &quot;Hello&quot; with True/False if string not empty or not equal to zero PHP return True Boolean type , but in MYSQL when I check a string with IS comparison operator , MYSQL return zero for a string like this &quot;Hello&quot;.
Why MYSQL return zero ? &quot;Hello&quot; is a True Boolean Value.
",mysql
457,70272233,How to use JSON array in JOIN?,"I have got follow data base schema:

I need to display for every user date of expiring token and regions names for this token.
Something like:
<pre><code>user_id token_end_date region_as_json_object
5 &quot;2021-12-27&quot; [{id: 1, ru_name:&quot;Region1&quot;}, {id: 2, ru_name:&quot;Region2&quot;}]

</code></pre>
I wrote next code:
<pre><code>SELECT 
  ru_name 
FROM &quot;tokens&quot; 
JOIN regions ON regions.id = ANY (json_array_elements_text(regions) )
WHERE user_id = 5 ;
</code></pre>
But it does not work.
<a href=""https://i.stack.imgur.com/CB0Aj.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/CB0Aj.png"" alt=""enter image description here"" /></a>
sample data:
<pre><code>--
-- PostgreSQL database dump
--

-- Dumped from database version 13.1
-- Dumped by pg_dump version 13.1

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- Name: regions; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.regions (
    id integer NOT NULL,
    ru_name character varying(100),
    fz223_name character varying(100),
    fz44_name character varying(100),
    translite_name character varying(100)
);


ALTER TABLE public.regions OWNER TO postgres;

--
-- Name: regions_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.regions_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.regions_id_seq OWNER TO postgres;

--
-- Name: regions_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.regions_id_seq OWNED BY public.regions.id;


--
-- Name: tokens; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.tokens (
    id character(1) NOT NULL,
    user_id bigint NOT NULL,
    token_start_date timestamp without time zone NOT NULL,
    token_end_date timestamp without time zone NOT NULL,
    access_token character varying(50) NOT NULL,
    regions json
);


ALTER TABLE public.tokens OWNER TO postgres;

--
-- Name: users; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.users (
    id bigint DEFAULT nextval('public.user_id_sequence'::regclass) NOT NULL,
    name character varying(50) NOT NULL,
    lastname character varying NOT NULL,
    email character varying NOT NULL,
    registration_date timestamp without time zone NOT NULL
);


ALTER TABLE public.users OWNER TO postgres;

--
-- Name: regions id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.regions ALTER COLUMN id SET DEFAULT nextval('public.regions_id_seq'::regclass);


--
-- Data for Name: regions; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.regions VALUES
    (1, ' ', 'Adygeya_Resp', 'Adygeja_Resp', 'Adygejskaya_respublika'),
    (2, ' ', 'Altayskii__krai', 'Altajskij_kraj', 'Altajskij_kraj'),
    (3, ' ', 'Altay_Resp', 'Altaj_Resp', 'Altajskaya_respublika'),
    (4, ' ', 'Amurskaya_obl', 'Amurskaja_obl', 'Amurskaya_oblast'),
    (5, ' ', 'Arhangelskaya_obl', 'Arkhangelskaja_obl', 'Arhangelskaya_oblast'),
    (6, ' ', 'Astrahanskaya_obl', 'Astrakhanskaja_obl', 'Astrahanskaya_oblast'),
    (7, '', 'Baikonur_g', 'Bajkonur_g', 'Bajkonur'),
    (8, '', 'Bashkortostan_Resp', 'Bashkortostan_Resp', 'Bashkortostan'),
    (9, ' ', 'Belgorodskaya_obl', 'Belgorodskaja_obl', 'Belgorodskaya_oblast'),
    (10, ' ', 'Brianskaya_obl', 'Brjanskaja_obl', 'Bryanskaya_oblast'),
    (11, ' ', 'Buryatiya_Resp', 'Burjatija_Resp', 'Buryatskaya_oblast');


--
-- Data for Name: tokens; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.tokens VALUES
    ('1', 3, '2020-03-05 00:00:00', '2020-03-08 00:00:00', 'sdfa78saaf4', NULL),
    ('2', 3, '2020-04-08 00:00:00', '2020-04-18 00:00:00', 'asasdfgkfaf4', NULL),
    ('3', 3, '2020-05-15 00:00:00', '2020-09-25 00:00:00', '934rfeasfsad', '[1,2,4]'),
    ('4', 3, '2020-05-15 00:00:00', '2020-09-25 00:00:00', '934rfeasfsad', '[4,5,7]'),
    ('5', 5, '2021-05-15 00:00:00', '2021-12-25 00:00:00', '934rfeasfsad', '[1,4,6,8]'),
    ('6', 5, '2021-06-15 00:00:00', '2022-01-25 00:00:00', '934rfeasfsad', '[12]');


--
-- Data for Name: users; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.users VALUES
    (3, 'Mike', 'Klinton', 'mike@gmail.com', '2010-01-02 00:00:00'),
    (5, 'Piter', 'Miklson', 'piter@gmail.com', '2011-01-02 00:00:00');


--
-- Name: regions_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.regions_id_seq', 1, false);


--
-- Name: regions regions_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.regions
    ADD CONSTRAINT regions_pkey PRIMARY KEY (id);


--
-- Name: tokens tokens_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tokens
    ADD CONSTRAINT tokens_pkey PRIMARY KEY (id);


--
-- Name: users unique_users_email; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT unique_users_email UNIQUE (email);


--
-- Name: users users_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT users_pkey PRIMARY KEY (id);


--
-- Name: tokens userr_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tokens
    ADD CONSTRAINT userr_id_fk FOREIGN KEY (user_id) REFERENCES public.users(id) MATCH FULL ON UPDATE CASCADE ON DELETE CASCADE;


--
-- PostgreSQL database dump complete
--

</code></pre>",postgresql
458,70313967,MySQL service not starting on XAMPP,"So I'm trying to start my XAMPP services. My Apache and ProFTPD are starting perfectly fine, however my MySQL service isn't starting. When I check the log, it says this:

Then, after that, when I go to my browser, and go to my local server's PHPMyAdmin, it shows this there:
<a href=""https://i.stack.imgur.com/s2LEm.png"" rel=""nofollow noreferrer"">Image</a>
What should I do? Please help!",mysql
459,70245795,best way to export bigquery table with nested columns into csv file,"Friends,
I am trying to export BigQuery table with nested columns (Array, Struct) into CSV file by flattening the rows.
I have tried  and Python BQ API (<code>from google.cloud import bigquery</code>), both options.
Which approach would be better with respect to network performance and job scheduling ?
I was thinking of scheduling a job either on Scheduler or on Composer, which will run the export script to write csv file on cloud storage.
I know that <code>bq export</code> requires cloud sdk, whereas Python BQ API is suitable with Cloud Function. But trying to understand which approach is best w.r.t to performance. Is there any recommendation ?
Also any link related to them would be helpful.
Regards,
Sands,
I am trying to export BigQuery table with nested columns (Array, Struct) into CSV file by flattening the rows.
I have tried  and Python BQ API (<code>from google.cloud import bigquery</code>), both options.
Which approach would be better with respect to network performance and job scheduling ?
I was thinking of scheduling a job either on Scheduler or on Composer, which will run the export script to write csv file on cloud storage.
I know that <code>bq export</code> requires cloud sdk, whereas Python BQ API is suitable with Cloud Function. But trying to understand which approach is best w.r.t to performance. Is there any recommendation ?
Also any link related to them would be helpful.
Regards,
Sant",google-bigquery
460,70319816,"Using dbeaver 'SQL Error [42830]: ERROR: there is no unique constraint matching given keys for referenced table ""Clinic""'","Really struggling with the below SQL syntax. I keep getting the error:
<blockquote>
SQL Error [42830]: ERROR: there is no unique constraint matching given keys for referenced table &quot;Clinic&quot;
</blockquote>
I've tried using unique and can't seem to work out the issue. Appreciate any help. Thanks
",sql|postgresql
461,70112264,How to populate an array of ids in a select?,"Suppose I have the following two tables:

My query returns the following:
<pre><code>[
    {
        &quot;id&quot;: &quot;101&quot;,
        &quot;table_1_elements_list&quot;: [ &quot;1003&quot; ],
    },
]
</code></pre>
But I would like to return this instead:
<pre><code>[
    {
        &quot;id&quot;: &quot;101&quot;,
        &quot;table1ElementsList&quot;: [
            {
                &quot;id&quot;: &quot;1003&quot;,
                &quot;name&quot;: &quot;name4&quot;
            }
        ],
    },
]
</code></pre>
Is it possible to do this? Here is my query:
<pre><code>SELECT
     id,
     table_1_fk_list as &quot;table1ElementsList&quot;
FROM table_2
</code></pre>
I've tried joining these two tables, like so, but it didn't work:
<pre><code>SELECT
     id,
     table_1_fk as &quot;table1ElementsList&quot;
FROM table_2 t2
JOIN table_1 t1
ON (t1.id = ANY(t2.table_1_fk_list))
</code></pre>
With MongoDB, I can use <code>$unwind</code> with aggregation or just a simple <code>populate</code> will do, but I'm a little new to Postgres.",postgresql
462,70161596,Incorporate tuples of information in JSON format stored in array in postresql,"I have the following postgresql function that allows me to obtain a table with information from two parameters that are indicated. However, now I want to modify this code so that it allows me to incorporate each tuple of information in JSON format and store all of them in an array and I can not find a way to do it successfully. Thank you in advance for your interest and help.
",postgresql
463,70253133,Convert oracle pivot to Postgres query,"I have a query in Oracle that creates a pivot table and I'm trying to convert it over to postgres.
In Oracle I had the following:

Which gives an output of:
<pre><code>ID | PROGRAM_TOTAL | APPROVED_INCENTIVE | PENDING_INCENTIVE | VOID_INCENTIVE | APPROVED_INCOME | PENDING_INCOME | VOID_INCOME
------------------------------------------------------------------------------------------------------------------------------
1   84000000         3386600               2108.75            1500             2000000           5000000             100
</code></pre>
I read <a href=""https://stackoverflow.com/questions/20618323/create-a-pivot-table-with-postgresql"">this post</a> about using <code>CASE STATEMENTS</code> in PG and have done the following:
<pre><code> SELECT 
    8400000 AS PROGRAM_TOTAL,
    CASE WHEN hb357.app_status = 'Approved' THEN SUM(hb357.incentive_amt_num) END as approved_incentive,
    CASE WHEN hb357.app_status = 'Pending' THEN SUM(hb357.incentive_amt_num) END as pending_incentive,
    CASE WHEN hb357.app_status = 'Void' THEN SUM(hb357.incentive_amt_num) END as void_incentive,
    CASE WHEN hb357.app_status = 'Approved' THEN SUM(hb357.program_income) END as approved_income,
    CASE WHEN hb357.app_status = 'Pending' THEN SUM(hb357.program_income) END as pending_income,
    CASE WHEN hb357.app_status = 'Void' THEN SUM(hb357.program_income) END as void_income
FROM WOODBURN.HB357
GROUP BY hb357.app_status
</code></pre>
But this splits the results by app status into separate rows because of the <code>GROUP BY</code> statement.
<a href=""https://i.stack.imgur.com/zUAGW.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/zUAGW.png"" alt=""PG results"" /></a>
But I need the all on the same row. So that results look like this:
<a href=""https://i.stack.imgur.com/MzUHy.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/MzUHy.png"" alt=""Desired results in PG"" /></a>
How can achieve this in PG?",postgresql
464,70078860,SQL Query to represent employee check-in and check-out,"I made the table record as

With the following sets of data..which is Check-in and Check-out by employee (4 in a day)
<pre><code>id  employee_code   status          created

1   EMP0001         check_in        2021-11-22 08:00:00
2   EMP0002         check_in        2021-11-22 08:00:50
3   EMP0001         check_out       2021-11-22 13:00:00
4   EMP0002         check_out       2021-11-22 13:01:00
5   EMP0001         check_in        2021-11-22 13:31:00
6   EMP0002         check_in        2021-11-22 13:33:50
7   EMP0001         check_out       2021-11-22 18:03:00
8   EMP0002         check_out       2021-11-22 18:04:00
</code></pre>
Normally 1 employee makes 4 punches...
I want to print fetch record as
<pre><code>employee_code   check_in_at            check_out_at           total_time

EMP0001         2021-11-22 08:00:00    2021-11-22 18:03:00    10:03:00
EMP0002         2021-11-22 08:00:50    2021-11-22 18:04:00    10:04:00
</code></pre>
I used the code
<pre><code>SELECT 
  A1.badge_id,
  A1.timestamp AS check_in_at,
  A2.timestamp AS check_out_at,
  TIMEDIFF(A2.timestamp, A1.timestamp) AS total_time 
FROM
  attendance AS A1 
  INNER JOIN attendance AS A2 
    ON A1.badge_id = A2.badge_id
    AND DATE(A1.timestamp) = DATE(A2.timestamp) 
WHERE 1 = 1 
  AND A1.timestamp = 'check_in' 
  AND A2.timestamp = 'check_out'
  AND DATE(A1.created) = '2021-11-22'
</code></pre>
But its not good as expected..  Any Suggestion.... ?? or code for quick fix",mysql
465,70109202,Query to get metadata of partitions table is taking a lot of time in bigquery,"Query to get partition metadata for all the tables in a dataset took 40 seconds and sometimes this query run very slow Attaching is the screenshot.<a href=""https://i.stack.imgur.com/uFsAJ.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/uFsAJ.png"" alt=""enter image description here"" /></ato get partition metadata for all the tables in a dataset took 40 seconds and sometimes this query run very slow Attaching is the screenshot.<a href=""https://i.stack.imgur.com/uFsAJ.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/uFsAJ.png"" alt=""enter image description here"" /></a to get partition metadata for all the tables in a dataset took 40 seconds and sometimes this query run very slow Attaching is the screenshot.<a href=""https://i.stack.imgur.com/uFsAJ.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/uFsAJ.png"" alt=""enter image description here"" /></ato get partition metadata for all the tables in a dataset took 40 seconds and sometimes this query run very slow Attaching is the screenshot.<a href=""https://i.stack.imgur.com/uFsAJ.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/uFsAJ.png"" alt=""enter image description here"" /></a>",google-bigquery
466,70222740,How to set 2 user variables in importing csv to mysql? (LOAD DATA INFILE),"I'm trying to import csv file to mysql. But I do not know how to set 2 user variables. I've searched everywhere and only 1 SET user variables are there.
",mysql
467,70377321,How to query the first word of a comma separated string starting with square brackets in SQL?,"When I fetch a field using Sql query, I get a string - [test1, test2, test3, test4]. I want the first word of the string i.e. test1. How should i write my query for the same using sql fetch a field using Sql query, I get a string - [test1, test2, test3, test4]. I want the first word of the string i.e. test1. How should i write my query for the same using sqlI fetch a field using Sql query, I get a string - [test1, test2, test3, test4]. I want the first word of the string i.e. test1. How should i write my query for the same using sql fetch a field using Sql query, I get a string - [test1, test2, test3, test4]. I want the first word of the string i.e. test1. How should i write my query for the same using sql?",mysql
468,70201928,SQL Error (1235): This version of MySQL doesn't yet support 'LIMIT & IN/ALL/ANY/SOME subquery',"I am getting the

The update query I writing is this
<pre><code>update id_card 
set division_category='678' 
where CODE  IN ( SELECT code  
                 FROM id_card 
                 WHERE CODE LIKE '%922846%' 
                 ORDER BY version DESC LIMIT 1
                 );
</code></pre>
How to re-write this  ?",mysql
469,70204864,Handle more than 5000 connections without PGBouncer in PostgreSQL,"We are using, PostgreSQL Version 14.
Our PC configuration at production
<ul>
<li>Windows 2016 Server</li>
<li>32 GB RAM</li>
<li>8 TB Hard disk</li>
<li>8 Core CPU</li>
</ul>
In my PostgreSQL.conf file
<ul>
<li>Shared_buffer 8 GB</li>
<li>Work_MEM 1 GB</li>
<li>Maintenance_work_mem 1 GB</li>
<li>Max_Connections 1000</li>
</ul>
I wish to handle 5000 connection at a time. Somebody suggest me to go with PGBouncer.
But we initially starts with PostgreSQL without PGBouncer.
I need to know, is my configuration is OK with the 5000 connection or we need to increase RAM or any other...
This is our first, PostgreSQL implementation. So Please suggest me to start with PostgreSQL with out PGBouncer.
Thank you
Note:
In SQL if we set -1, it will handle more number of connections. Like this is there any configuration is available in PostgreSQ using, PostgreSQL Version 14.
Our PC configuration at production
<ul>
<li>Windows 2016 Server</li>
<li>32 GB RAM</li>
<li>8 TB Hard disk</li>
<li>8 Core CPU</li>
</ul>
In my PostgreSQL.conf file
<ul>
<li>Shared_buffer 8 GB</li>
<li>Work_MEM 1 GB</li>
<li>Maintenance_work_mem 1 GB</li>
<li>Max_Connections 1000</li>
</ul>
I wish to handle 5000 connection at a time. Somebody suggest me to go with PGBouncer.
But we initially starts with PostgreSQL without PGBouncer.
I need to know, is my configuration is OK with the 5000 connection or we need to increase RAM or any other...
This is our first, PostgreSQL implementation. So Please suggest me to start with PostgreSQL with out PGBouncer.
Thank you
Note:
In SQL if we set -1, it will handle more number of connections. Like this is there any configuration is available in PostgreSQe using, PostgreSQL Version 14.
Our PC configuration at production
<ul>
<li>Windows 2016 Server</li>
<li>32 GB RAM</li>
<li>8 TB Hard disk</li>
<li>8 Core CPU</li>
</ul>
In my PostgreSQL.conf file
<ul>
<li>Shared_buffer 8 GB</li>
<li>Work_MEM 1 GB</li>
<li>Maintenance_work_mem 1 GB</li>
<li>Max_Connections 1000</li>
</ul>
I wish to handle 5000 connection at a time. Somebody suggest me to go with PGBouncer.
But we initially starts with PostgreSQL without PGBouncer.
I need to know, is my configuration is OK with the 5000 connection or we need to increase RAM or any other...
This is our first, PostgreSQL implementation. So Please suggest me to start with PostgreSQL with out PGBouncer.
Thank you
Note:
In SQL if we set -1, it will handle more number of connections. Like this is there any configuration is available in PostgreSQ using, PostgreSQL Version 14.
Our PC configuration at production
<ul>
<li>Windows 2016 Server</li>
<li>32 GB RAM</li>
<li>8 TB Hard disk</li>
<li>8 Core CPU</li>
</ul>
In my PostgreSQL.conf file
<ul>
<li>Shared_buffer 8 GB</li>
<li>Work_MEM 1 GB</li>
<li>Maintenance_work_mem 1 GB</li>
<li>Max_Connections 1000</li>
</ul>
I wish to handle 5000 connection at a time. Somebody suggest me to go with PGBouncer.
But we initially starts with PostgreSQL without PGBouncer.
I need to know, is my configuration is OK with the 5000 connection or we need to increase RAM or any other...
This is our first, PostgreSQL implementation. So Please suggest me to start with PostgreSQL with out PGBouncer.
Thank you
Note:
In SQL if we set -1, it will handle more number of connections. Like this is there any configuration is available in PostgreSQL",postgresql
470,70024832,MySQL event or trigger to automatically update a value 30 minutes after last modify,"I have in my DB () a table (<code>tb_test</code>) with 3 columns (<code>id</code>, <code>test_field</code>, <code>timestamp_ins</code>, <code>timestamp_mod</code>).
<code>id</code> is the 'primary key' with auto-increment attribute;
<code>test_field</code> is a char(1) that can contains only 2 values ('N' or 'S');
<code>timestamp_ins</code> is a datetime with current timestamp (not updating);
<code>timestamp_mod</code> is a datetime with current timestamp set to ON UPDATE CURRENT_TIMESTAMP().
I would like <code>test_field</code> automatically returns to default value ('N') 30 minutes after last modify of record indicated in <code>timestamp_mod</code> value.
I'm not expert in mysql, so I need help about this.
Is it possible using phpMyAdmin on a XAMPP virtual server?
--UPDATE--
Solved with this syntax:

Only one doubt:
can this event make my DB performances worse?",mysql
471,70084545,Performance of INSERT vs INSERT-only clause in INSERT ... ON CONFLICT DO UPDATE with no CONFLICT,"This question concerns PostgreSQL 13.0
Is there a performance difference between an INSERT statement vs. an INSERT... ON CONFLICT DO UPDATE statement if the CONFLICT is never triggered?
I have a weekly bulk data load task where we COPY vendor data into a staging table, perform various exercises with it, and then merge it into our larger historical tables. When this process was first developing, the data volume was relatively low and the vendor did not always send non-overlapping data sets week by week, so we set up an INSERT... ON CONFLICT DO UPDATE statement to handle scenarios where the data in one week overlapped data in the prior week's delivery.
The process has now scaled to include much larger volumes of data and better partitioning by the vendor such that we rarely have any overlap between one week to the next. I'm curious if there's a negative performance impact by putting a larger volume of records through the &quot;upsert&quot; transaction  where the UPDATE is not needed, vs. some process by which I explicitly identify rows to INSERT versus rows to UPDATE and load the data in two separate transactionsuestion concerns PostgreSQL 13.0
Is there a performance difference between an INSERT statement vs. an INSERT... ON CONFLICT DO UPDATE statement if the CONFLICT is never triggered?
I have a weekly bulk data load task where we COPY vendor data into a staging table, perform various exercises with it, and then merge it into our larger historical tables. When this process was first developing, the data volume was relatively low and the vendor did not always send non-overlapping data sets week by week, so we set up an INSERT... ON CONFLICT DO UPDATE statement to handle scenarios where the data in one week overlapped data in the prior week's delivery.
The process has now scaled to include much larger volumes of data and better partitioning by the vendor such that we rarely have any overlap between one week to the next. I'm curious if there's a negative performance impact by putting a larger volume of records through the &quot;upsert&quot; transaction  where the UPDATE is not needed, vs. some process by which I explicitly identify rows to INSERT versus rows to UPDATE and load the data in two separate transactionsquestion concerns PostgreSQL 13.0
Is there a performance difference between an INSERT statement vs. an INSERT... ON CONFLICT DO UPDATE statement if the CONFLICT is never triggered?
I have a weekly bulk data load task where we COPY vendor data into a staging table, perform various exercises with it, and then merge it into our larger historical tables. When this process was first developing, the data volume was relatively low and the vendor did not always send non-overlapping data sets week by week, so we set up an INSERT... ON CONFLICT DO UPDATE statement to handle scenarios where the data in one week overlapped data in the prior week's delivery.
The process has now scaled to include much larger volumes of data and better partitioning by the vendor such that we rarely have any overlap between one week to the next. I'm curious if there's a negative performance impact by putting a larger volume of records through the &quot;upsert&quot; transaction  where the UPDATE is not needed, vs. some process by which I explicitly identify rows to INSERT versus rows to UPDATE and load the data in two separate transactionsuestion concerns PostgreSQL 13.0
Is there a performance difference between an INSERT statement vs. an INSERT... ON CONFLICT DO UPDATE statement if the CONFLICT is never triggered?
I have a weekly bulk data load task where we COPY vendor data into a staging table, perform various exercises with it, and then merge it into our larger historical tables. When this process was first developing, the data volume was relatively low and the vendor did not always send non-overlapping data sets week by week, so we set up an INSERT... ON CONFLICT DO UPDATE statement to handle scenarios where the data in one week overlapped data in the prior week's delivery.
The process has now scaled to include much larger volumes of data and better partitioning by the vendor such that we rarely have any overlap between one week to the next. I'm curious if there's a negative performance impact by putting a larger volume of records through the &quot;upsert&quot; transaction  where the UPDATE is not needed, vs. some process by which I explicitly identify rows to INSERT versus rows to UPDATE and load the data in two separate transactions.",postgresql
472,70332770,How to truncate seconds from timestamp in postgres?,"I have the following field in my table:

And it is holding time like that:
<pre><code>2022-01-13 11:04:15
</code></pre>
Could someone tell me is it possible to cut off that seconds? I really don't need them.
I want to hold time in the following format:
<pre><code>2022-01-13 11:04
</code></pre>",sql|postgresql
473,70040923,Unnesting repeated records to a single row in Big Query,"I have a dataset that includes repeated records. When I unnest them I get 2 rows. 1 per nested record.
Before unnest raw data:
<a href=""https://i.stack.imgur.com/M2yKT.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/M2yKT.png"" alt=""![enter image description here"" /></a>
After unnest using this query:

<a href=""https://i.stack.imgur.com/RZyI5.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/RZyI5.png"" alt=""enter image description here"" /></a>
These are actually 2 rows that are expanded to 4. I've been trying to unnest into a single row so I have 3 columns,
eventTime, buyer.Id, seller.Id.
I've been trying to use REPLACE to build a struct of the unnested content but I cannot figure out how to do it. Any pointer , documentation or steps that could help me out?",google-bigquery
474,70332810,PostgreSQL problem: System has not been booted with systemd as init system (PID 1),"
I tried to follow <a href=""https://stackoverflow.com/questions/31645550/postgresql-why-psql-cant-connect-to-server"">PostgreSQL: Why psql can&#39;t connect to server?</a> but after typing
<pre><code>sudo service postgresql start
</code></pre>
I get:
<pre><code> * Starting PostgreSQL 14 database server                                                                                * Error: /usr/lib/postgresql/14/bin/pg_ctl /usr/lib/postgresql/14/bin/pg_ctl start -D /var/lib/postgresql/14/main -l /var/log/postgresql/postgresql-14-main.log -s -o  -c config_file=&quot;/etc/postgresql/14/main/postgresql.conf&quot;  exited with status 1:
2021-12-13 10:54:29.791 CET [180] LOG:  starting PostgreSQL 14.1 (Ubuntu 14.1-2.pgdg20.04+1) on x86_64-pc-linux-gnu, compiled by gcc (Ubuntu 9.3.0-17ubuntu1~20.04) 9.3.0, 64-bit
2021-12-13 10:54:29.797 CET [180] LOG:  could not bind IPv4 address &quot;127.0.0.1&quot;: Permission denied
2021-12-13 10:54:29.798 CET [180] WARNING:  could not create listen socket for &quot;localhost&quot;
2021-12-13 10:54:29.798 CET [180] FATAL:  could not create any TCP/IP sockets
2021-12-13 10:54:30.039 CET [180] LOG:  database system is shut down
pg_ctl: could not start server
Examine the log output.
</code></pre>
After: sudo find /tmp/ -name .s.PGSQL.5432 -&gt; nothing
After: sudo systemctl status postgresql -&gt; System has not been booted with systemd as init system (PID 1). Can't operate. Failed to connect to bus: Host is down
How to fix it? I am trying to install chirpstack LoraWAN server",postgresql
475,70033390,to write case when to another case when in one select Google Big Query,"I'm a new user in Google Big Query and I want to write two &quot;Case when....&quot; in one select, and they should be connected to each other
For example:

<code>Case when mark = 'one' then 'red' when mark='two' then 'orange' else 'other' end as color</code>
But I have mistake like 'Unrecognized name: mark at [8:14]'
I used all the options with apostrophe but still have the same result.
I also try to find answer in BigQuery Documentation but it was unsuccessfully.
Is it even possible to do this new user in Google Big Query and I want to write two &quot;Case when....&quot; in one select, and they should be connected to each other
For example:

<code>Case when mark = 'one' then 'red' when mark='two' then 'orange' else 'other' end as color</code>
But I have mistake like 'Unrecognized name: mark at [8:14]'
I used all the options with apostrophe but still have the same result.
I also try to find answer in BigQuery Documentation but it was unsuccessfully.
Is it even possible to do this?",google-bigquery
476,70188457,How can i use select to make custom value to compare ON DUPLICATE UPDATE,"I have 2 unique columns. and I want to put another value if I find a duplicate.
can i make it by adding select like this?
<pre class=""lang-sql prettyprint-override""></pre",mysql
477,70104487,How to select second max value for each rows (MySQL),"Table looks like below.

id value can be duplicated.
I want to select second max value for each id.
For example,
<pre><code>+------+-------+
| id   | count |
+------+-------+
|    1 |    10 |
|    1 |     6 |
|    1 |     3 |
|    5 |    11 |
|    5 |    15 |
|    2 |     4 |
|    2 |     8 |
+------+-------+
</code></pre>
In this case, I want to select like below.
<pre><code>+------+-------+
| id   | count |
+------+-------+
|    1 |     6 |
|    5 |    11 |
|    2 |     4 |
+------+-------+
</code></pre>
How can i select it?",mysql
478,70031964,mysql column data type - which datatype to use that accepts special letters or chars?,"I have entered in my form this data to test &quot;Do Goldenen Schlssel&quot; and successfully saved to table,. However, when output in another page it is now &quot;DoGoldenen Schlssel&quot;.
My datatype is only Varchar. Could you help me to specify which solution to be adjusted on my table in order to correctly accepts these kind of strings.
Thanks in advanc entered in my form this data to test &quot;Do Goldenen Schlssel&quot; and successfully saved to table,. However, when output in another page it is now &quot;DoGoldenen Schlssel&quot;.
My datatype is only Varchar. Could you help me to specify which solution to be adjusted on my table in order to correctly accepts these kind of strings.
Thanks in advance entered in my form this data to test &quot;Do Goldenen Schlssel&quot; and successfully saved to table,. However, when output in another page it is now &quot;DoGoldenen Schlssel&quot;.
My datatype is only Varchar. Could you help me to specify which solution to be adjusted on my table in order to correctly accepts these kind of strings.
Thanks in advanc entered in my form this data to test &quot;Do Goldenen Schlssel&quot; and successfully saved to table,. However, when output in another page it is now &quot;DoGoldenen Schlssel&quot;.
My datatype is only Varchar. Could you help me to specify which solution to be adjusted on my table in order to correctly accepts these kind of strings.
Thanks in advance",mysql
479,70185821,MySQL KeyColumn doesn't exist on Foreign Key,"I currently have the following MySQL database structure:
WebsiteUsers:

WebsiteTaskTypes:
<pre><code>WS_TaskTypeID (INT(10) UNSIGNED PRIMARY KEY)
WS_TaskTypeName (VARCHAR(255)) NOT NULL
</code></pre>
Only indexes set up in the InnoDB tables are the 2 primary keys respectively, both being named of course &quot;PRIMARY&quot;, pointing to the columns listed above.
In PHPMyAdmin I would like to run the following MySQL command:
<pre><code>CREATE TABLE WebsiteTasks (
    WS_TaskID INT(10) UNSIGNED AUTO_INCREMENT PRIMARY KEY,
    FOREIGN KEY WS_UserID (WS_UserID) REFERENCES WebsiteUsers (WS_UsersID),
    FOREIGN KEY WS_TaskTypeID (WS_TaskTypeID) REFERENCES WebsiteTaskTypes(WS_TaskTypeID),
    WS_TaskActive BOOLEAN NOT NULL DEFAULT '1',
    WS_TaskCompletedBy INT(10) UNSIGNED COMMENT 'User who completed task',
    WS_TaskCreated DATETIME,
    WS_TaskModified DATETIME
) CHARSET=utf8mb4;
</code></pre>
However, this gives the following error message: <code>#1072 - 'WS_UserID' Key Column doesn't exist in table.</code>
What am I doing wrong here? Could someone please explain it to me, and give me a fix? :D",mysql
480,70272470,Mysql 8.0: Query becomes intractable if requesting JSON column from a LEFT JOINed table,"I have a problem regarding a query I built on my database, and I am at a loss on why this happens:
I have tables A and B, where A contains its id and a datetime column, while B has a foreign key linked to , one text and one JSON column containing arrays.
My query looks like this

This query takes forever (I haven't yet managed to see it completed).
But simply removing the <code>B.json_col</code> from <code>SELECT</code> makes the query super fast, so does using an <code>INNER JOIN</code> rather than a <code>LEFT JOIN</code>.
Given the characteristics of the tables, the quantity of data returned by each query should not be really different: only ~5% of rows from A should not have at least one corresponding B row, and the JSON field is relatively small (2 or 3 elements of 100 characters each).
It almost seems like a bug to me, but I wanted to check if I wasn't missing something obvious (or not so obvious) regarding JSON fields in Mysql that would prevent me from getting a JSON field from a LEFT JOIN.",mysql
481,70048407,"how can I create several databases and some schemas as a SQL statement, with postgres","how can I achieve this:

without using pgsql, so no /connect in between.
do I have to log as admin, create the dbs, then connect under each db and then create the schemas? or can I do all at once when logged as admin?",postgresql
482,70349402,Is there a way to store multiple data in one field in MySql?,"I have a field(Vehicle Brand Specialty) that stores the brand which mechanics are proficient in, but there could be more than one brand. I know it goes against 1NF to store multiple entries in one field but I could also store the data but separated by commas. What is the best option here a field(Vehicle Brand Specialty) that stores the brand which mechanics are proficient in, but there could be more than one brand. I know it goes against 1NF to store multiple entries in one field but I could also store the data but separated by commas. What is the best option heree a field(Vehicle Brand Specialty) that stores the brand which mechanics are proficient in, but there could be more than one brand. I know it goes against 1NF to store multiple entries in one field but I could also store the data but separated by commas. What is the best option here a field(Vehicle Brand Specialty) that stores the brand which mechanics are proficient in, but there could be more than one brand. I know it goes against 1NF to store multiple entries in one field but I could also store the data but separated by commas. What is the best option here?",mysql
483,70120939,MySQL select query issue when showing row values as columns,"Is there a way to show row values as column values.
Lets say I have a table called A and which contains 5 records with 3 columns. Below image show the data set. Rows always 5.
<a href=""https://i.stack.imgur.com/x0p5D.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/x0p5D.png"" alt=""enter image description here"" /></a>
In Here I need to show value column values in a line with temporary column names
If I use simple select query as
Select row1.value as col1, row2.value as col2, row3.value as col3, row4.value as col4, row5.value as col5
so my expected result need to show as below
<a href=""https://i.stack.imgur.com/8GXZF.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/8GXZF.png"" alt=""enter image description here"" /></a>
Please tell me how to use select query to get this result in MySQre a way to show row values as column values.
Lets say I have a table called A and which contains 5 records with 3 columns. Below image show the data set. Rows always 5.
<a href=""https://i.stack.imgur.com/x0p5D.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/x0p5D.png"" alt=""enter image description here"" /></a>
In Here I need to show value column values in a line with temporary column names
If I use simple select query as
Select row1.value as col1, row2.value as col2, row3.value as col3, row4.value as col4, row5.value as col5
so my expected result need to show as below
<a href=""https://i.stack.imgur.com/8GXZF.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/8GXZF.png"" alt=""enter image description here"" /></a>
Please tell me how to use select query to get this result in MySQere a way to show row values as column values.
Lets say I have a table called A and which contains 5 records with 3 columns. Below image show the data set. Rows always 5.
<a href=""https://i.stack.imgur.com/x0p5D.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/x0p5D.png"" alt=""enter image description here"" /></a>
In Here I need to show value column values in a line with temporary column names
If I use simple select query as
Select row1.value as col1, row2.value as col2, row3.value as col3, row4.value as col4, row5.value as col5
so my expected result need to show as below
<a href=""https://i.stack.imgur.com/8GXZF.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/8GXZF.png"" alt=""enter image description here"" /></a>
Please tell me how to use select query to get this result in MySQre a way to show row values as column values.
Lets say I have a table called A and which contains 5 records with 3 columns. Below image show the data set. Rows always 5.
<a href=""https://i.stack.imgur.com/x0p5D.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/x0p5D.png"" alt=""enter image description here"" /></a>
In Here I need to show value column values in a line with temporary column names
If I use simple select query as
Select row1.value as col1, row2.value as col2, row3.value as col3, row4.value as col4, row5.value as col5
so my expected result need to show as below
<a href=""https://i.stack.imgur.com/8GXZF.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/8GXZF.png"" alt=""enter image description here"" /></a>
Please tell me how to use select query to get this result in MySQL",mysql
484,70062662,Distinguishing which value is obtained from COALESCE by concatenating the value to a different prefix,"
In the above SQL, I am grouping by <code>the_id</code> that results from <code>COALESCE</code>. I want to avoid grouping <code>grouped_wells.groupforecasting_id</code> of equal value to <code>wells.id</code>.<br />
One possible way is to add a prefix depending on which of the two value I got from <code>COALESCE</code>, either add &quot;group_&quot; or &quot;well_&quot;.
How to add this conditional prefix to <code>the_id</code>?
If <code>grouped_wells.groupforecasting_id</code> is Null then concatenate &quot;well_&quot; to the result of <code>COALESCE</code>.<br />
Else concatenate &quot;group_&quot; to the result of <code>COALESCE</code>.",sql|postgresql
485,70212945,Storing articles with separate chapters,"I'm in the process of building a simple blog-ish website, and I'm unsure about how to structure storage of articles/blogs in a database. I have a very simple editor, which separates input into individual chapters before submitting them, like (retrieved from php print_r):

Should I create a new table for storing chapters individually, or concatenate all chapters into one long string and store as a single TEXT field?
Imagined database structure would be something like:
<pre><code>TABLE posts:
id
title
chapters (references unique table with chapters for this specific entry)

TABLE chapters (unique identifier per post):
chapter_header
chapter_content
</code></pre>
vs. this, storing article as one long string
<pre><code>TABLE posts:
id
title
content (with html tags to separate titles and chapters)
</code></pre>
I imagine the first structure will make it easier to identify unique chapters, for styling purposes (without having to parse the input to add unique identifiers in the form of HTML classes or IDs). However, I'm not sure if creating a new table for each entry is &quot;correct procedure&quot; or considered bad practice.",mysql
486,70193135,How can I add a connection to a node that might not exist?,"I'm excited about the new  but I'm stumped on how to use it. Hoping I could get some help.
I have this structure:
<code>(t:Topic)-[:VOTE_HAS_THING]-(v:Vote)-[:VOTE_HAS_FACT]-(d:Detail)</code>
Which essentially allows users to vote for specific Detail/Topic combinations. User votes look like this:
<code>(u:User)-[:VOTED]-(v:Vote)</code>
And I'd like to leverage MERGE queries like this:
Where thing.id = X and detail.id = Y, find and connect the relevant Vote node or create it if one does not exist.
I don't plan to create Vote nodes until they're needed, so I think MERGE statements would make sense here, any ideas? Am I supposed to use a <code>createVotes</code> as my top-level mutation?
Essentially my question is: can I add relationships between <code>User</code> and <code>Vote</code> and if <code>Vote</code> doesn't exist, then create it and then connect User.
Should I make the ID for the <code>Vote</code> node something that I can &quot;guess&quot; which would just be Topic.id + Detail.id? So I can just check to see if that ID exists, if not then create itxcited about the new  but I'm stumped on how to use it. Hoping I could get some help.
I have this structure:
<code>(t:Topic)-[:VOTE_HAS_THING]-(v:Vote)-[:VOTE_HAS_FACT]-(d:Detail)</code>
Which essentially allows users to vote for specific Detail/Topic combinations. User votes look like this:
<code>(u:User)-[:VOTED]-(v:Vote)</code>
And I'd like to leverage MERGE queries like this:
Where thing.id = X and detail.id = Y, find and connect the relevant Vote node or create it if one does not exist.
I don't plan to create Vote nodes until they're needed, so I think MERGE statements would make sense here, any ideas? Am I supposed to use a <code>createVotes</code> as my top-level mutation?
Essentially my question is: can I add relationships between <code>User</code> and <code>Vote</code> and if <code>Vote</code> doesn't exist, then create it and then connect User.
Should I make the ID for the <code>Vote</code> node something that I can &quot;guess&quot; which would just be Topic.id + Detail.id? So I can just check to see if that ID exists, if not then create it?",neo4j
487,70375593,PostgreSQL: how to simulate long running query,"I need to simulate a long-running Connection to PostgreSQL (f.e. 60 seconds) to verify my application can handle it.
I believe that by adding a few millions rows to a Table would work, however I'd need a more deterministic approach, such as a PostgreSQL Procedure with a function or a loop. That would not require to fill tables at first and empty them at the end of the test.
Can you recommend anything that would work for my case?
Thank to simulate a long-running Connection to PostgreSQL (f.e. 60 seconds) to verify my application can handle it.
I believe that by adding a few millions rows to a Table would work, however I'd need a more deterministic approach, such as a PostgreSQL Procedure with a function or a loop. That would not require to fill tables at first and empty them at the end of the test.
Can you recommend anything that would work for my case?
Thankd to simulate a long-running Connection to PostgreSQL (f.e. 60 seconds) to verify my application can handle it.
I believe that by adding a few millions rows to a Table would work, however I'd need a more deterministic approach, such as a PostgreSQL Procedure with a function or a loop. That would not require to fill tables at first and empty them at the end of the test.
Can you recommend anything that would work for my case?
Thank to simulate a long-running Connection to PostgreSQL (f.e. 60 seconds) to verify my application can handle it.
I believe that by adding a few millions rows to a Table would work, however I'd need a more deterministic approach, such as a PostgreSQL Procedure with a function or a loop. That would not require to fill tables at first and empty them at the end of the test.
Can you recommend anything that would work for my case?
Thanks",postgresql
488,70104162,How to know which column flagged up in MySQL,"Here's a tricky one (I think...)
Let say I have four columns : SKU, UPC, Product_Description and Product_ID
I have this kind of query:

I need all information to be retrieved (product_ID, SKU, UPC and so on...) and must importantly, I must know which column fitted the LIKE (is it UPC or SKU or Product_Description???)
I was thinking about making the ~ same query 3 times (one for the SKU, another one for the UPC, etc) to know which one fitted the like. But I guess there's a better way to do that.",mysql
489,70042290,MySQL query with condition from 2 tables,"I'm new to programming and MySQL and I think this is simple but not for me. So, I have two tables, Tickets and Ticket_user, and I need to get all the fields from the Table Ticket where user_id =15 and ticket_id &gt;8.
Table 1 : Ticket

Table 2 : Ticket_users
<pre><code>   id   ticket_id     User_id
   1     7             15           
   2     8             16
   3     9             15
   4     10            15
   5     11            8
</code></pre>
Result:
<pre><code>  ticket_id     name          ...... other fields
  9             Tickte3             
  10             ticket4
</code></pre>
How can I achieve this?",mysql
490,70116664,PostgreSQL: how do I find all possible object types for pg_event_trigger_dropped_objects,"Can someone tell me where or how to find all possible <strong>object types</strong> for the  pg_event_trigger_dropped_objects
Official <a href=""https://www.postgresql.org/docs/10/functions-event-triggers.html"" rel=""nofollow noreferrer"">documentation </a>about this function doesn't have a list of objects,
I know there is

But what is the rest of the object types?",sql|postgresql
491,70309329,Values inserted to bigint column comes out as date,"My table looks like this;

In the datetime column the intent is to store a unix timestamp. I previously had a colum that kept a &quot;timestamp&quot; datatype. I ran <code>update runlog set 'datetime' unix_timestamp(timestamp) * 1000</code> when I made the change and the previously created records are correct. But from this point on, if I do
<code>insert into runlog  (contentid, contenttype, overlay, datetime, trt) values (3107, 0, 'None', 1639161815692, 185.75 )</code>
in the table, the record inserted says;
<pre><code>'225126', '3107', '0', 'LATE', NULL, NULL, '0', 'East', '20211209230329'
</code></pre>
Why would it take 1639161815692 and return 20211209230329?",mysql
492,70045353,How to add random numbers to mysql row php,"I have a table like this. I want to add random numbers 1 to 40 to the table. But not just one numbers. for example for video id 1, i want to add 3 numbers. and others are random 2 or 3.
<a href=""https://i.stack.imgur.com/klATE.png"" rel=""nofollow noreferrer"">SEE THE IMG</a a table like this. I want to add random numbers 1 to 40 to the table. But not just one numbers. for example for video id 1, i want to add 3 numbers. and others are random 2 or 3.
<a href=""https://i.stack.imgur.com/klATE.png"" rel=""nofollow noreferrer"">SEE THE IMG</ae a table like this. I want to add random numbers 1 to 40 to the table. But not just one numbers. for example for video id 1, i want to add 3 numbers. and others are random 2 or 3.
<a href=""https://i.stack.imgur.com/klATE.png"" rel=""nofollow noreferrer"">SEE THE IMG</a a table like this. I want to add random numbers 1 to 40 to the table. But not just one numbers. for example for video id 1, i want to add 3 numbers. and others are random 2 or 3.
<a href=""https://i.stack.imgur.com/klATE.png"" rel=""nofollow noreferrer"">SEE THE IMG</a>",mysql
493,70089170,How to define an array as a data type and push an integer value in MySql?,"Actually I'm using MySql as a db in Node.js. My app is basically allows users to like the post that others share, so I want to store users IDs that liked the post into an array as a data type, but I'm finding trouble defining the right data type and then push the new user id into that array in mysql query.
I almost spent the whole day looking for my answer but unfortunately i always come across PHP code ! Hopefully someone could give the correct answer.
This is a part of my code :
",mysql
494,70160379,how to insert value and use subquery to insert the last value?,"I have two tables  and <code>shipping_details</code>,

where the shipping id that I need to insert has an address of 'fakeadressstreet'
The values I want to insert are 'Jackson,' mike',12345,(shipping detail id where address is = fakeadressstreet).
the last value I need to insert depends on another column which is my second table no sure how to insert that value but  I hope it makes sense.",mysql
495,70231710,Cannot Add or Update Child Row,"I have code written for a MySQL database containing 5 tables. The code I've written is as follows.

<pre><code>Query OK, 0 rows affected, 2 warnings (0.05 sec)```

```create table REPS(REP_NUM int(2), LAST_NAME char(15), FIRST_NAME char(15), street VARCHAR(15), CITY char(15), STATE char(2), ZIP_CODE int(5), COMM_RATE dec(15,15), primary key (REP_NUM));```

```create table ORDERS(ORDER_NUM int(5), ORDER_DATE date, CUSTOMER_NUM int(3), foreign key(CUSTOMER_NUM) references CUSTOMERS(CUSTOMER_NUM));```

```create index ORDER_LINES_TO_ORDERS_INDEX on ORDERS(ORDER_NUM);```

```create table ORDER_LINES(ORDER_NUM int(5), ITEM_NUM varchar(4), NUM_ORDERED int(3), QUOTED_PRICE varchar(10), foreign key(ORDER_NUM) references ORDERS(ORDER_NUM), foreign key(ITEM_NUM) references ITEMS(ITEM_NUM), primary key(ORDER_NUM,ITEM_NUM));```

When I try to enter data into the table, I keep getting an error back that says &quot;cannot add or update a child row&quot; and I'm not sure why. What is the problem here? How can I rewrite the code to accept data?


    insert into ORDERS VALUES ('51608','2015-10-12','126'), ('51610','2015-10-12','334'), ('51613','2015-10-13','386'), ('51614','2015-10-13','260'), ('51617','2015-10-15','586'), ('51619','2015-10-15','126'), ('51623','2015-10-15','586'); Insert into REPS VALUES  ('15','Campos','Rafael','724 Vinca Dr','Grove','CA','90092','0.06'), ('30','Gradey','Megan','632 Liatris St','Fullton','CA','90085','0.08'), ('45','Tian','Hui','1785 Tyler Ave','Northfield','CA','90098','0.06'), ('60','Sefton','Janet','267 Oakley St','Congaree','CA','90097','0.06');
</code></pre>",mysql
496,70345933,I can get the correct results after deleting the index. But after adding the index the result becomes strange in Postgresql,"I am searching for a long time on net. But no use. Please help or try to give some ideas how to achieve this. name='chen5915' is not found, database also has such a record and execution plan also be found, I think no other characters after 'chen5915' because I can query after deleting the index and name='chen5915' is true.

the result is:
<pre><code>a,b,c,d
&quot;t&quot;,&quot;t&quot;,null,&quot;t&quot; 
</code></pre>
Execution plan result:
<pre><code>Result  (cost=2735.99..2736.00 rows=1 width=4)
  InitPlan 1 (returns $0)
    -&gt;  Index Only Scan using table_name_name_idx on table_name  (cost=0.43..2.65 rows=1 width=1)
          Index Cond: (name = ''::text)
  InitPlan 2 (returns $1)
    -&gt;  Bitmap Heap Scan on table_name table_name_1  (cost=475.90..1365.34 rows=800 width=1)
          Recheck Cond: ((name)::text ~~ '%'::text)
          -&gt;  Bitmap Index Scan on table_name_name_gin_idx  (cost=0.00..475.70 rows=800 width=0)
                Index Cond: ((name)::text ~~ '%'::text)
  InitPlan 3 (returns $2)
    -&gt;  Index Only Scan using table_name_name_idx on table_name table_name_2  (cost=0.43..2.65 rows=1 width=1)
          Index Cond: (name = 'chen5915'::text)
  InitPlan 4 (returns $3)
    -&gt;  Bitmap Heap Scan on table_name table_name_3  (cost=475.90..1365.34 rows=800 width=1)
          Recheck Cond: ((name)::text ~~ '%chen5915'::text)
          -&gt;  Bitmap Index Scan on table_name_name_gin_idx  (cost=0.00..475.70 rows=800 width=0)
                Index Cond: ((name)::text ~~ '%chen5915'::text)
</code></pre>
<pre><code>pg_encoding_to_char,datcollate,datctype
&quot;UTF8&quot;,&quot;zh_CN.utf8&quot;,&quot;zh_CN.utf8&quot;
</code></pre>",postgresql
497,70378584,PostgreSQL match on jsonb property value,"I have a PostgreSQL database with a where one of the columns is a jsonb object with a similar structure as this:

I need a query which returns all rows where <code>MatchObject.MatchOnMe</code> has a specific value
With my current knowledge, I am able to get all rows from the table, that has that object and property on it with the given query:
<pre><code>SELECT id, value, info FROM table WHERE (info -&gt; 'MatchObject')::jsonb ? 'MatchOnMe'
</code></pre>
But I do not know how to get only those that matches a specific value of <code>MatchOnMe</code>, i.e. <code>123</code>
Am I close with the current check, or do I need to do something else?",postgresql
498,70262346,Unable to create a table and import the data from excel using SQL query in PostgreSQL,"I'm using the below SQL query to create a table and copy the values from an excel:

But I'm getting an error:
<pre><code>ERROR:  syntax error at or near &quot;copy&quot;
LINE 14: ) copy teacher ( 
</code></pre>
Could anyone please explain what I'm missing?.",postgresql
499,70082019,"How to fix "" You can't specify target table 'project' for update in FROM clause""","I am getting the error

My query
<pre><code>UPDATE project, id_card 
SET project.family_id = id_card.family_new 
WHERE project.PROJECT_ID = id_card.project 
AND  id_card.code IN( select distinct code from id_card ic
inner join  project p on p.PROJECT_ID = ic.project 
AND  p.current_id_card_version = ic.version 
where ic.id_card_status ='ARCHIVED');
</code></pre>",mysql
